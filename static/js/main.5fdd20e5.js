/*! For license information please see main.5fdd20e5.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(853),i=n(43),a=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var j=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return R(e(t))}catch(ai){}}return null}var P=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],z=-1;function F(e){return{current:e}}function U(e){0>z||(e.current=M[z],M[z]=null,z--)}function V(e,t){z++,M[z]=e.current,e.current=t}var B,q,H=F(null),W=F(null),K=F(null),G=F(null);function Q(e,t){switch(V(K,t),V(W,e),V(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(H),V(H,e)}function Y(){U(H),U(W),U(K)}function X(e){null!==e.memoizedState&&V(G,e);var t=H.current,n=bd(t,e.type);t!==n&&(V(W,e),V(H,n))}function $(e){W.current===e&&(U(H),U(W)),G.current===e&&(U(G),dh._currentValue=L)}function J(e){if(void 0===B)try{throw Error()}catch(ai){var t=ai.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",q=-1<ai.stack.indexOf("\n    at")?" (<anonymous>)":-1<ai.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+q}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(ai){var r=ai}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(ai){return"\nError generating stack: "+ai.message+"\n"+ai.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,se=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(xe(e)/ke|0)|0},xe=Math.log,ke=Math.LN2;var Se=256,Ee=262144,_e=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=Te(r):0!==(s&=o)?i=Te(s):n||0!==(n=o&~e)&&(i=Te(n)):0!==(o=r&~a)?i=Te(o):0!==s?i=Te(s):n||0!==(n=r&~e)&&(i=Te(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function je(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ie(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Oe(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Le(n))&(e.suspendedLanes|t))?0:n}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:Ch(e.type)}function Fe(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var Ue=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Ue,Be="__reactProps$"+Ue,qe="__reactContainer$"+Ue,He="__reactEvents$"+Ue,We="__reactListeners$"+Ue,Ke="__reactHandles$"+Ue,Ge="__reactResources$"+Ue,Qe="__reactMarker$"+Ue;function Ye(e){delete e[Ve],delete e[Be],delete e[He],delete e[We],delete e[Ke]}function Xe(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[Ve]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Md(e);null!==e;){if(n=e[Ve])return n;e=Md(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[Ve]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},ot={};function lt(e,t,n){if(i=t,re.call(ot,i)||!re.call(st,i)&&(at.test(i)?ot[i]=!0:(st[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?wt(e,s,dt(t)):null!=n?wt(e,s,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),ft(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(P(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Tt(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&Tt(e,a,t[a])}function jt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var Pt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Lt=null;function Mt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Be]||null;if(!i)throw Error(s(90));yt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var zt=!1;function Ft(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Ot||null!==Lt)&&(eu(),Ot&&(t=Ot,e=Lt,Lt=Ot=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Be]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Vt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Vt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Jh){Bt=!1}var Ht=null,Wt=null,Kt=null;function Gt(){if(Kt)return Kt;var e,t,n=Wt,r=n.length,i="value"in Ht?Ht.value:Ht.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Xt(){return!1}function $t(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Yt:Xt,this.isPropagationStopped=Xt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=$t(tn),rn=f({},tn,{view:0,detail:0}),an=$t(rn),sn=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),on=$t(sn),ln=$t(f({},sn,{dataTransfer:0})),cn=$t(f({},rn,{relatedTarget:0})),un=$t(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=$t(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=$t(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function vn(){return gn}var yn=$t(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=$t(f({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=$t(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),xn=$t(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=$t(f({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=$t(f({},tn,{newState:0,oldState:0})),En=[9,13,27,32],_n=Vt&&"CompositionEvent"in window,Tn=null;Vt&&"documentMode"in document&&(Tn=document.documentMode);var Cn=Vt&&"TextEvent"in window&&!Tn,jn=Vt&&(!_n||Tn&&8<Tn&&11>=Tn),Nn=String.fromCharCode(32),In=!1;function An(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function Ln(e,t,n,r){Ot?Lt?Lt.push(r):Lt=[r]:Ot=r,0<(t=id(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,zn=null;function Fn(e){Xu(e,0)}function Un(e){if(pt(Je(e)))return e}function Vn(e,t){if("change"===e)return t}var Bn=!1;if(Vt){var qn;if(Vt){var Hn="oninput"in document;if(!Hn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Hn="function"===typeof Wn.oninput}qn=Hn}else qn=!1;Bn=qn&&(!document.documentMode||9<document.documentMode)}function Kn(){Mn&&(Mn.detachEvent("onpropertychange",Gn),zn=Mn=null)}function Gn(e){if("value"===e.propertyName&&Un(zn)){var t=[];Ln(t,zn,e,Dt(e)),Ft(Fn,t)}}function Qn(e,t,n){"focusin"===e?(Kn(),zn=n,(Mn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Kn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(zn)}function Xn(e,t){if("click"===e)return Un(t)}function $n(e,t){if("input"===e||"change"===e)return Un(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=Vt&&"documentMode"in document&&11>=document.documentMode,sr=null,or=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==sr||sr!==mt(r)||("selectionStart"in(r=sr)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=id(or,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}Vt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=mr("animationend"),vr=mr("animationiteration"),yr=mr("animationstart"),br=mr("transitionrun"),wr=mr("transitionstart"),xr=mr("transitioncancel"),kr=mr("transitionend"),Sr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Sr.set(e,t),rt(t,[e])}Er.push("scrollEnd");var Tr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Cr=[],jr=0,Nr=0;function Ir(){for(var e=jr,t=Nr=jr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var a=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Dr(n,i,a)}}function Ar(e,t,n,r){Cr[jr++]=e,Cr[jr++]=t,Cr[jr++]=n,Cr[jr++]=r,Nr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Ar(e,t,n,r),Or(e)}function Pr(e,t){return Ar(e,null,null,t),Or(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-we(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Or(e){if(50<Wc)throw Wc=0,Kc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Lr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Mr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,i,a){var o=0;if(r=e,"function"===typeof e)Fr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=zr(31,n,t,i)).elementType=C,e.lanes=a,e;case v:return qr(n.children,i,a,t);case y:o=8,i|=24;break;case b:return(e=zr(12,n,t,2|i)).elementType=b,e.lanes=a,e;case S:return(e=zr(13,n,t,i)).elementType=S,e.lanes=a,e;case E:return(e=zr(19,n,t,i)).elementType=E,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case w:o=9;break e;case k:o=11;break e;case _:o=14;break e;case T:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=zr(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function qr(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Wr(e){var t=zr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=new WeakMap;function Qr(e,t){if("object"===typeof e&&null!==e){var n=Gr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Gr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],Xr=0,$r=null,Jr=0,Zr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Yr[Xr++]=Jr,Yr[Xr++]=$r,$r=e,Jr=t}function si(e,t,n){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-we(r)-1;r&=~(1<<i),n+=1;var a=32-we(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ni=1<<32-we(t)+i|n<<i|r,ri=a+e}else ni=1<<a|n<<i|r,ri=e}function oi(e){null!==e.return&&(ii(e,1),si(e,1,0))}function li(e){for(;e===$r;)$r=Yr[--Xr],Yr[Xr]=null,Jr=Yr[--Xr],Yr[Xr]=null;for(;e===ti;)ti=Zr[--ei],Zr[ei]=null,ri=Zr[--ei],Zr[ei]=null,ni=Zr[--ei],Zr[ei]=null}function ci(e,t){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ui=null,di=null,hi=!1,fi=null,pi=!1,mi=Error(s(519));function gi(e){throw ki(Qr(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mi}function vi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ve]=e,t[Be]=r,n){case"dialog":$u("cancel",t),$u("close",t);break;case"iframe":case"object":case"embed":$u("load",t);break;case"video":case"audio":for(n=0;n<Qu.length;n++)$u(Qu[n],t);break;case"source":$u("error",t);break;case"img":case"image":case"link":$u("error",t),$u("load",t);break;case"details":$u("toggle",t);break;case"input":$u("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":$u("invalid",t);break;case"textarea":$u("invalid",t),St(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&($u("beforetoggle",t),$u("toggle",t)),null!=r.onScroll&&$u("scroll",t),null!=r.onScrollEnd&&$u("scrollend",t),null!=r.onClick&&(t.onclick=Rt),t=!0):t=!1,t||gi(e,!0)}function yi(e){for(ui=e.return;ui;)switch(ui.tag){case 5:case 31:case 13:return void(pi=!1);case 27:case 3:return void(pi=!0);default:ui=ui.return}}function bi(e){if(e!==ui)return!1;if(!hi)return yi(e),hi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wd(e.type,e.memoizedProps)),t=!t),t&&di&&gi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));di=Ld(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));di=Ld(e)}else 27===n?(n=di,Cd(e.type)?(e=Od,Od=null,di=e):di=n):di=ui?Dd(e.stateNode.nextSibling):null;return!0}function wi(){di=ui=null,hi=!1}function xi(){var e=fi;return null!==e&&(null===Ac?Ac=e:Ac.push.apply(Ac,e),fi=null),e}function ki(e){null===fi?fi=[e]:fi.push(e)}var Si=F(null),Ei=null,_i=null;function Ti(e,t,n){V(Si,t._currentValue),t._currentValue=n}function Ci(e){e._currentValue=Si.current,U(Si)}function ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ji(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),ji(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Ii(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=i.type;Jn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(o=i.alternate))throw Error(s(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}i=i.return}null!==e&&Ni(t,e,n,r),t.flags|=262144}function Ai(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ri(e){Ei=e,_i=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Pi(e){return Oi(Ei,e)}function Di(e,t){return null===Ei&&Ri(e),Oi(e,t)}function Oi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===_i){if(null===e)throw Error(s(308));_i=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _i=_i.next=t;return n}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Mi=r.unstable_scheduleCallback,zi=r.unstable_NormalPriority,Fi={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Li,data:new Map,refCount:0}}function Vi(e){e.refCount--,0===e.refCount&&Mi(zi,function(){e.controller.abort()})}var Bi=null,qi=0,Hi=0,Wi=null;function Ki(){if(0===--qi&&null!==Bi){null!==Wi&&(Wi.status="fulfilled");var e=Bi;Bi=null,Hi=0,Wi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=D.S;D.S=function(e,t){Dc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bi){var n=Bi=[];qi=0,Hi=qu(),Wi={status:"pending",value:void 0,then:function(e){n.push(e)}}}qi++,t.then(Ki,Ki)}(0,t),null!==Gi&&Gi(e,t)};var Qi=F(null);function Yi(){var e=Qi.current;return null!==e?e:mc.pooledCache}function Xi(e,t){V(Qi,null===t?Qi.current:t.pool)}function $i(){var e=Yi();return null===e?null:{parent:Fi._currentValue,pool:e}}var Ji=Error(s(460)),Zi=Error(s(474)),ea=Error(s(542)),ta={then:function(){}};function na(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ra(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e;default:if("string"===typeof t.status)t.then(Rt,Rt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e}throw aa=t,Ji}}function ia(e){try{return(0,e._init)(e._payload)}catch(ai){if(null!==ai&&"object"===typeof ai&&"function"===typeof ai.then)throw aa=ai,Ji;throw ai}}var aa=null;function sa(){if(null===aa)throw Error(s(459));var e=aa;return aa=null,e}function oa(e){if(e===Ji||e===ea)throw Error(s(483))}var la=null,ca=0;function ua(e){var t=ca;return ca+=1,null===la&&(la=[]),ra(la,e,t)}function da(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ha(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===T&&ia(a)===t.type)?(da(t=i(t,n.props),n),t.return=e,t):(da(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=qr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return da(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Kr(t,e.mode,n)).return=e,t;case T:return h(e,t=ia(t),n)}if(P(t)||I(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,ua(t),n);if(t.$$typeof===x)return h(e,Di(e,t),n);ha(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=ia(n),r)}if(P(n)||I(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,ua(n),r);if(n.$$typeof===x)return f(e,t,Di(e,n),r);ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return p(e,t,n,r=ia(r),i)}if(P(r)||I(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,ua(r),i);if(r.$$typeof===x)return p(e,t,n,Di(t,r),i);ha(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===v){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&ia(b)===c.type){n(l,c.sibling),da(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=qr(u.props.children,l.mode,d,u.key)).return=l,l=d):(da(d=Br(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Kr(u,l.mode,d)).return=l,l=d}return o(l);case T:return y(l,c,u=ia(u),d)}if(P(u))return function(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),hi&&ii(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return hi&&ii(i,m),c}for(d=r(d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),hi&&ii(i,m),c}(l,c,u,d);if(I(u)){if("function"!==typeof(b=I(u)))throw Error(s(150));return function(i,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),hi&&ii(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return hi&&ii(i,g),u}for(m=r(m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),hi&&ii(i,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,ua(u),d);if(u.$$typeof===x)return y(l,c,Di(l,u),d);ha(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Hr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{ca=0;var i=y(e,t,n,r);return la=null,i}catch(ai){if(ai===Ji||ai===ea)throw ai;var a=zr(29,ai,null,e.mode);return a.lanes=r,a.return=e,a}}}var pa=fa(!0),ma=fa(!1),ga=!1;function va(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ya(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Dr(e,null,n),t}return Ar(e,r,t,n),Or(e)}function xa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function ka(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Sa=!1;function Ea(){if(Sa){if(null!==Wi)throw Wi}}function _a(e,t,n,r){Sa=!1;var i=e.updateQueue;ga=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(vc&h)===h:(r&h)===h){0!==h&&h===Hi&&(Sa=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:ga=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),_c|=s,e.lanes=s,e.memoizedState=d}}function Ta(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Ca(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ta(n[e],t)}var ja=F(null),Na=F(0);function Ia(e,t){V(Na,e=Sc),V(ja,t),Sc=e|t.baseLanes}function Aa(){V(Na,Sc),V(ja,ja.current)}function Ra(){Sc=Na.current,U(ja),U(Na)}var Pa=F(null),Da=null;function Oa(e){var t=e.alternate;V(Ua,1&Ua.current),V(Pa,e),null===Da&&(null===t||null!==ja.current||null!==t.memoizedState)&&(Da=e)}function La(e){V(Ua,Ua.current),V(Pa,e),null===Da&&(Da=e)}function Ma(e){22===e.tag?(V(Ua,Ua.current),V(Pa,e),null===Da&&(Da=e)):za()}function za(){V(Ua,Ua.current),V(Pa,Pa.current)}function Fa(e){U(Pa),Da===e&&(Da=null),U(Ua)}var Ua=F(0);function Va(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Rd(n)||Pd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=0,qa=null,Ha=null,Wa=null,Ka=!1,Ga=!1,Qa=!1,Ya=0,Xa=0,$a=null,Ja=0;function Za(){throw Error(s(321))}function es(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function ts(e,t,n,r,i,a){return Ba=a,qa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?vo:yo,Qa=!1,a=n(r,i),Qa=!1,Ga&&(a=rs(t,n,r,i)),ns(e),a}function ns(e){D.H=go;var t=null!==Ha&&null!==Ha.next;if(Ba=0,Wa=Ha=qa=null,Ka=!1,Xa=0,$a=null,t)throw Error(s(300));null===e||Do||null!==(e=e.dependencies)&&Ai(e)&&(Do=!0)}function rs(e,t,n,r){qa=e;var i=0;do{if(Ga&&($a=null),Xa=0,Ga=!1,25<=i)throw Error(s(301));if(i+=1,Wa=Ha=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}D.H=bo,a=t(n,r)}while(Ga);return a}function is(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?us(t):t,e=e.useState()[0],(null!==Ha?Ha.memoizedState:null)!==e&&(qa.flags|=1024),t}function as(){var e=0!==Ya;return Ya=0,e}function ss(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function os(e){if(Ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ka=!1}Ba=0,Wa=Ha=qa=null,Ga=!1,Xa=Ya=0,$a=null}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wa?qa.memoizedState=Wa=e:Wa=Wa.next=e,Wa}function cs(){if(null===Ha){var e=qa.alternate;e=null!==e?e.memoizedState:null}else e=Ha.next;var t=null===Wa?qa.memoizedState:Wa.next;if(null!==t)Wa=t,Ha=e;else{if(null===e){if(null===qa.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Ha=e).memoizedState,baseState:Ha.baseState,baseQueue:Ha.baseQueue,queue:Ha.queue,next:null},null===Wa?qa.memoizedState=Wa=e:Wa=Wa.next=e}return Wa}function us(e){var t=Xa;return Xa+=1,null===$a&&($a=[]),e=ra($a,e,t),t=qa,null===(null===Wa?t.memoizedState:Wa.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?vo:yo),e}function ds(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return us(e);if(e.$$typeof===x)return Pi(e)}throw Error(s(438,String(e)))}function hs(e){var t=null,n=qa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=qa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=j;return t.index++,n}function fs(e,t){return"function"===typeof t?t(e):t}function ps(e){return ms(cs(),Ha,e)}function ms(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(vc&h)===h:(Ba&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Hi&&(d=!0);else{if((Ba&f)===f){u=u.next,f===Hi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,qa.lanes|=f,_c|=f}h=u.action,Qa&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,qa.lanes|=h,_c|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!Jn(a,e.memoizedState)&&(Do=!0,d&&null!==(n=Wi)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gs(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Jn(a,t.memoizedState)||(Do=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function vs(e,t,n){var r=qa,i=cs(),a=hi;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Jn((Ha||i).memoizedState,n);if(o&&(i.memoizedState=n,Do=!0),i=i.queue,Bs(ws.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==Wa&&1&Wa.memoizedState.tag){if(r.flags|=2048,Ms(9,{destroy:void 0},bs.bind(null,r,i,n,t),null),null===mc)throw Error(s(349));a||0!==(127&Ba)||ys(r,t,n)}return n}function ys(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=qa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bs(e,t,n,r){t.value=n,t.getSnapshot=r,xs(t)&&ks(e)}function ws(e,t,n){return n(function(){xs(t)&&ks(e)})}function xs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function ks(e){var t=Pr(e,2);null!==t&&Yc(t,e,2)}function Ss(e){var t=ls();if("function"===typeof e){var n=e;if(e=n(),Qa){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e},t}function Es(e,t,n,r){return e.baseState=n,ms(e,Ha,"function"===typeof r?r:fs)}function _s(e,t,n,r,i){if(fo(e))throw Error(s(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==D.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,Ts(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Ts(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=D.T,s={};D.T=s;try{var o=n(i,r),l=D.S;null!==l&&l(s,o),Cs(e,t,o)}catch(c){Ns(e,t,c)}finally{null!==a&&null!==s.types&&(a.types=s.types),D.T=a}}else try{Cs(e,t,a=n(i,r))}catch(u){Ns(e,t,u)}}function Cs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){js(e,t,n)},function(n){return Ns(e,t,n)}):js(e,t,n)}function js(e,t,n){t.status="fulfilled",t.value=n,Is(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ts(e,n)))}function Ns(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Is(t),t=t.next}while(t!==r)}e.action=null}function Is(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function As(e,t){return t}function Rs(e,t){if(hi){var n=mc.formState;if(null!==n){e:{var r=qa;if(hi){if(di){t:{for(var i=di,a=pi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=Dd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){di=Dd(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=ls()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:t},n.queue=r,n=co.bind(null,qa,r),r.dispatch=n,r=Ss(!1),a=ho.bind(null,qa,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ls()).queue=i,n=_s.bind(null,qa,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ps(e){return Ds(cs(),Ha,e)}function Ds(e,t,n){if(t=ms(e,t,As)[0],e=ps(fs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=us(t)}catch(ai){if(ai===Ji)throw ea;throw ai}else r=t;var i=(t=cs()).queue,a=i.dispatch;return n!==t.memoizedState&&(qa.flags|=2048,Ms(9,{destroy:void 0},Os.bind(null,i,n),null)),[r,a,e]}function Os(e,t){e.action=t}function Ls(e){var t=cs(),n=Ha;if(null!==n)return Ds(t,n,e);cs(),t=t.memoizedState;var r=(n=cs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ms(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=qa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zs(){return cs().memoizedState}function Fs(e,t,n,r){var i=ls();qa.flags|=e,i.memoizedState=Ms(1|t,{destroy:void 0},n,void 0===r?null:r)}function Us(e,t,n,r){var i=cs();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Ha&&null!==r&&es(r,Ha.memoizedState.deps)?i.memoizedState=Ms(t,a,n,r):(qa.flags|=e,i.memoizedState=Ms(1|t,a,n,r))}function Vs(e,t){Fs(8390656,8,e,t)}function Bs(e,t){Us(2048,8,e,t)}function qs(e){var t=cs().memoizedState;return function(e){qa.flags|=4;var t=qa.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qa.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Hs(e,t){return Us(4,2,e,t)}function Ws(e,t){return Us(4,4,e,t)}function Ks(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Gs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Us(4,4,Ks.bind(null,t,e),n)}function Qs(){}function Ys(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&es(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&es(t,r[1]))return r[0];if(r=e(),Qa){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function $s(e,t,n){return void 0===n||0!==(1073741824&Ba)&&0===(261930&vc)?e.memoizedState=t:(e.memoizedState=n,e=Qc(),qa.lanes|=e,_c|=e,n)}function Js(e,t,n,r){return Jn(n,t)?n:null!==ja.current?(e=$s(e,n,r),Jn(e,t)||(Do=!0),e):0===(42&Ba)||0!==(1073741824&Ba)&&0===(261930&vc)?(Do=!0,e.memoizedState=n):(e=Qc(),qa.lanes|=e,_c|=e,t)}function Zs(e,t,n,r,i){var a=O.p;O.p=0!==a&&8>a?a:8;var s=D.T,o={};D.T=o,ho(e,!1,t,n);try{var l=i(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)uo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Gc());else uo(e,t,r,Gc())}catch(u){uo(e,t,{then:function(){},status:"rejected",reason:u},Gc())}finally{O.p=a,null!==s&&null!==o.types&&(s.types=o.types),D.T=s}}function eo(){}function to(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=no(e).queue;Zs(e,i,t,L,null===n?eo:function(){return ro(e),n(r)})}function no(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=no(e);null===t.next&&(t=e.alternate.memoizedState),uo(e,t.next.queue,{},Gc())}function io(){return Pi(dh)}function ao(){return cs().memoizedState}function so(){return cs().memoizedState}function oo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gc(),r=wa(t,e=ba(n),n);return null!==r&&(Yc(r,t,n),xa(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function lo(e,t,n){var r=Gc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fo(e)?po(t,n):null!==(n=Rr(e,t,n,r))&&(Yc(n,e,r),mo(n,t,r))}function co(e,t,n){uo(e,t,n,Gc())}function uo(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fo(e))po(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Jn(o,s))return Ar(e,t,i,0),null===mc&&Ir(),!1}catch(l){}if(null!==(n=Rr(e,t,i,r)))return Yc(n,e,r),mo(n,t,r),!0}return!1}function ho(e,t,n,r){if(r={lane:2,revertLane:qu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fo(e)){if(t)throw Error(s(479))}else null!==(t=Rr(e,n,r,2))&&Yc(t,e,2)}function fo(e){var t=e.alternate;return e===qa||null!==t&&t===qa}function po(e,t){Ga=Ka=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var go={readContext:Pi,use:ds,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useLayoutEffect:Za,useInsertionEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useDeferredValue:Za,useTransition:Za,useSyncExternalStore:Za,useId:Za,useHostTransitionStatus:Za,useFormState:Za,useActionState:Za,useOptimistic:Za,useMemoCache:Za,useCacheRefresh:Za};go.useEffectEvent=Za;var vo={readContext:Pi,use:ds,useCallback:function(e,t){return ls().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:Vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fs(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fs(4194308,4,e,t)},useInsertionEffect:function(e,t){Fs(4,2,e,t)},useMemo:function(e,t){var n=ls();t=void 0===t?null:t;var r=e();if(Qa){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ls();if(void 0!==n){var i=n(t);if(Qa){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=lo.bind(null,qa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ls().memoizedState=e},useState:function(e){var t=(e=Ss(e)).queue,n=co.bind(null,qa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qs,useDeferredValue:function(e,t){return $s(ls(),e,t)},useTransition:function(){var e=Ss(!1);return e=Zs.bind(null,qa,e.queue,!0,!1),ls().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=qa,i=ls();if(hi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===mc)throw Error(s(349));0!==(127&vc)||ys(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Vs(ws.bind(null,r,a,e),[e]),r.flags|=2048,Ms(9,{destroy:void 0},bs.bind(null,r,a,n,t),null),n},useId:function(){var e=ls(),t=mc.identifierPrefix;if(hi){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-we(ni)-1)).toString(32)+n),0<(n=Ya++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Ja++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:io,useFormState:Rs,useActionState:Rs,useOptimistic:function(e){var t=ls();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ho.bind(null,qa,!0,n),n.dispatch=t,[e,t]},useMemoCache:hs,useCacheRefresh:function(){return ls().memoizedState=oo.bind(null,qa)},useEffectEvent:function(e){var t=ls(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(s(440));return n.impl.apply(void 0,arguments)}}},yo={readContext:Pi,use:ds,useCallback:Ys,useContext:Pi,useEffect:Bs,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:Ws,useMemo:Xs,useReducer:ps,useRef:zs,useState:function(){return ps(fs)},useDebugValue:Qs,useDeferredValue:function(e,t){return Js(cs(),Ha.memoizedState,e,t)},useTransition:function(){var e=ps(fs)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:vs,useId:ao,useHostTransitionStatus:io,useFormState:Ps,useActionState:Ps,useOptimistic:function(e,t){return Es(cs(),0,e,t)},useMemoCache:hs,useCacheRefresh:so};yo.useEffectEvent=qs;var bo={readContext:Pi,use:ds,useCallback:Ys,useContext:Pi,useEffect:Bs,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:Ws,useMemo:Xs,useReducer:gs,useRef:zs,useState:function(){return gs(fs)},useDebugValue:Qs,useDeferredValue:function(e,t){var n=cs();return null===Ha?$s(n,e,t):Js(n,Ha.memoizedState,e,t)},useTransition:function(){var e=gs(fs)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:vs,useId:ao,useHostTransitionStatus:io,useFormState:Ls,useActionState:Ls,useOptimistic:function(e,t){var n=cs();return null!==Ha?Es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hs,useCacheRefresh:so};function wo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bo.useEffectEvent=qs;var xo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=ba(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=wa(e,i,r))&&(Yc(t,e,r),xa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=ba(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=wa(e,i,r))&&(Yc(t,e,r),xa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gc(),r=ba(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=wa(e,r,n))&&(Yc(t,e,n),xa(t,e,n))}};function ko(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,a))}function So(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xo.enqueueReplaceState(t,t.state,null)}function Eo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function _o(e){Tr(e)}function To(e){console.error(e)}function Co(e){Tr(e)}function jo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function No(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Io(e,t,n){return(n=ba(n)).tag=3,n.payload={element:null},n.callback=function(){jo(e,t)},n}function Ao(e){return(e=ba(e)).tag=3,e}function Ro(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){No(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){No(t,n,r),"function"!==typeof i&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Po=Error(s(461)),Do=!1;function Oo(e,t,n,r){t.child=null===e?ma(t,null,n,r):pa(t,e.child,n,r)}function Lo(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Ri(t),r=ts(e,t,n,s,a,i),o=as(),null===e||Do?(hi&&o&&oi(t),t.flags|=1,Oo(e,t,r,i),t.child):(ss(e,t,i),al(e,t,i))}function Mo(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Fr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,zo(e,t,a,r,i))}if(a=e.child,!sl(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(s,r)&&e.ref===t.ref)return al(e,t,i)}return t.flags|=1,(e=Ur(a,r)).ref=t.ref,e.return=t,t.child=e}function zo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Zn(a,r)&&e.ref===t.ref){if(Do=!1,t.pendingProps=r=a,!sl(e,i))return t.lanes=e.lanes,al(e,t,i);0!==(131072&e.flags)&&(Do=!0)}}return Wo(e,t,n,r,i)}function Fo(e,t,n,r){var i=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return Vo(e,t,a,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Vo(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xi(0,null!==a?a.cachePool:null),null!==a?Ia(t,a):Aa(),Ma(t)}else null!==a?(Xi(0,a.cachePool),Ia(t,a),za(),t.memoizedState=null):(null!==e&&Xi(0,null),Aa(),za());return Oo(e,t,i,n),t.child}function Uo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vo(e,t,n,r,i){var a=Yi();return a=null===a?null:{parent:Fi._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Xi(0,null),Aa(),Ma(t),null!==e&&Ii(e,t,r,!0),t.childLanes=i,null}function Bo(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qo(e,t,n){return pa(t,e.child,null,n),(e=Bo(t,t.pendingProps)).flags|=2,Fa(t),t.memoizedState=null,e}function Ho(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Wo(e,t,n,r,i){return Ri(t),n=ts(e,t,n,r,void 0,i),r=as(),null===e||Do?(hi&&r&&oi(t),t.flags|=1,Oo(e,t,n,i),t.child):(ss(e,t,i),al(e,t,i))}function Ko(e,t,n,r,i,a){return Ri(t),t.updateQueue=null,n=rs(t,r,n,i),ns(e),r=as(),null===e||Do?(hi&&r&&oi(t),t.flags|=1,Oo(e,t,n,a),t.child):(ss(e,t,a),al(e,t,a))}function Go(e,t,n,r,i){if(Ri(t),null===t.stateNode){var a=Lr,s=n.contextType;"object"===typeof s&&null!==s&&(a=Pi(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=xo,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},va(t),s=n.contextType,a.context="object"===typeof s&&null!==s?Pi(s):Lr,a.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(wo(t,n,s,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(s=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&xo.enqueueReplaceState(a,a.state,null),_a(t,r,a,i),Ea(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=Eo(n,o);a.props=l;var c=a.context,u=n.contextType;s=Lr,"object"===typeof u&&null!==u&&(s=Pi(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==s)&&So(t,a,r,s),ga=!1;var h=t.memoizedState;a.state=h,_a(t,r,a,i),Ea(),c=t.memoizedState,o||h!==c||ga?("function"===typeof d&&(wo(t,n,d,r),c=t.memoizedState),(l=ga||ko(t,n,l,r,h,c,s))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ya(e,t),u=Eo(n,s=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Lr,"object"===typeof c&&null!==c&&(l=Pi(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&So(t,a,r,l),ga=!1,h=t.memoizedState,a.state=h,_a(t,r,a,i),Ea();var f=t.memoizedState;s!==d||h!==f||ga||null!==e&&null!==e.dependencies&&Ai(e.dependencies)?("function"===typeof o&&(wo(t,n,o,r),f=t.memoizedState),(u=ga||ko(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ai(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ho(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=pa(t,e.child,null,i),t.child=pa(t,null,n,i)):Oo(e,t,n,i),t.memoizedState=a.state,e=t.child):e=al(e,t,i),e}function Qo(e,t,n,r){return wi(),t.flags|=256,Oo(e,t,n,r),t.child}var Yo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xo(e){return{baseLanes:e,cachePool:$i()}}function $o(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=jc),e}function Jo(e,t,n){var r,i=t.pendingProps,a=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ua.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(hi){if(a?Oa(t):za(),(e=di)?null!==(e=null!==(e=Ad(e,pi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,ui=t,di=null):e=null,null===e)throw gi(t);return Pd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,a?(za(),l=el({mode:"hidden",children:l},a=t.mode),i=qr(i,a,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Xo(n),i.childLanes=$o(e,r,n),t.memoizedState=Yo,Uo(null,i)):(Oa(t),Zo(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Oa(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(za(),t.child=e.child,t.flags|=128,t=null):(za(),l=i.fallback,a=t.mode,i=el({mode:"visible",children:i.children},a),(l=qr(l,a,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,pa(t,e.child,null,n),(i=t.child).memoizedState=Xo(n),i.childLanes=$o(e,r,n),t.memoizedState=Yo,t=Uo(null,i));else if(Oa(t),Pd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,ki({value:i,source:null,stack:null}),t=tl(e,t,n)}else if(Do||Ii(e,t,n,!1),r=0!==(n&e.childLanes),Do||r){if(null!==(r=mc)&&(0!==(i=Oe(r,n))&&i!==c.retryLane))throw c.retryLane=i,Pr(e,i),Yc(r,e,i),Po;Rd(l)||ou(),t=tl(e,t,n)}else Rd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,di=Dd(l.nextSibling),ui=t,hi=!0,fi=null,pi=!1,null!==e&&ci(t,e),(t=Zo(t,i.children)).flags|=4096);return t}return a?(za(),l=i.fallback,a=t.mode,u=(c=e.child).sibling,(i=Ur(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Ur(u,l):(l=qr(l,a,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Uo(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Xo(n):(null!==(a=l.cachePool)?(c=Fi._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=$i(),l={baseLanes:l.baseLanes|n,cachePool:a}),i.memoizedState=l,i.childLanes=$o(e,r,n),t.memoizedState=Yo,Uo(e.child,i)):(Oa(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zo(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=zr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return pa(t,e.child,null,n),(e=Zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ji(e.return,t,n)}function rl(e,t,n,r,i,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function il(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=Ua.current,o=0!==(2&s);if(o?(s=1&s|2,t.flags|=128):s&=1,V(Ua,s),Oo(e,t,r,n),r=hi?Jr:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Va(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rl(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Va(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rl(t,!0,n,null,a,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function al(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_c|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ii(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ai(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Do=!0;else{if(!sl(e,n)&&0===(128&t.flags))return Do=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),Ti(0,Fi,e.memoizedState.cache),wi();break;case 27:case 5:X(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:Ti(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,La(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Oa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Jo(e,t,n):(Oa(t),null!==(e=al(e,t,n))?e.sibling:null);Oa(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ii(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return il(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(Ua,Ua.current),r)break;return null;case 22:return t.lanes=0,Fo(e,t,n,t.pendingProps);case 24:Ti(0,Fi,e.memoizedState.cache)}return al(e,t,n)}(e,t,n);Do=0!==(131072&e.flags)}else Do=!1,hi&&0!==(1048576&t.flags)&&si(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ia(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===k){t.tag=11,t=Lo(null,t,e,r,n);break e}if(i===_){t.tag=14,t=Mo(null,t,e,r,n);break e}}throw t=R(e)||e,Error(s(306,t,""))}Fr(e)?(r=Eo(e,r),t.tag=1,t=Go(null,t,e,r,n)):(t.tag=0,t=Wo(null,t,e,r,n))}return t;case 0:return Wo(e,t,t.type,t.pendingProps,n);case 1:return Go(e,t,r=t.type,i=Eo(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ya(e,t),_a(t,r,null,n);var o=t.memoizedState;if(r=o.cache,Ti(0,Fi,r),r!==a.cache&&Ni(t,[Fi],n,!0),Ea(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Qo(e,t,r,n);break e}if(r!==i){ki(i=Qr(Error(s(424)),t)),t=Qo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(di=Dd(e.firstChild),ui=t,hi=!0,fi=null,pi=!0,n=ma(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wi(),r===i){t=al(e,t,n);break e}Oo(e,t,r,n)}t=t.child}return t;case 26:return Ho(e,t),null===e?(n=Kd(t.type,null,t.pendingProps,null))?t.memoizedState=n:hi||(n=t.type,e=t.pendingProps,(r=vd(K.current).createElement(n))[Ve]=t,r[Be]=e,fd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Kd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&hi&&(r=t.stateNode=zd(t.type,t.pendingProps,K.current),ui=t,pi=!0,i=di,Cd(t.type)?(Od=i,di=Dd(r.firstChild)):di=i),Oo(e,t,t.pendingProps.children,n),Ho(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hi&&((i=r=di)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=Dd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,pi))?(t.stateNode=r,ui=t,di=Dd(r.firstChild),pi=!1,i=!0):i=!1),i||gi(t)),X(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,wd(i,a)?r=null:null!==o&&wd(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=ts(e,t,is,null,null,n),dh._currentValue=i),Ho(e,t),Oo(e,t,r,n),t.child;case 6:return null===e&&hi&&((e=n=di)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}(n,t.pendingProps,pi))?(t.stateNode=n,ui=t,di=null,e=!0):e=!1),e||gi(t)),null;case 13:return Jo(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=pa(t,null,r,n):Oo(e,t,r,n),t.child;case 11:return Lo(e,t,t.type,t.pendingProps,n);case 7:return Oo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ti(0,t.type,r.value),Oo(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ri(t),r=r(i=Pi(i)),t.flags|=1,Oo(e,t,r,n),t.child;case 14:return Mo(e,t,t.type,t.pendingProps,n);case 15:return zo(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(hi){if("hidden"===r.mode)return e=Bo(t,r),t.lanes=536870912,Uo(null,e);if(La(t),(e=di)?null!==(e=null!==(e=Ad(e,pi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,ui=t,di=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return Bo(t,r)}var a=e.memoizedState;if(null!==a){var o=a.dehydrated;if(La(t),i)if(256&t.flags)t.flags&=-257,t=qo(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Do||Ii(e,t,n,!1),i=0!==(n&e.childLanes),Do||i){if(null!==(r=mc)&&0!==(o=Oe(r,n))&&o!==a.retryLane)throw a.retryLane=o,Pr(e,o),Yc(r,e,o),Po;ou(),t=qo(e,t,n)}else e=a.treeContext,di=Dd(o.nextSibling),ui=t,hi=!0,fi=null,pi=!1,null!==e&&ci(t,e),(t=Bo(t,r)).flags|=4096;return t}return(e=Ur(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fo(e,t,n,t.pendingProps);case 24:return Ri(t),r=Pi(Fi),null===e?(null===(i=Yi())&&(i=mc,a=Ui(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},va(t),Ti(0,Fi,i)):(0!==(e.lanes&n)&&(ya(e,t),_a(t,null,null,n),Ea()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ti(0,Fi,r)):(r=a.cache,Ti(0,Fi,r),r!==i.cache&&Ni(t,[Fi],n,!0))),Oo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw aa=ta,Zi;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ah(t)){if(!iu())throw aa=ta,Zi;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ie():536870912,e.lanes|=t,Nc|=t)}function hl(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(li(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ci(Fi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bi(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xi())),fl(t),null;case 26:var i=t.type,a=t.memoizedState;return null===e?(ll(t),null!==a?(fl(t),ul(t,a)):(fl(t),cl(t,i,0,0,n))):a?a!==e.memoizedState?(ll(t),fl(t),ul(t,a)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),fl(t),cl(t,i,0,0,n)),null;case 27:if($(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return fl(t),null}e=H.current,bi(t)?vi(t):(e=zd(i,r,n),t.stateNode=e,ll(t))}return fl(t),null;case 5:if($(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return fl(t),null}if(a=H.current,bi(t))vi(t);else{var o=vd(K.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(a=o.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"===typeof r.is?o.createElement(i,{is:r.is}):o.createElement(i)}}a[Ve]=t,a[Be]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)a.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=a;e:switch(fd(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return fl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=K.current,bi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ui))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ve]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||gi(t,!0)}else(e=vd(e).createTextNode(r))[Ve]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bi(t),null!==n){if(null===e){if(!r)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Ve]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Fa(t),t):(Fa(t),null);if(0!==(128&t.flags))throw Error(s(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=bi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Ve]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),i=!1}else i=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Fa(t),t):(Fa(t),null)}return Fa(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),fl(t),null);case 4:return Y(),null===e&&ed(t.stateNode.containerInfo),fl(t),null;case 10:return Ci(t.type),fl(t),null;case 19:if(U(Ua),null===(r=t.memoizedState))return fl(t),null;if(i=0!==(128&t.flags),null===(a=r.rendering))if(i)hl(r,!1);else{if(0!==Ec||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Va(e))){for(t.flags|=128,hl(r,!1),e=a.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vr(n,e),n=n.sibling;return V(Ua,1&Ua.current|2),hi&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Oc&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Va(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!hi)return fl(t),null}else 2*le()-r.renderingStartTime>Oc&&536870912!==n&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Ua.current,V(Ua,i?1&n|2:1&n),hi&&ii(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return Fa(t),Ra(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ci(Fi),fl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function ml(e,t){switch(li(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ci(Fi),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 31:if(null!==t.memoizedState){if(Fa(t),null===t.alternate)throw Error(s(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fa(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(Ua),null;case 4:return Y(),null;case 10:return Ci(t.type),null;case 22:case 23:return Fa(t),Ra(),null!==e&&U(Qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ci(Fi),null;default:return null}}function gl(e,t){switch(li(t),t.tag){case 3:Ci(Fi),Y();break;case 26:case 27:case 5:$(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Fa(t);break;case 13:Fa(t);break;case 19:U(Ua);break;case 10:Ci(t.type);break;case 22:case 23:Fa(t),Ra(),null!==e&&U(Qi);break;case 24:Ci(Fi)}}function vl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){Eu(t,t.return,o)}}function yl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){Eu(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){Eu(t,t.return,u)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ca(t,n)}catch(r){Eu(e,e.return,r)}}}function wl(e,t,n){n.props=Eo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Eu(e,t,r)}}function xl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Eu(e,t,i)}}function kl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){Eu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){Eu(e,t,a)}else n.current=null}function Sl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Eu(e,e.return,i)}}function El(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||dd(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&dd(e,t,f,p,r,h)}}return void yt(e,o,l,c,u,d,a,i);case"select":for(a in p=o=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||dd(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&dd(e,t,i,a,r,c)}return t=l,n=o,r=p,void(null!=f?xt(e,!!n,f,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==a&&dd(e,t,o,i,r,a)}return void kt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else dd(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else dd(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&dd(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:dd(e,t,u,f,r,p)}return;default:if(jt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&hd(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||hd(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&dd(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||dd(e,t,h,f,r,p)}(r,e.type,n,t),r[Be]=t}catch(i){Eu(e,e.return,i)}}function _l(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cd(e.type)||4===e.tag}function Tl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_l(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Rt));else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function jl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(jl(e,t,n),e=e.sibling;null!==e;)jl(e,t,n),e=e.sibling}function Nl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fd(t,r,n),t[Ve]=e,t[Be]=n}catch(a){Eu(e,e.return,a)}}var Il=!1,Al=!1,Rl=!1,Pl="function"===typeof WeakSet?WeakSet:Set,Dl=null;function Ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Yl(e,n),4&r&&vl(5,n);break;case 1:if(Yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){Eu(n,n.return,s)}else{var i=Eo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Eu(n,n.return,o)}}64&r&&bl(n),512&r&&xl(n,n.return);break;case 3:if(Yl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ca(e,t)}catch(s){Eu(n,n.return,s)}}break;case 27:null===t&&4&r&&Nl(n);case 26:case 5:Yl(e,n),null===t&&4&r&&Sl(n),512&r&&xl(n,n.return);break;case 12:Yl(e,n);break;case 31:Yl(e,n),4&r&&Vl(e,n);break;case 13:Yl(e,n),4&r&&Bl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=ju.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Il)){t=null!==t&&null!==t.memoizedState||Al,i=Il;var a=Al;Il=r,(Al=t)&&!a?$l(e,n,0!==(8772&n.subtreeFlags)):Yl(e,n),Il=i,Al=a}break;case 30:break;default:Yl(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,zl=!1;function Fl(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(a){}switch(n.tag){case 26:Al||kl(n,t),Fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Al||kl(n,t);var r=Ml,i=zl;Cd(n.type)&&(Ml=n.stateNode,zl=!1),Fl(e,t,n),Fd(n.stateNode),Ml=r,zl=i;break;case 5:Al||kl(n,t);case 6:if(r=Ml,i=zl,Ml=null,Fl(e,t,n),zl=i,null!==(Ml=r))if(zl)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(s){Eu(n,t,s)}else try{Ml.removeChild(n.stateNode)}catch(s){Eu(n,t,s)}break;case 18:null!==Ml&&(zl?(jd(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wh(e)):jd(Ml,n.stateNode));break;case 4:r=Ml,i=zl,Ml=n.stateNode.containerInfo,zl=!0,Fl(e,t,n),Ml=r,zl=i;break;case 0:case 11:case 14:case 15:yl(2,n,t),Al||yl(4,n,t),Fl(e,t,n);break;case 1:Al||(kl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:Al=(r=Al)||null!==n.memoizedState,Fl(e,t,n),Al=r;break;default:Fl(e,t,n)}}function Vl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wh(e)}catch(n){Eu(t,t.return,n)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wh(e)}catch(n){Eu(t,t.return,n)}}function ql(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Pl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Pl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Nu.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Cd(l.type)){Ml=l.stateNode,zl=!1;break e}break;case 5:Ml=l.stateNode,zl=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,zl=!0;break e}l=l.return}if(null===Ml)throw Error(s(160));Ul(a,o,i),Ml=null,zl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Kl(t,e),t=t.sibling}var Wl=null;function Kl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Gl(e),4&r&&(yl(3,e,e.return),vl(3,e),yl(5,e,e.return));break;case 1:Hl(t,e),Gl(e),512&r&&(Al||null===n||kl(n,n.return)),64&r&&Il&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Wl;if(Hl(t,e),Gl(e),512&r&&(Al||null===n||kl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Qe]||a[Ve]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),fd(a,r,n),a[Ve]=e,et(a),r=a;break e;case"link":var o=rh("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}fd(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(o=rh("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}fd(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(s(468,r))}a[Ve]=e,et(a),r=a}e.stateNode=r}else ih(i,e.type,e.stateNode);else e.stateNode=Jd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?ih(i,e.type,e.stateNode):Jd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&El(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Gl(e),512&r&&(Al||null===n||kl(n,n.return)),null!==n&&4&r&&El(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Gl(e),512&r&&(Al||null===n||kl(n,n.return)),32&e.flags){i=e.stateNode;try{Et(i,"")}catch(m){Eu(e,e.return,m)}}4&r&&null!=e.stateNode&&El(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Rl=!0);break;case 6:if(Hl(t,e),Gl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Eu(e,e.return,m)}}break;case 3:if(nh=null,i=Wl,Wl=Bd(t.containerInfo),Hl(t,e),Wl=i,Gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wh(t.containerInfo)}catch(m){Eu(e,e.return,m)}Rl&&(Rl=!1,Ql(e));break;case 4:r=Wl,Wl=Bd(e.stateNode.containerInfo),Hl(t,e),Gl(e),Wl=r;break;case 12:default:Hl(t,e),Gl(e);break;case 31:case 19:Hl(t,e),Gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 13:Hl(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Pc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Il,d=Al;if(Il=u||i,Al=d||c,Hl(t,e),Al=d,Il=u,Gl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Il||Al||Xl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){Eu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){Eu(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Nd(p,!0):Nd(c.stateNode,!1)}catch(m){Eu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,ql(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(_l(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;jl(e,Tl(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(Et(a,""),n.flags&=-33),jl(e,Tl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;Cl(e,Tl(e),o);break;default:throw Error(s(161))}}catch(l){Eu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ol(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yl(4,t,t.return),Xl(t);break;case 1:kl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&wl(t,t.return,n),Xl(t);break;case 27:Fd(t.stateNode);case 26:case 5:kl(t,t.return),Xl(t);break;case 22:null===t.memoizedState&&Xl(t);break;default:Xl(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:$l(i,a,n),vl(4,a);break;case 1:if($l(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Eu(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Ta(l[i],o)}catch(c){Eu(r,r.return,c)}}n&&64&s&&bl(a),xl(a,a.return);break;case 27:Nl(a);case 26:case 5:$l(i,a,n),n&&null===r&&4&s&&Sl(a),xl(a,a.return);break;case 12:$l(i,a,n);break;case 31:$l(i,a,n),n&&4&s&&Vl(i,a);break;case 13:$l(i,a,n),n&&4&s&&Bl(i,a);break;case 22:null===a.memoizedState&&$l(i,a,n),xl(a,a.return);break;case 30:break;default:$l(i,a,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Vi(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&i&&vl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e)));break;case 12:if(2048&i){ec(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Eu(t,t.return,l)}}else ec(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?ec(e,t,n,r):rc(e,t):2&a._visibility?ec(e,t,n,r):(a._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Jl(s,t);break;case 24:ec(e,t,n,r),2048&i&&Zl(t.alternate,t)}}function nc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:nc(a,s,o,l,i),vl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?nc(a,s,o,l,i):rc(a,s):(u._visibility|=2,nc(a,s,o,l,i)),i&&2048&c&&Jl(s.alternate,s);break;case 24:nc(a,s,o,l,i),i&&2048&c&&Zl(s.alternate,s);break;default:nc(a,s,o,l,i)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:rc(n,r),2048&i&&Jl(r.alternate,r);break;case 24:rc(n,r),2048&i&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ic=8192;function ac(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)sc(e,t,n),e=e.sibling}function sc(e,t,n){switch(e.tag){case 26:ac(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Gd(r.href),a=t.querySelector(Qd(i));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=oh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void et(a);a=t.ownerDocument||t,r=Yd(r),(i=Ud.get(i))&&eh(r,i),et(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),fd(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=oh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Wl,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,n);break;case 3:case 4:var r=Wl;Wl=Bd(e.stateNode.containerInfo),ac(e,t,n),Wl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ic,ic=16777216,ac(e,t,n),ic=r):ac(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,dc(r,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&yl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,dc(r,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==Dl;){var n=Dl;switch(n.tag){case 0:case 11:case 15:yl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Vi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Dl=r;else e:for(n=e;null!==Dl;){var i=(r=Dl).sibling,a=r.return;if(Ll(r),r===n){Dl=null;break e}if(null!==i){i.return=a,Dl=i;break e}Dl=a}}}var hc={getCacheForType:function(e){var t=Pi(Fi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Pi(Fi).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,pc=0,mc=null,gc=null,vc=0,yc=0,bc=null,wc=!1,xc=!1,kc=!1,Sc=0,Ec=0,_c=0,Tc=0,Cc=0,jc=0,Nc=0,Ic=null,Ac=null,Rc=!1,Pc=0,Dc=0,Oc=1/0,Lc=null,Mc=null,zc=0,Fc=null,Uc=null,Vc=0,Bc=0,qc=null,Hc=null,Wc=0,Kc=null;function Gc(){return 0!==(2&pc)&&0!==vc?vc&-vc:null!==D.T?qu():ze()}function Qc(){if(0===jc)if(0===(536870912&vc)||hi){var e=Ee;0===(3932160&(Ee<<=1))&&(Ee=262144),jc=e}else jc=536870912;return null!==(e=Pa.current)&&(e.flags|=32),jc}function Yc(e,t,n){(e!==mc||2!==yc&&9!==yc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,vc,jc,!1)),Re(e,n),0!==(2&pc)&&e===mc||(e===mc&&(0===(2&pc)&&(Tc|=n),4===Ec&&Zc(e,vc,jc,!1)),Lu(e))}function Xc(e,t,n){if(0!==(6&pc))throw Error(s(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||je(e,t),i=r?function(e,t){var n=pc;pc|=2;var r=au(),i=su();mc!==e||vc!==t?(Lc=null,Oc=le()+500,nu(e,t)):xc=je(e,t);e:for(;;)try{if(0!==yc&&null!==gc){t=gc;var a=bc;t:switch(yc){case 1:yc=0,bc=null,fu(e,t,a,1);break;case 2:case 9:if(na(a)){yc=0,bc=null,hu(t);break}t=function(){2!==yc&&9!==yc||mc!==e||(yc=7),Lu(e)},a.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:na(a)?(yc=0,bc=null,hu(t)):(yc=0,bc=null,fu(e,t,a,7));break;case 5:var o=null;switch(gc.tag){case 26:o=gc.memoizedState;case 5:case 27:var l=gc;if(o?ah(o):l.stateNode.complete){yc=0,bc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,pu(u)):gc=null}break t}}yc=0,bc=null,fu(e,t,a,5);break;case 6:yc=0,bc=null,fu(e,t,a,6);break;case 8:tu(),Ec=6;break e;default:throw Error(s(462))}}uu();break}catch(d){ru(e,d)}return _i=Ei=null,D.H=r,D.A=i,pc=n,null!==gc?0:(mc=null,vc=0,Ir(),Ec)}(e,t):lu(e,t,!0),a=r;;){if(0===i){xc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!a||Jc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=Ic;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,o).flags|=256),2!==(o=lu(l,o,!1))){if(kc&&!c){l.errorRecoveryDisabledLanes|=a,Tc|=a,i=4;break e}a=Ac,Ac=i,null!==a&&(null===Ac?Ac=a:Ac.push.apply(Ac,a))}i=o}if(a=!1,2!==i)continue}}if(1===i){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,jc,!wc);break e;case 2:Ac=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Pc+300-le())){if(Zc(r,t,jc,!wc),0!==Ce(r,0,!0))break e;Vc=t,r.timeoutHandle=kd($c.bind(null,r,n,Ac,Lc,Rc,t,jc,Tc,Nc,wc,a,"Throttled",-0,0),i)}else $c(r,n,Ac,Lc,Rc,t,jc,Tc,Nc,wc,a,null,-0,0)}break}i=lu(e,t,!1),a=!1}Lu(e)}function $c(e,t,n,r,i,a,s,o,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){sc(t,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var p=(62914560&a)===a?Pc-le():(4194048&a)===a?Dc-le():0;if(p=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&pd(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(s+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(a+s)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p),null!==p)return Vc=a,e.cancelPendingCommit=p(gu.bind(null,e,t,a,n,r,i,s,o,l,u,d,null,h,f)),void Zc(e,a,s,!c)}gu(e,t,a,n,r,i,s,o,l)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Jn(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Cc,t&=~Tc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-we(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&Pe(e,n,t)}function eu(){return 0!==(6&pc)||(Mu(0,!1),!1)}function tu(){if(null!==gc){if(0===yc)var e=gc.return;else _i=Ei=null,os(e=gc),la=null,ca=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Sd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc=0,tu(),mc=e,gc=n=Ur(e.current,null),vc=t,yc=0,bc=null,wc=!1,xc=je(e,t),kc=!1,Nc=jc=Cc=Tc=_c=Ec=0,Ac=Ic=null,Rc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),a=1<<i;t|=e[i],r&=~a}return Sc=t,Ir(),n}function ru(e,t){qa=null,D.H=go,t===Ji||t===ea?(t=sa(),yc=3):t===Zi?(t=sa(),yc=4):yc=t===Po?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===gc&&(Ec=1,jo(e,Qr(t,e.current)))}function iu(){var e=Pa.current;return null===e||((4194048&vc)===vc?null===Da:((62914560&vc)===vc||0!==(536870912&vc))&&e===Da)}function au(){var e=D.H;return D.H=go,null===e?go:e}function su(){var e=D.A;return D.A=hc,e}function ou(){Ec=4,wc||(4194048&vc)!==vc&&null!==Pa.current||(xc=!0),0===(134217727&_c)&&0===(134217727&Tc)||null===mc||Zc(mc,vc,jc,!1)}function lu(e,t,n){var r=pc;pc|=2;var i=au(),a=su();mc===e&&vc===t||(Lc=null,nu(e,t)),t=!1;var s=Ec;e:for(;;)try{if(0!==yc&&null!==gc){var o=gc,l=bc;switch(yc){case 8:tu(),s=6;break e;case 3:case 2:case 9:case 6:null===Pa.current&&(t=!0);var c=yc;if(yc=0,bc=null,fu(e,o,l,c),n&&xc){s=0;break e}break;default:c=yc,yc=0,bc=null,fu(e,o,l,c)}}cu(),s=Ec;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,_i=Ei=null,pc=r,D.H=i,D.A=a,null===gc&&(mc=null,vc=0,Ir()),s}function cu(){for(;null!==gc;)du(gc)}function uu(){for(;null!==gc&&!se();)du(gc)}function du(e){var t=ol(e.alternate,e,Sc);e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ko(n,t,t.pendingProps,t.type,void 0,vc);break;case 11:t=Ko(n,t,t.pendingProps,t.type.render,t.ref,vc);break;case 5:os(t);default:gl(n,t),t=ol(n,t=gc=Vr(t,Sc),Sc)}e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function fu(e,t,n,r){_i=Ei=null,os(t),la=null,ca=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ii(t,n,i,!0),null!==(n=Pa.current)){switch(n.tag){case 31:case 13:return null===Da?ou():null===n.alternate&&0===Ec&&(Ec=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ta?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),_u(e,r,i)),!1;case 22:return n.flags|=65536,r===ta?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),_u(e,r,i)),!1}throw Error(s(435,n.tag))}return _u(e,r,i),ou(),!1}if(hi)return null!==(t=Pa.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==mi&&ki(Qr(e=Error(s(422),{cause:r}),n))):(r!==mi&&ki(Qr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Qr(r,n),ka(e,i=Io(e.stateNode,r,i)),4!==Ec&&(Ec=2)),!1;var a=Error(s(520),{cause:r});if(a=Qr(a,n),null===Ic?Ic=[a]:Ic.push(a),4!==Ec&&(Ec=2),null===t)return!0;r=Qr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ka(n,e=Io(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Mc||!Mc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Ro(i=Ao(i),e,n,r),ka(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,vc))return Ec=1,jo(e,Qr(n,e.current)),void(gc=null)}catch(a){if(null!==i)throw gc=i,a;return Ec=1,jo(e,Qr(n,e.current)),void(gc=null)}32768&t.flags?(hi||1===r?e=!0:xc||0!==(536870912&vc)?e=!1:(wc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Pa.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,wc);e=t.return;var n=pl(t.alternate,t,Sc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===Ec&&(Ec=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);Ec=6,gc=null}function gu(e,t,n,r,i,a,o,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==zc);if(0!==(6&pc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-we(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Pe(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,a|=Nr,o,l,c),e===mc&&(gc=mc=null,vc=0),Uc=t,Fc=e,Vc=n,Bc=a,qc=i,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return ku(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,i=O.p,O.p=2,o=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,md=wh,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},wh=!1,Dl=t;null!==Dl;)if(e=(t=Dl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Dl=e;else for(;null!==Dl;){switch(a=(t=Dl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=Eo(n.type,i);e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){Eu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Id(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Id(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Dl=e;break}Dl=t.return}}(e,t)}finally{pc=o,O.p=i,D.T=r}}zc=1,vu(),yu(),bu()}}function vu(){if(1===zc){zc=0;var e=Fc,t=Uc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=O.p;O.p=2;var i=pc;pc|=4;try{Kl(t,e);var a=gd,s=rr(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&nr(o.ownerDocument.documentElement,o)){if(null!==l&&ir(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var v=tr(o,m),y=tr(o,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}wh=!!md,gd=md=null}finally{pc=i,O.p=r,D.T=n}}e.current=t,zc=2}}function yu(){if(2===zc){zc=0;var e=Fc,t=Uc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=O.p;O.p=2;var i=pc;pc|=4;try{Ol(e,t.alternate,t)}finally{pc=i,O.p=r,D.T=n}}zc=3}}function bu(){if(4===zc||3===zc){zc=0,oe();var e=Fc,t=Uc,n=Vc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?zc=5:(zc=0,Uc=Fc=null,wu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Mc=null),Me(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,i=O.p,O.p=2,D.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{D.T=t,O.p=i}}0!==(3&Vc)&&xu(),Lu(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Kc?Wc++:(Wc=0,Kc=e):Wc=0,Mu(0,!1)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Vi(t)))}function xu(){return vu(),yu(),bu(),ku()}function ku(){if(5!==zc)return!1;var e=Fc,t=Bc;Bc=0;var n=Me(Vc),r=D.T,i=O.p;try{O.p=32>n?32:n,D.T=null,n=qc,qc=null;var a=Fc,o=Vc;if(zc=0,Uc=Fc=null,Vc=0,0!==(6&pc))throw Error(s(331));var l=pc;if(pc|=4,cc(a.current),tc(a,a.current,o,n),pc=l,Mu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,a)}catch(c){}return!0}finally{O.p=i,D.T=r,wu(e,t)}}function Su(e,t,n){t=Qr(n,t),null!==(e=wa(e,t=Io(e.stateNode,t,2),2))&&(Re(e,2),Lu(e))}function Eu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))){e=Qr(n,e),null!==(r=wa(t,n=Ao(2),2))&&(Ro(n,r,t,e),Re(r,2),Lu(r));break}}t=t.return}}function _u(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(kc=!0,i.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(vc&n)===n&&(4===Ec||3===Ec&&(62914560&vc)===vc&&300>le()-Pc?0===(2&pc)&&nu(e,0):Cc|=n,Nc===vc&&(Nc=0)),Lu(e)}function Cu(e,t){0===t&&(t=Ie()),null!==(e=Pr(e,t))&&(Re(e,t),Lu(e))}function ju(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cu(e,n)}var Iu=null,Au=null,Ru=!1,Pu=!1,Du=!1,Ou=0;function Lu(e){e!==Au&&null===e.next&&(null===Au?Iu=Au=e:Au=Au.next=e),Pu=!0,Ru||(Ru=!0,_d(function(){0!==(6&pc)?ie(ue,zu):Fu()}))}function Mu(e,t){if(!Du&&Pu){Du=!0;do{for(var n=!1,r=Iu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-we(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Bu(r,a))}else a=vc,0===(3&(a=Ce(r,r===mc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||je(r,a)||(n=!0,Bu(r,a));r=r.next}}while(n);Du=!1}}function zu(){Fu()}function Fu(){Pu=Ru=!1;var e=0;0!==Ou&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xd&&(xd=e,!0);return xd=null,!1}()&&(e=Ou);for(var t=le(),n=null,r=Iu;null!==r;){var i=r.next,a=Uu(r,t);0===a?(r.next=null,null===n?Iu=i:n.next=i,null===i&&(Au=n)):(n=r,(0!==e||0!==(3&a))&&(Pu=!0)),r=i}0!==zc&&5!==zc||Mu(e,!1),0!==Ou&&(Ou=0)}function Uu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-we(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=Ne(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=vc,n=Ce(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||je(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),Me(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=Vu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function Vu(e,t){if(0!==zc&&5!==zc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=vc;return 0===(r=Ce(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xc(e,r,t),Uu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Vu.bind(null,e):null)}function Bu(e,t){if(xu())return null;Xc(e,t,!0)}function qu(){if(0===Ou){var e=Hi;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Ou=e}return Ou}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Wu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ku=0;Ku<Er.length;Ku++){var Gu=Er[Ku];_r(Gu.toLowerCase(),"on"+(Gu[0].toUpperCase()+Gu.slice(1)))}_r(gr,"onAnimationEnd"),_r(vr,"onAnimationIteration"),_r(yr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(br,"onTransitionRun"),_r(wr,"onTransitionStart"),_r(xr,"onTransitionCancel"),_r(kr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Xu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){Tr(u)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){Tr(u)}i.currentTarget=null,a=l}}}}function $u(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yu.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Ju("selectionchange",!1,t))}}function td(e,t,n,r){switch(Ch(t)){case 2:var i=xh;break;case 8:i=kh;break;default:i=Sh}n=i.bind(null,t,n,e),i=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==o;){if(null===(s=Xe(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=a=s;continue e}o=o.parentNode}}r=r.return}Ft(function(){var r=a,i=Dt(n),s=[];e:{var o=Sr.get(e);if(void 0!==o){var c=nn,u=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case gr:case vr:case yr:c=un;break;case kr:c=xn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=Sn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ut(m,f))&&d.push(rd(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,i),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!Xe(u)&&!u[qe])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Xe(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=on,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:Je(c),p=null==u?o:Je(u),(o=new d(g,m+"leave",c,n,i)).target=h,o.relatedTarget=p,g=null,Xe(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=ad,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var v=m;v;v=d(v))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&sd(s,o,c,d,!1),null!==u&&null!==h&&sd(s,h,u,d,!0)}if("select"===(c=(o=r?Je(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Vn;else if(On(o))if(Bn)y=$n;else{y=Yn;var b=Qn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&jt(r.elementType)&&(y=Vn):y=Xn;switch(y&&(y=y(e,r))?Ln(s,y,n,i):(b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&wt(o,"number",o.value)),b=r?Je(r):window,e){case"focusin":(On(b)||"true"===b.contentEditable)&&(sr=b,or=r,lr=null);break;case"focusout":lr=or=sr=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(s,n,i);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":ur(s,n,i)}var w;if(_n)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Pn?An(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(jn&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Pn&&(w=Gt()):(Wt="value"in(Ht=i)?Ht.value:Ht.textContent,Pn=!0)),0<(b=id(r,x)).length&&(x=new hn(x,e,null,n,i),s.push({event:x,listeners:b}),w?x.data=w:null!==(w=Rn(n))&&(x.data=w))),(w=Cn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(In=!0,Nn);case"textInput":return(e=t.data)===Nn&&In?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!_n&&An(e,t)?(e=Gt(),Kt=Wt=Ht=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=id(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,i),s.push({event:b,listeners:x}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Hu((i[Be]||null).action),s=r.submitter;s&&null!==(t=(t=s[Be]||null)?Hu(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new nn("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ou){var e=s?Wu(i,s):new FormData(i);to(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=s?Wu(i,s):new FormData(i),to(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}Xu(s,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Ut(e,n))&&r.unshift(rd(e,i,a)),null!=(i=Ut(e,t))&&r.push(rd(e,i,a))),3===e.tag)return r;e=e.return}return[]}function ad(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sd(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Ut(n,a))&&s.unshift(rd(n,c,l)):i||null!=(c=Ut(n,a))&&s.push(rd(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var od=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(od,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Ct(e,r,a);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&dd(e,t,"name",i.name,i,null),dd(e,t,"formEncType",i.formEncType,i,null),dd(e,t,"formMethod",i.formMethod,i,null),dd(e,t,"formTarget",i.formTarget,i,null)):(dd(e,t,"encType",i.encType,i,null),dd(e,t,"method",i.method,i,null),dd(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"onScroll":null!=r&&$u("scroll",e);break;case"onScrollEnd":null!=r&&$u("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":$u("beforetoggle",e),$u("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Nt.get(n)||n,r)}}function hd(e,t,n,r,i,a){switch(n){case"style":Ct(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Et(e,r):("number"===typeof r||"bigint"===typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&$u("scroll",e);break;case"onScrollEnd":null!=r&&$u("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Be]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function fd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$u("error",e),$u("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:dd(e,t,r,o,n,null)}}return a&&dd(e,t,"srcSet",n.srcSet,n,null),void(i&&dd(e,t,"src",n.src,n,null));case"input":$u("invalid",e);var l=r=o=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:dd(e,t,i,d,n,null)}}return void bt(e,r,l,c,u,o,a,!1);case"select":for(a in $u("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:dd(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?xt(e,!!i,t,!1):null!=n&&xt(e,!!i,n,!0));case"textarea":for(o in $u("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:dd(e,t,o,l,n,null)}return void St(e,i,a,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else dd(e,t,c,i,n,null);return;case"dialog":$u("beforetoggle",e),$u("toggle",e),$u("cancel",e),$u("close",e);break;case"iframe":case"object":$u("load",e);break;case"video":case"audio":for(i=0;i<Qu.length;i++)$u(Qu[i],e);break;case"image":$u("error",e),$u("load",e);break;case"details":$u("toggle",e);break;case"embed":case"source":case"link":$u("error",e),$u("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:dd(e,t,u,i,n,null)}return;default:if(jt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&hd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&dd(e,t,l,i,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,gd=null;function vd(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xd=null;var kd="function"===typeof setTimeout?setTimeout:void 0,Sd="function"===typeof clearTimeout?clearTimeout:void 0,Ed="function"===typeof Promise?Promise:void 0,_d="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Ed?function(e){return Ed.resolve(null).then(e).catch(Td)}:kd;function Td(e){setTimeout(function(){throw e})}function Cd(e){return"head"===e}function jd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Wh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Fd(e.ownerDocument.documentElement);else if("head"===n){Fd(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[Qe]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}else"body"===n&&Fd(e.ownerDocument.body);n=i}while(n);Wh(t)}function Nd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Id(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Id(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ad(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}function Rd(e){return"$?"===e.data||"$~"===e.data}function Pd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Dd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Od=null;function Ld(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Dd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function zd(e,t,n){switch(t=vd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Fd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Ud=new Map,Vd=new Set;function Bd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qd=O.d;O.d={f:function(){var e=qd.f(),t=eu();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):qd.r(e)},D:function(e){qd.D(e),Wd("dns-prefetch",e,null)},C:function(e,t){qd.C(e,t),Wd("preconnect",e,t)},L:function(e,t,n){qd.L(e,t,n);var r=Hd;if(r&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var a=i;switch(t){case"style":a=Gd(e);break;case"script":a=Xd(e)}Ud.has(a)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ud.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Qd(a))||"script"===t&&r.querySelector($d(a))||(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){qd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Xd(e)}if(!Ud.has(a)&&(e=f({rel:"modulepreload",href:e},t),Ud.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($d(a)))return}fd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){qd.X(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,i=Xd(e),a=r.get(i);a||((a=n.querySelector($d(i)))||(e=f({src:e,async:!0},t),(t=Ud.get(i))&&th(e,t),et(a=n.createElement("script")),fd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){qd.S(e,t,n);var r=Hd;if(r&&e){var i=Ze(r).hoistableStyles,a=Gd(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Qd(a)))o.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ud.get(a))&&eh(e,n);var l=s=r.createElement("link");et(l),fd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Zd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){qd.M(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,i=Xd(e),a=r.get(i);a||((a=n.querySelector($d(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Ud.get(i))&&th(e,t),et(a=n.createElement("script")),fd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Hd="undefined"===typeof document?null:document;function Wd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Vd.has(i)||(Vd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Kd(e,t,n,r){var i,a,o,l,c=(c=K.current)?Bd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Qd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ud.set(e,n),u||(i=c,a=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),fd(a,"link",o),et(a),i.head.appendChild(a))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Xd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Gd(e){return'href="'+vt(e)+'"'}function Qd(e){return'link[rel="stylesheet"]['+e+"]"}function Yd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Xd(e){return'[src="'+vt(e)+'"]'}function $d(e){return"script[async]"+e}function Jd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fd(r,"style",i),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Gd(n.href);var a=e.querySelector(Qd(i));if(a)return t.state.loading|=4,t.instance=a,et(a),a;r=Yd(n),(i=Ud.get(i))&&eh(r,i),et(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fd(a,"link",r),t.state.loading|=4,Zd(a,n.precedence,e),t.instance=a;case"script":return a=Xd(n.src),(i=e.querySelector($d(a)))?(t.instance=i,et(i),i):(r=n,(i=Ud.get(a))&&th(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),fd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nh=null;function rh(e,t,n){if(null===nh){var r=new Map,i=nh=new Map;i.set(n,r)}else(r=(i=nh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Qe]||a[Ve]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function ih(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ah(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sh=0;function oh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(uh,e),lh=null,oh.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=lh.get(e);if(n)var r=n.get(null);else{n=new Map,lh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=oh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var dh={$$typeof:x,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function hh(e,t,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fh(e,t,n,r,i,a,s,o,l,c,u,d){return e=new hh(e,t,n,s,l,c,u,d,o),t=1,!0===a&&(t|=24),a=zr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},va(a),e}function ph(e){return e?e=Lr:Lr}function mh(e,t,n,r,i,a){i=ph(i),null===r.context?r.context=i:r.pendingContext=i,(r=ba(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=wa(e,r,t))&&(Yc(n,0,t),xa(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function vh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function yh(e){if(13===e.tag||31===e.tag){var t=Pr(e,67108864);null!==t&&Yc(t,0,67108864),vh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Gc(),n=Pr(e,t=Le(t));null!==n&&Yc(n,0,t),vh(e,t)}}var wh=!0;function xh(e,t,n,r){var i=D.T;D.T=null;var a=O.p;try{O.p=2,Sh(e,t,n,r)}finally{O.p=a,D.T=i}}function kh(e,t,n,r){var i=D.T;D.T=null;var a=O.p;try{O.p=8,Sh(e,t,n,r)}finally{O.p=a,D.T=i}}function Sh(e,t,n,r){if(wh){var i=Eh(r);if(null===i)nd(e,t,r,_h,n),Lh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nh=Mh(Nh,e,t,n,r,i),!0;case"dragenter":return Ih=Mh(Ih,e,t,n,r,i),!0;case"mouseover":return Ah=Mh(Ah,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rh.set(a,Mh(Rh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ph.set(a,Mh(Ph.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lh(e,r),4&t&&-1<Oh.indexOf(e)){for(;null!==i;){var a=$e(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=Te(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-we(s);o.entanglements[1]|=l,s&=~l}Lu(a),0===(6&pc)&&(Oc=le()+500,Mu(0,!1))}}break;case 31:case 13:null!==(o=Pr(a,2))&&Yc(o,0,2),eu(),vh(a,2)}if(null===(a=Eh(r))&&nd(e,t,r,_h,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else nd(e,t,r,null,n)}}function Eh(e){return Th(e=Dt(e))}var _h=null;function Th(e){if(_h=null,null!==(e=Xe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _h=e,null}function Ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var jh=!1,Nh=null,Ih=null,Ah=null,Rh=new Map,Ph=new Map,Dh=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":Nh=null;break;case"dragenter":case"dragleave":Ih=null;break;case"mouseover":case"mouseout":Ah=null;break;case"pointerover":case"pointerout":Rh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ph.delete(t.pointerId)}}function Mh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=$e(t))&&yh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zh(e){var t=Xe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Fe(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Fe(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Fh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Eh(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&yh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function Uh(e,t,n){Fh(e)&&n.delete(t)}function Vh(){jh=!1,null!==Nh&&Fh(Nh)&&(Nh=null),null!==Ih&&Fh(Ih)&&(Ih=null),null!==Ah&&Fh(Ah)&&(Ah=null),Rh.forEach(Uh),Ph.forEach(Uh)}function Bh(e,t){e.blockedOn===t&&(e.blockedOn=null,jh||(jh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Vh)))}var qh=null;function Hh(e){qh!==e&&(qh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Th(r||n))continue;break}var a=$e(n);null!==a&&(e.splice(t,3),t-=3,to(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Wh(e){function t(t){return Bh(t,e)}null!==Nh&&Bh(Nh,e),null!==Ih&&Bh(Ih,e),null!==Ah&&Bh(Ah,e),Rh.forEach(t),Ph.forEach(t);for(var n=0;n<Dh.length;n++){var r=Dh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Dh.length&&null===(n=Dh[0]).blockedOn;)zh(n),null===n.blockedOn&&Dh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Be]||null;if("function"===typeof a)s||Hh(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Be]||null)o=s.formAction;else if(null!==Th(i))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Hh(n)}}}function Kh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Gh(e){this._internalRoot=e}function Qh(e){this._internalRoot=e}Qh.prototype.render=Gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));mh(t.current,Gc(),e,t,null,null)},Qh.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),eu(),t[qe]=null}},Qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dh.length&&0!==t&&t<Dh[n].priority;n++);Dh.splice(n,0,e),0===n&&zh(e)}};var Yh=i.version;if("19.2.3"!==Yh)throw Error(s(527,Yh,"19.2.3"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return d(i),e;if(a===r)return d(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Xh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{ve=$h.inject(Xh),ye=$h}catch(Zh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",i=_o,a=To,l=Co;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fh(e,1,!1,null,0,n,r,null,i,a,l,Kh),e[qe]=t.current,ed(e),new Gh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,i="",a=_o,l=To,c=Co,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fh(e,1,!0,t,0,r,i,u,a,l,c,Kh)).context=ph(null),n=t.current,(i=ba(r=Le(r=Gc()))).callback=null,wa(n,i,r),n=r,t.current.lanes=n,Re(t,n),Lu(t),e[qe]=t.current,ed(e),new Qh(t)},t.version="19.2.3"},43(e,t,n){e.exports=n(288)},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var x=w.prototype=new b;x.constructor=w,g(x,y.prototype),x.isPureReactComponent=!0;var k=Array.isArray;function S(){}var E={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function T(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return I((u=e._init)(e._payload),t,i,a,s)}}if(u)return s=s(e),u=""===a?"."+N(e,0):a,k(s)?(i="",null!=u&&(i=u.replace(j,"$&/")+"/"),I(s,t,i,"",function(e){return e})):null!=s&&(C(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(j,"$&/")+"/")+u,s=T(l.type,c,l.props)),t.push(s)),1;u=0;var d,f=""===a?".":a+":";if(k(e))for(var m=0;m<e.length;m++)u+=I(a=e[m],t,i,o=f+N(a,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=I(a=a.value,t,i,o=f+N(a,m++),s);else if("object"===o){if("function"===typeof e.then)return I(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},D={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=D,t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.key&&(i=""+t.key),t)!_.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return T(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return T(e,a,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),i=E.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(S,P)}catch(a){P(a)}finally{null!==t&&null!==n.types&&(t.types=n.types),E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return E.H.useEffect(e,t)},t.useEffectEvent=function(e){return E.H.useEffectEvent(e)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.2.3"},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579(e,t,n){e.exports=n(799)},672(e,t,n){var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},799(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853(e,t,n){e.exports=n(896)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,E||(E=!0,S());else{var t=r(u);null!==t&&R(k,t.startTime-e)}}var S,E=!1,_=-1,T=5,C=-1;function j(){return!!v||!(t.unstable_now()-C<T)}function N(){if(v=!1,E){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(_),_=-1),p=!0;var a=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&j());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,x(e),n=!0;break t}h===r(c)&&i(c),x(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&R(k,l.startTime-e),n=!1}}break e}finally{h=null,f=a,p=!1}n=void 0}}finally{n?S():E=!1}}}if("function"===typeof w)S=function(){w(N)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,A=I.port2;I.port1.onmessage=N,S=function(){A.postMessage(null)}}else S=function(){y(N,0)};function R(e,n){_=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(_),_=-1):g=!0,R(k,a-s))):(e.sortIndex=o,n(c,e),m||p||(m=!0,E||(E=!0,S()))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(a,s),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".60e886bc.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="agilni-kviz:";n.l=(r,i,a,s)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/agilno-it-poslovanje/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,[s,o,l]=r,c=0;if(s.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkagilni_kviz=self.webpackChunkagilni_kviz||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n.t(r,2),a=n(391);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function l(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const h=["sri"],f=["page"],p=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],v=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var y="popstate";function b(){return T(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=_(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),S("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:E(t))},function(e,t){x("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function x(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function k(e,t){return{usr:e.state,key:e.key,idx:t}}function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?_(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function E(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function _(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function T(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,c=d();function d(){return(s.state||{idx:null}).idx}function h(){o="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:p.location,delta:t})}function f(e){return C(e)}null==c&&(c=0,s.replaceState(u(u({},s.state),{},{idx:c}),""));let p={get action(){return o},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(y,h),l=e,()=>{i.removeEventListener(y,h),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=S(p.location,e,t);n&&n(r,e),c=d()+1;let u=k(r,c),h=p.createHref(r);try{s.pushState(u,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}a&&l&&l({action:o,location:p.location,delta:1})},replace:function(e,t){o="REPLACE";let r=S(p.location,e,t);n&&n(r,e),c=d();let i=k(r,c),u=p.createHref(r);s.replaceState(i,"",u),a&&l&&l({action:o,location:p.location,delta:0})},go:e=>s.go(e)};return p}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),w(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:E(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function j(e,t){return N(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function N(e,t,n,r){let i=H(("string"===typeof t?_(t):t).pathname||"/",n);if(null==i)return null;let a=I(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=q(i);s=U(a[o],e,r)}return s}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&s)return;w(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=J([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),I(e.children,t,u,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:F(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of A(e.path))a(e,t,!0,r);else a(e,t)}),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=A(r.join("/")),o=[];return o.push(...s.map(e=>""===e?a:[a,e].join("/"))),i&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var R=/^:[\w-]+$/,P=3,D=2,O=1,L=10,M=-2,z=e=>"*"===e;function F(e,t){let n=e.split("/"),r=n.length;return n.some(z)&&(r+=M),t&&(r+=D),n.filter(e=>!z(e)).reduce((e,t)=>e+(R.test(t)?P:""===t?O:L),r)}function U(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:J([a,u.pathname]),pathnameBase:Z(J([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=J([a,u.pathnameBase]))}return s}function V(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=B(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:s,pattern:e}}function B(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function q(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return x(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var W=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K=e=>W.test(e);function G(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function Q(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Y(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function X(e){let t=Y(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function $(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=_(e):(r=u({},e),w(!r.pathname||!r.pathname.includes("?"),Q("?","pathname","search",r)),w(!r.pathname||!r.pathname.includes("#"),Q("#","pathname","hash",r)),w(!r.search||!r.search.includes("#"),Q("#","search","hash",r)));let a,s=""===e||""===r.pathname,o=s?"/":r.pathname;if(null==o)a=n;else{let e=t.length-1;if(!i&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:i="",hash:a=""}="string"===typeof e?_(e):e;if(r)if(K(r))t=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),x(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(r))}t=r.startsWith("/")?G(r.substring(1),"/"):G(r,n)}else t=n;return{pathname:t,search:ee(i),hash:te(a)}}(r,a),c=o&&"/"!==o&&o.endsWith("/"),d=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var J=e=>e.join("/").replace(/\/\/+/g,"/"),Z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ee=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",te=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var ne=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function re(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function ie(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function se(e,t){let n=e;if("string"!==typeof n||!W.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(ae)try{let e=new URL(window.location.href),r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),a=H(r.pathname,t);r.origin===e.origin&&null!=a?n=a+r.search+r.hash:i=!0}catch(a){x(!1,'<Link to="'.concat(n,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:r,isExternal:i,to:n}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oe=["POST","PUT","PATCH","DELETE"],le=(new Set(oe),["GET",...oe]);new Set(le),Symbol("ResetLoaderData");var ce=r.createContext(null);ce.displayName="DataRouter";var ue=r.createContext(null);ue.displayName="DataRouterState";var de=r.createContext(!1);function he(){return r.useContext(de)}var fe=r.createContext({isTransitioning:!1});fe.displayName="ViewTransition";var pe=r.createContext(new Map);pe.displayName="Fetchers";var me=r.createContext(null);me.displayName="Await";var ge=r.createContext(null);ge.displayName="Navigation";var ve=r.createContext(null);ve.displayName="Location";var ye=r.createContext({outlet:null,matches:[],isDataRoute:!1});ye.displayName="Route";var be=r.createContext(null);be.displayName="RouteError";var we="REACT_ROUTER_ERROR";function xe(){return null!=r.useContext(ve)}function ke(){return w(xe(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ve).location}var Se="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ee(e){r.useContext(ge).static||r.useLayoutEffect(e)}function _e(){let{isDataRoute:e}=r.useContext(ye);return e?function(){let{router:e}=Le("useNavigate"),t=ze("useNavigate"),n=r.useRef(!1);Ee(()=>{n.current=!0});let i=r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(n.current,Se),n.current&&("number"===typeof r?await e.navigate(r):await e.navigate(r,u({fromRouteId:t},i)))},[e,t]);return i}():function(){w(xe(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(ce),{basename:t,navigator:n}=r.useContext(ge),{matches:i}=r.useContext(ye),{pathname:a}=ke(),s=JSON.stringify(X(i)),o=r.useRef(!1);Ee(()=>{o.current=!0});let l=r.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(x(o.current,Se),!o.current)return;if("number"===typeof r)return void n.go(r);let l=$(r,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:J([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,s,a,e]);return l}()}r.createContext(null);function Te(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ye),{pathname:i}=ke(),a=JSON.stringify(X(n));return r.useMemo(()=>$(e,JSON.parse(a),i,"path"===t),[e,a,i,t])}function Ce(e,t,n,i,a){w(xe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=r.useContext(ge),{matches:o}=r.useContext(ye),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";Ve(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=ke();if(t){var g;let e="string"===typeof t?_(t):t;w("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let v=p.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=j(e,{pathname:y});x(f||null!=b,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),x(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let k=De(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:J([h,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:J([h,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,n,i,a);return t&&k?r.createElement(ve.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},k):k}function je(){let e=Fe(),t=re(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,o)}var Ne=r.createElement(je,null),Ie=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"===typeof e&&e&&"digest"in e&&"string"===typeof e.digest){const t=function(e){if(e.startsWith("".concat(we,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new ne(t.status,t.statusText,t.data)}catch(t){}}(e.digest);t&&(e=t)}let t=void 0!==e?r.createElement(ye.Provider,{value:this.props.routeContext},r.createElement(be.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?r.createElement(Re,{error:e},t):t}};Ie.contextType=de;var Ae=new WeakMap;function Re(e){let{children:t,error:n}=e,{basename:i}=r.useContext(ge);if("object"===typeof n&&n&&"digest"in n&&"string"===typeof n.digest){let e=function(e){if(e.startsWith("".concat(we,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(n.digest);if(e){let t=Ae.get(n);if(t)throw t;let a=se(e.location,i);if(ae&&!Ae.get(n)){if(!a.isExternal&&!e.reloadDocument){const t=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:e.replace}));throw Ae.set(n,t),t}window.location.href=a.absoluteURL||a.to}return r.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(a.absoluteURL||a.to)})}}return t}function Pe(e){let{routeContext:t,match:n,children:i}=e,a=r.useContext(ce);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ye.Provider,{value:t},i)}function De(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,s=null===n||void 0===n?void 0:n.errors;if(null!=s){let e=a.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let o=!1,l=-1;if(n)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){o=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}let c=n&&i?(e,t)=>{var r,a;i(e,{location:n.location,params:null!==(r=null===(a=n.matches)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.params)&&void 0!==r?r:{},unstable_pattern:ie(n.matches),errorInfo:t})}:void 0;return a.reduceRight((e,i,u)=>{let d,h=!1,f=null,p=null;n&&(d=s&&i.route.id?s[i.route.id]:void 0,f=i.route.errorElement||Ne,o&&(l<0&&0===u?(Ve("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=i.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,u+1)),g=()=>{let t;return t=d?f:h?p:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Pe,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===u)?r.createElement(Ie,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:c}):g()},null)}function Oe(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Le(e){let t=r.useContext(ce);return w(t,Oe(e)),t}function Me(e){let t=r.useContext(ue);return w(t,Oe(e)),t}function ze(e){let t=function(e){let t=r.useContext(ye);return w(t,Oe(e)),t}(e),n=t.matches[t.matches.length-1];return w(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Fe(){var e;let t=r.useContext(be),n=Me("useRouteError"),i=ze("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var Ue={};function Ve(e,t,n){t||Ue[e]||(Ue[e]=!0,x(!1,n))}var Be={};function qe(e,t){e||Be[t]||(Be[t]=!0,console.warn(t))}i.useOptimistic;r.memo(function(e){let{routes:t,future:n,state:r,onError:i}=e;return Ce(t,void 0,r,i,n)});function He(e){let{to:t,replace:n,state:i,relative:a}=e;w(xe(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=r.useContext(ge);x(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=r.useContext(ye),{pathname:l}=ke(),c=_e(),u=$(t,X(o),l,"path"===a),d=JSON.stringify(u);return r.useEffect(()=>{c(JSON.parse(d),{replace:n,state:i,relative:a})},[c,d,a,n,i]),null}function We(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ke(e){let{basename:t="/",children:n=null,location:i,navigationType:a="POP",navigator:s,static:o=!1,unstable_useTransitions:l}=e;w(!xe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=r.useMemo(()=>({basename:c,navigator:s,static:o,unstable_useTransitions:l,future:{}}),[c,s,o,l]);"string"===typeof i&&(i=_(i));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=i,g=r.useMemo(()=>{let e=H(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:a}},[c,d,h,f,p,m,a]);return x(null!=g,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(d).concat(h).concat(f,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:r.createElement(ge.Provider,{value:u},r.createElement(ve.Provider,{children:n,value:g}))}function Ge(e){let{children:t,location:n}=e;return Ce(Qe(t),n)}r.Component;function Qe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let a=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Qe(e.props.children,a));w(e.type===We,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Qe(e.props.children,a)),n.push(s)}),n}var Ye="get",Xe="application/x-www-form-urlencoded";function $e(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}var Je=null;var Ze=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function et(e){return null==e||Ze.has(e)?e:(x(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Xe,'"')),null)}function tt(e,t){let n,r,i,a,s;if($e(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?H(s,t):null,n=e.getAttribute("method")||Ye,i=et(e.getAttribute("enctype"))||Xe,a=new FormData(e)}else if(function(e){return $e(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return $e(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?H(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Ye,i=et(e.getAttribute("formenctype"))||et(s.getAttribute("enctype"))||Xe,a=new FormData(s,e),!function(){if(null===Je)try{new FormData(document.createElement("form"),0),Je=!1}catch(e){Je=!0}return Je}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,r)}}else{if($e(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ye,r=null,i=Xe,s=e}var o;return a&&"text/plain"===i&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function nt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function rt(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===H(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function it(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function at(e){return null!=e&&"string"===typeof e.page}function st(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function ot(e,t,n,r,i,a){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function lt(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function ct(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!at(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function ut(e,t){return"lazy"===e.mode&&!0===t}function dt(){let e=r.useContext(ce);return nt(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ht(){let e=r.useContext(ue);return nt(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ft=r.createContext(void 0);function pt(){let e=r.useContext(ft);return nt(e,"You must render this element inside a <HydratedRouter> element"),e}function mt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function gt(e,t,n){if(n&&!wt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}ft.displayName="FrameworkContext";function vt(e){let{page:t}=e,n=d(e,f),{router:i}=dt(),a=r.useMemo(()=>j(i.routes,t,i.basename),[i.routes,t,i.basename]);return a?r.createElement(bt,u({page:t,matches:a},n)):null}function yt(e){let{manifest:t,routeModules:n}=pt(),[i,a]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return ct((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await it(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(st).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||a(e)}),()=>{r=!0}},[e,t,n]),i}function bt(e){let{page:t,matches:n}=e,i=d(e,p),a=ke(),{manifest:s,routeModules:o}=pt(),{basename:l}=dt(),{loaderData:c,matches:h}=ht(),f=r.useMemo(()=>ot(t,n,h,s,a,"data"),[t,n,h,s,a]),m=r.useMemo(()=>ot(t,n,h,s,a,"assets"),[t,n,h,s,a]),g=r.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=s.routes[t.route.id];i&&i.hasLoader&&(!f.some(e=>e.route.id===t.route.id)&&t.route.id in c&&null!==(n=o[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=rt(t,l,"data");return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[l,c,a,s,f,n,t,o]),v=r.useMemo(()=>lt(m,s),[m,s]),y=yt(m);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},i))),v.map(e=>r.createElement("link",u({key:e,rel:"modulepreload",href:e},i))),y.map(e=>{let{key:t,link:n}=e;return r.createElement("link",u({key:t,nonce:i.nonce},n))}))}var wt=!1;function xt(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:a,routeDiscovery:s,ssr:o}=pt(),{router:l,static:c,staticContext:f}=dt(),{matches:p}=ht(),m=he(),g=ut(s,o);a&&(a.didRenderScripts=!0);let v=gt(p,null,i);r.useEffect(()=>{wt=!0},[]);let y=r.useMemo(()=>{var i;if(m)return null;let a=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=c?"".concat(null!==(i=t.hmr)&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];nt(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,u=[...a?[{module:a,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=d(e,h),i=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(a.pop();a.length>0;)s.push("/".concat(a.join("/"))),a.pop();s.forEach(e=>{let n=j(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let o=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return u(u({},r),{},{routes:o,sri:!!n||void 0})}(t,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:void 0})),r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:"module",async:!0})))},[]),b=wt||m?[]:(w=t.entry.imports.concat(lt(v,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let x="object"===typeof t.sri?t.sri:{};return qe(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),wt||m?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0})),y)}function kt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function St(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,a=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(re(t))return r.createElement(Et,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),a);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(Et,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),a)}function Et(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:a,children:s}=e,{routeModules:o}=pt();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!a?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,i?r.createElement(xt,null):null)))}var _t="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{_t&&(window.__reactRouterVersion="7.11.0")}catch(Hv){}function Tt(e){let{basename:t,children:n,unstable_useTransitions:i,window:a}=e,s=r.useRef();null==s.current&&(s.current=b({window:a,v5Compat:!0}));let o=s.current,[l,c]=r.useState({action:o.action,location:o.location}),u=r.useCallback(e=>{!1===i?c(e):r.startTransition(()=>c(e))},[i]);return r.useLayoutEffect(()=>o.listen(u),[o,u]),r.createElement(Ke,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:i})}var Ct=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jt=r.forwardRef(function(e,t){let{onClick:n,discover:i="render",prefetch:a="none",relative:s,reloadDocument:o,replace:l,state:c,target:h,to:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v}=e,y=d(e,m),{basename:b,unstable_useTransitions:x}=r.useContext(ge),k="string"===typeof f&&Ct.test(f),S=se(f,b);f=S.to;let _=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(xe(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(ge),{hash:a,pathname:s,search:o}=Te(e,{relative:t}),l=s;return"/"!==n&&(l="/"===s?n:J([n,s])),i.createHref({pathname:l,search:o,hash:a})}(f,{relative:s}),[T,C,j]=function(e,t){let n=r.useContext(ft),[i,a]=r.useState(!1),[s,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(i){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{a(!0)},m=()=>{a(!1),o(!1)};return n?"intent"!==e?[s,f,{}]:[s,f,{onFocus:mt(l,p),onBlur:mt(c,m),onMouseEnter:mt(u,p),onMouseLeave:mt(d,m),onTouchStart:mt(h,p)}]:[!1,f,{}]}(a,y),N=function(e){let{target:t,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=_e(),d=ke(),h=Te(e,{relative:s});return r.useCallback(f=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(f,t)){f.preventDefault();let t=void 0!==n?n:E(d)===E(h),p=()=>u(e,{replace:t,state:i,preventScrollReset:a,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:l});c?r.startTransition(()=>p()):p()}},[d,u,h,n,i,t,e,a,s,o,l,c])}(f,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:x});let I=r.createElement("a",u(u(u({},y),j),{},{href:S.absoluteURL||_,onClick:S.isExternal||o?n:function(e){n&&n(e),e.defaultPrevented||N(e)},ref:kt(t,C),target:h,"data-discover":k||"render"!==i?void 0:"true"}));return T&&!k?r.createElement(r.Fragment,null,I,r.createElement(vt,{page:_})):I});jt.displayName="Link";var Nt=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,viewTransition:c,children:h}=e,f=d(e,g),p=Te(l,{relative:f.relative}),m=ke(),v=r.useContext(ue),{navigator:y,basename:b}=r.useContext(ge),x=null!=v&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(fe);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Rt("useViewTransitionState"),a=Te(e,{relative:t});if(!n.isTransitioning)return!1;let s=H(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=H(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=V(a.pathname,o)||null!=V(a.pathname,s)}(p)&&!0===c,k=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,S=m.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(S=S.toLowerCase(),E=E?E.toLowerCase():null,k=k.toLowerCase()),E&&b&&(E=H(E,b)||E);const _="/"!==k&&k.endsWith("/")?k.length-1:k.length;let T,C=S===k||!s&&S.startsWith(k)&&"/"===S.charAt(_),j=null!=E&&(E===k||!s&&E.startsWith(k)&&"/"===E.charAt(k.length)),N={isActive:C,isPending:j,isTransitioning:x},I=C?n:void 0;T="function"===typeof a?a(N):[a,C?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof o?o(N):o;return r.createElement(jt,u(u({},f),{},{"aria-current":I,className:T,ref:t,style:A,to:l,viewTransition:c}),"function"===typeof h?h(N):h)});Nt.displayName="NavLink";var It=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:a,reloadDocument:s,replace:o,state:l,method:c=Ye,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y}=e,b=d(e,v),{unstable_useTransitions:x}=r.useContext(ge),k=Ot(),S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ge),i=r.useContext(ye);w(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),s=u({},Te(e||".",{relative:t})),o=ke();if(null==e){s.search=o.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!a.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:J([n,s.pathname]));return E(s)}(h,{relative:p}),_="get"===c.toLowerCase()?"get":"post",T="string"===typeof h&&Ct.test(h);return r.createElement("form",u(u({ref:t,method:_,action:S,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||c,s=()=>k(t||e.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:o,state:l,relative:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y});x&&!1!==a?r.startTransition(()=>s()):s()}},b),{},{"data-discover":T||"render"!==n?void 0:"true"}))});function At(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Rt(e){let t=r.useContext(ce);return w(t,At(e)),t}It.displayName="Form";var Pt=0,Dt=()=>"__".concat(String(++Pt),"__");function Ot(){let{router:e}=Rt("useSubmit"),{basename:t}=r.useContext(ge),n=ze("useRouteId"),i=e.fetch,a=e.navigate;return r.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:l,formData:c,body:u}=tt(e,t);if(!1===r.navigate){let e=r.fetcherKey||Dt();await i(e,n,r.action||s,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||o,formEncType:r.encType||l,flushSync:r.flushSync})}else await a(r.action||s,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||o,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,a,t,n])}const Lt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Mt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;o||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Lt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==o)throw new zt;const l=t<<2|a>>4;if(r.push(l),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class zt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ft=function(e){return function(e){const t=Lt(e);return Mt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ut=function(e){try{return Mt.decodeString(e,!0)}catch(Hv){console.error("base64Decode failed: ",Hv)}return null};function Vt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Bt=()=>{try{return Vt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/agilno-it-poslovanje",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDyxT4NKNjc9ABECFlCNbxwHPakJcA0ahs",REACT_APP_FIREBASE_APP_ID:"1:135833558940:web:01f1c054e99125a437f259",REACT_APP_FIREBASE_AUTH_DOMAIN:"agilnoit.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"135833558940",REACT_APP_FIREBASE_PROJECT_ID:"agilnoit",REACT_APP_FIREBASE_STORAGE_BUCKET:"agilnoit.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Hv){return}const t=e&&Ut(e[1]);return t&&JSON.parse(t)})()}catch(Hv){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Hv))}},qt=e=>{var t;return null===(t=Bt())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},Ht=()=>{var e;return null===(e=Bt())||void 0===e?void 0:e.config},Wt=e=>{var t;return null===(t=Bt())||void 0===t?void 0:t["_".concat(e)]};class Kt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Gt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Qt(e){return(await fetch(e,{credentials:"include"})).ok}const Yt={};let Xt=!1;function $t(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Gt(window.location.host)||Yt[e]===t||Yt[e]||Xt)return;function n(e){return"__firebase__banner__".concat(e)}Yt[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Yt))Yt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Xt=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function Jt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Zt(){var e;const t=null===(e=Bt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Hv){return!1}}function en(){return!Zt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tn(){try{return"object"===typeof indexedDB}catch(Hv){return!1}}class nn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rn.prototype.create)}}class rn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(an,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new nn(n,a,t)}}const an=/\{\$([^}]+)}/g;function sn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(on(n)&&on(a)){if(!sn(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function on(e){return null!==e&&"object"===typeof e}function ln(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function cn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function un(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class dn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=hn),void 0===r.error&&(r.error=hn),void 0===r.complete&&(r.complete=hn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Hv){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Hv){"undefined"!==typeof console&&console.error&&console.error(Hv)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hn(){}function fn(e){return e&&e._delegate?e._delegate:e}class pn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const mn="[DEFAULT]";class gn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Kt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Hv){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Hv){if(r)return null;throw Hv}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:mn})}catch(Hv){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Hv){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===mn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn;return this.component?this.component.multipleInstances?e:mn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class vn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new gn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const yn=[];var bn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(bn||(bn={}));const wn={debug:bn.DEBUG,verbose:bn.VERBOSE,info:bn.INFO,warn:bn.WARN,error:bn.ERROR,silent:bn.SILENT},xn=bn.INFO,kn={[bn.DEBUG]:"log",[bn.VERBOSE]:"log",[bn.INFO]:"info",[bn.WARN]:"warn",[bn.ERROR]:"error"},Sn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=kn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class En{constructor(e){this.name=e,this._logLevel=xn,this._logHandler=Sn,this._userLogHandler=null,yn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?wn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bn.DEBUG,...t),this._logHandler(this,bn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bn.VERBOSE,...t),this._logHandler(this,bn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bn.INFO,...t),this._logHandler(this,bn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bn.WARN,...t),this._logHandler(this,bn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,bn.ERROR,...t),this._logHandler(this,bn.ERROR,...t)}}let _n,Tn;const Cn=new WeakMap,jn=new WeakMap,Nn=new WeakMap,In=new WeakMap,An=new WeakMap;let Rn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return jn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Nn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return On(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Pn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Tn||(Tn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ln(this),n),On(Cn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return On(e.apply(Ln(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(Ln(this),t,...r);return Nn.set(a,t.sort?t.sort():[t]),On(a)}}function Dn(e){return"function"===typeof e?Pn(e):(e instanceof IDBTransaction&&function(e){if(jn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});jn.set(e,t)}(e),t=e,(_n||(_n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Rn):e);var t}function On(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(On(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&Cn.set(t,e)}).catch(()=>{}),An.set(t,e),t}(e);if(In.has(e))return In.get(e);const t=Dn(e);return t!==e&&(In.set(e,t),An.set(t,e)),t}const Ln=e=>An.get(e);const Mn=["get","getKey","getAll","getAllKeys","count"],zn=["put","add","delete","clear"],Fn=new Map;function Un(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Fn.get(t))return Fn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=zn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Mn.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return Fn.set(t,a),a}Rn=(e=>u(u({},e),{},{get:(t,n,r)=>Un(t,n)||e.get(t,n,r),has:(t,n)=>!!Un(t,n)||e.has(t,n)}))(Rn);class Vn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Bn="@firebase/app",qn="0.14.6",Hn=new En("@firebase/app"),Wn="@firebase/app-compat",Kn="@firebase/analytics-compat",Gn="@firebase/analytics",Qn="@firebase/app-check-compat",Yn="@firebase/app-check",Xn="@firebase/auth",$n="@firebase/auth-compat",Jn="@firebase/database",Zn="@firebase/data-connect",er="@firebase/database-compat",tr="@firebase/functions",nr="@firebase/functions-compat",rr="@firebase/installations",ir="@firebase/installations-compat",ar="@firebase/messaging",sr="@firebase/messaging-compat",or="@firebase/performance",lr="@firebase/performance-compat",cr="@firebase/remote-config",ur="@firebase/remote-config-compat",dr="@firebase/storage",hr="@firebase/storage-compat",fr="@firebase/firestore",pr="@firebase/ai",mr="@firebase/firestore-compat",gr="firebase",vr="[DEFAULT]",yr={[Bn]:"fire-core",[Wn]:"fire-core-compat",[Gn]:"fire-analytics",[Kn]:"fire-analytics-compat",[Yn]:"fire-app-check",[Qn]:"fire-app-check-compat",[Xn]:"fire-auth",[$n]:"fire-auth-compat",[Jn]:"fire-rtdb",[Zn]:"fire-data-connect",[er]:"fire-rtdb-compat",[tr]:"fire-fn",[nr]:"fire-fn-compat",[rr]:"fire-iid",[ir]:"fire-iid-compat",[ar]:"fire-fcm",[sr]:"fire-fcm-compat",[or]:"fire-perf",[lr]:"fire-perf-compat",[cr]:"fire-rc",[ur]:"fire-rc-compat",[dr]:"fire-gcs",[hr]:"fire-gcs-compat",[fr]:"fire-fst",[mr]:"fire-fst-compat",[pr]:"fire-vertex","fire-js":"fire-js",[gr]:"fire-js-all"},br=new Map,wr=new Map,xr=new Map;function kr(e,t){try{e.container.addComponent(t)}catch(Hv){Hn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Hv)}}function Sr(e){const t=e.name;if(xr.has(t))return Hn.debug("There were multiple attempts to register component ".concat(t,".")),!1;xr.set(t,e);for(const n of br.values())kr(n,e);for(const n of wr.values())kr(n,e);return!0}function Er(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _r(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Tr=new rn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Cr{constructor(e,t,n){this._isDeleted=!1,this._options=u({},e),this._config=u({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}const jr="12.6.0";function Nr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=u({name:vr,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Tr.create("bad-app-name",{appName:String(i)});if(n||(n=Ht()),!n)throw Tr.create("no-options");const a=br.get(i);if(a){if(sn(n,a.options)&&sn(r,a.config))return a;throw Tr.create("duplicate-app",{appName:i})}const s=new vn(i);for(const l of xr.values())s.addComponent(l);const o=new Cr(n,r,s);return br.set(i,o),o}function Ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr;const t=br.get(e);if(!t&&e===vr&&Ht())return Nr();if(!t)throw Tr.create("no-app",{appName:e});return t}function Ar(e,t,n){var r;let i=null!==(r=yr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Hn.warn(e.join(" "))}Sr(new pn("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Rr="firebase-heartbeat-store";let Pr=null;function Dr(){return Pr||(Pr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=On(s);return r&&s.addEventListener("upgradeneeded",e=>{r(On(s.result),e.oldVersion,e.newVersion,On(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Rr)}catch(Hv){console.warn(Hv)}}}).catch(e=>{throw Tr.create("idb-open",{originalErrorMessage:e.message})})),Pr}async function Or(e,t){try{const n=(await Dr()).transaction(Rr,"readwrite"),r=n.objectStore(Rr);await r.put(t,Lr(e)),await n.done}catch(Hv){if(Hv instanceof nn)Hn.warn(Hv.message);else{const t=Tr.create("idb-set",{originalErrorMessage:null===Hv||void 0===Hv?void 0:Hv.message});Hn.warn(t.message)}}}function Lr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Mr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Fr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zr();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Hv){Hn.warn(Hv)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=zr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Ur(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ur(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ft(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Hv){return Hn.warn(Hv),""}}}function zr(){return(new Date).toISOString().substring(0,10)}class Fr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!tn()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Dr()).transaction(Rr),n=await t.objectStore(Rr).get(Lr(e));return await t.done,n}catch(Hv){if(Hv instanceof nn)Hn.warn(Hv.message);else{const t=Tr.create("idb-get",{originalErrorMessage:null===Hv||void 0===Hv?void 0:Hv.message});Hn.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Or(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Or(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ur(e){return Ft(JSON.stringify({version:2,heartbeats:e})).length}var Vr;Vr="",Sr(new pn("platform-logger",e=>new Vn(e),"PRIVATE")),Sr(new pn("heartbeat",e=>new Mr(e),"PRIVATE")),Ar(Bn,qn,Vr),Ar(Bn,qn,"esm2020"),Ar("fire-js","");Ar("firebase","12.7.0","app");var Br,qr,Hr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Wr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a,s=e.g[3];a=t+(s^n&(i^s))+r[0]+3614090360&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[1]+3905402710&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[2]+606105819&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[3]+3250441966&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[4]+4118548399&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[5]+1200080426&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[6]+2821735955&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[7]+4249261313&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[8]+1770035416&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[9]+2336552879&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[10]+4294925233&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[11]+2304563134&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[12]+1804603682&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[13]+4254626195&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[14]+2792965006&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[15]+1236535329&4294967295,a=t+(i^s&((n=i+(a<<22&4294967295|a>>>10))^i))+r[1]+4129170786&4294967295,a=s+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[6]+3225465664&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[11]+643717713&4294967295,a=n+(s^t&((i=s+(a<<14&4294967295|a>>>18))^s))+r[0]+3921069994&4294967295,a=t+(i^s&((n=i+(a<<20&4294967295|a>>>12))^i))+r[5]+3593408605&4294967295,a=s+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[10]+38016083&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[15]+3634488961&4294967295,a=n+(s^t&((i=s+(a<<14&4294967295|a>>>18))^s))+r[4]+3889429448&4294967295,a=t+(i^s&((n=i+(a<<20&4294967295|a>>>12))^i))+r[9]+568446438&4294967295,a=s+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[14]+3275163606&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[3]+4107603335&4294967295,a=n+(s^t&((i=s+(a<<14&4294967295|a>>>18))^s))+r[8]+1163531501&4294967295,a=t+(i^s&((n=i+(a<<20&4294967295|a>>>12))^i))+r[13]+2850285829&4294967295,a=s+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[2]+4243563512&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[7]+1735328473&4294967295,a=n+(s^t&((i=s+(a<<14&4294967295|a>>>18))^s))+r[12]+2368359562&4294967295,a=t+((n=i+(a<<20&4294967295|a>>>12))^i^s)+r[5]+4294588738&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[8]+2272392833&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[11]+1839030562&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[14]+4259657740&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[1]+2763975236&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[4]+1272893353&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[7]+4139469664&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[10]+3200236656&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[13]+681279174&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[0]+3936430074&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[3]+3572445317&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[6]+76029189&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[9]+3654602809&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[12]+3873151461&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[15]+530742520&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[2]+3299628645&4294967295,a=t+(i^((n=i+(a<<23&4294967295|a>>>9))|~s))+r[0]+4096336452&4294967295,a=s+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[7]+1126891415&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[14]+2878612391&4294967295,a=n+(s^((i=s+(a<<15&4294967295|a>>>17))|~t))+r[5]+4237533241&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~s))+r[12]+1700485571&4294967295,a=s+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[3]+2399980690&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[10]+4293915773&4294967295,a=n+(s^((i=s+(a<<15&4294967295|a>>>17))|~t))+r[1]+2240044497&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~s))+r[8]+1873313359&4294967295,a=s+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[15]+4264355552&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[6]+2734768916&4294967295,a=n+(s^((i=s+(a<<15&4294967295|a>>>17))|~t))+r[13]+1309151649&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~s))+r[4]+4149444226&4294967295,a=s+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[11]+3174756917&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[2]+718787259&4294967295,a=n+(s^((i=s+(a<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let a=this.h,s=0;for(;s<t;){if(0==a)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[a++]=e.charCodeAt(s++),a==this.blockSize){n(this,i),a=0;break}}else for(;s<t;)if(i[a++]=e[s++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function a(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(e<0)return h(s(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var o=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var i=y(n,1),a=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=a.add(r);c.l(e)<=0&&(i=i.add(n),a=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(a=s(n)).j(t);d(c)||c.l(e)>0;)c=(a=s(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new m(i,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const i=e.g.length-n,a=[];for(let r=0;r<i;r++)a[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=s(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let a=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;a.length<6;)a="0"+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),a=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=a>>>16,t&=65535,a&=65535,n[r]=a<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return s(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,a=65535&this.i(i),s=e.i(t)>>>16,o=65535&e.i(t);n[2*i+2*t]+=a*o,p(n,2*i+2*t),n[2*i+2*t+1]+=r*o,p(n,2*i+2*t+1),n[2*i+2*t+1]+=a*s,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*s,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,qr=Wr.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=s(Math.pow(n,8));let i=o;for(let o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o);const e=parseInt(t.substring(o,o+a),n);a<8?(a=s(Math.pow(n,a)),i=i.j(a).add(s(e))):(i=i.j(r),i=i.add(s(e)))}return i},Br=Wr.Integer=r}).apply("undefined"!==typeof Hr?Hr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Kr,Gr,Qr,Yr,Xr,$r,Jr,Zr,ei="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ti={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ei&&ei];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var s=e[a];if(!(s in i))break e;i=i[s]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},a=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){a.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},x=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(k)}};function k(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function S(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var _=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(n){}return e}();function T(e){return/^[\s\xa0]*$/.test(e)}function C(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(C,E),C.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),N=0;function I(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++N,this.da=this.fa=!1}function A(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function R(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function P(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){this.src=e,this.g={},this.h=0}function M(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=a>=0)&&Array.prototype.splice.call(i,a,1),r&&(A(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(let i=0;i<e.length;++i){const a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}L.prototype.add=function(e,t,n,r,i){const a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);const s=z(e,t,r,i);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new I(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var F="closure_lm_"+(1e6*Math.random()|0),U={};function V(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)V(e,t[a],n,r,i);return null}return n=X(n),e&&e[j]?e.J(t,n,s(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");const o=s(i)?!!i.capture:!!i;let l=Q(e);if(l||(e[F]=l=new L(e)),(n=l.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)q(e,t[a],n,r,i);return null}return n=X(n),e&&e[j]?e.K(t,n,s(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function H(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)H(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=X(n),e&&e[j]?(e=e.i,(a=String(t).toString())in e.g&&((n=z(t=e.g[a],n,r,i))>-1&&(A(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[a],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,i)),(n=e>-1?t[e]:null)&&W(n))}function W(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])M(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(M(n,e),0==n.h&&(n.src=null,t[F]=null)):A(e)}}}function K(e){return e in U?U[e]:U[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new C(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function Q(e){return(e=e[F])instanceof L?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function $(){S.call(this),this.i=new L(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var i=t;O(t=new E(r,e),i)}let a,s;if(i=!0,n)for(s=n.length-1;s>=0;s--)a=t.g=n[s],i=Z(a,r,!0,t)&&i;if(a=t.g=e,i=Z(a,r,!0,t)&&i,i=Z(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=Z(a,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){const s=t[a];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&M(e.i,s),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:a.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,S),$.prototype[j]=!0,$.prototype.removeEventListener=function(e,t,n,r){H(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)A(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends S{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){S.call(this),this.h=e,this.g={}}u(ne,S);var re=[];function ie(e){R(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae=a.JSON.stringify,se=a.JSON.parse,oe=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){E.call(this,"d")}function he(){E.call(this,"c")}u(de,E),u(he,E);var fe={},pe=null;function me(){return pe=pe||new $}function ge(e){E.call(this,fe.Ia,e)}function ve(e){const t=me();J(t,new ge(t))}function ye(e,t){E.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();J(t,new ye(t,e))}function we(e,t){E.call(this,fe.Ja,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function ke(){this.g=!0}function Se(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const a=JSON.parse(t);if(a)for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return ae(a)}catch(a){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,E),fe.STAT_EVENT="statevent",u(ye,E),fe.Ja="timingevent",u(we,E),ke.prototype.ua=function(){this.g=!1},ke.prototype.info=function(){};var Ee,_e={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Te={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ce(){}function je(e){return encodeURIComponent(String(e))}function Ne(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ie(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}u(Ce,le),Ce.prototype.g=function(){return new XMLHttpRequest},Ee=new Ce;var Re={},Pe={};function De(e,t,n){e.M=1,e.A=at(et(t)),e.u=n,e.R=!0,Oe(e,null)}function Oe(e,t){e.F=Date.now(),ze(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ae,e.g=sn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let a=0;a<i.length;a++){const e=V(n,i[a],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?P(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var s="",o=a.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Le(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Me(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Pe:(n=Number(t.substring(n,r)),isNaN(n)?Re:(r+=1)+n>t.length?Pe:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.T=Date.now()+e.H,Fe(e,e.H)}function Fe(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=xe(l(e.aa,e),t)}function Ue(e){e.D&&(a.clearTimeout(e.D),e.D=null)}function Ve(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ue(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),qt(n)}Xt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=xe(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!T(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Ye(a,a.h),a.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=an(r,r.L?r.ba:null,r.W),s.L){Xe(r.h,s);var o=s,c=r.O;c&&(o.H=c),o.D&&(Ue(o),ze(o)),r.g=s}else Yt(r);n.i.length>0&&Wt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(u){}}Ie.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==zt(e)?t.j():this.Y(e)},Ie.prototype.Y=function(e){try{if(e==this.g)e:{const l=zt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||4!=l||7==c||ve(),Ue(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Le(e))return e.g.la();const t=Ft(e.g);if(""===t)return"";let n="";const r=t.length,i=4==zt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),Ve(e),"";e.h.i=new a.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,a,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,be(12),Be(this),Ve(this);break e}Se(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Me(this,n),t==Pe){4==l&&(this.m=4,be(14),e=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}if(t==Re){this.m=4,be(15),Se(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Se(this.i,this.l,t,null),qe(this,t)}if(Le(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(o),o.P=!0,be(11))}}else Se(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),Ve(this)}else Se(this.i,this.l,n,null),qe(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&zt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(T(e[r]))continue;var n=Ne(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),Ve(this)}}}catch(Oi){}},Ie.prototype.cancel=function(){this.K=!0,Be(this)},Ie.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),be(17)),Be(this),this.m=2,Ve(this)):Fe(this,this.T-e)};var He=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,a.PerformanceNavigationTiming?e=(e=a.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}We.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=st(t[2]||""),this.g=st(t[3]||"",!0),nt(this,t[4]),this.h=st(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=st(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?st(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=ot(t,ht)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function at(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function st(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ot(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(ot(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ot(t,ct,!0),"@"),e.push(je(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ot(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ot(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return mt(e),t=xt(e,t),e.g.has(t)}function yt(e,t){mt(e);let n=[];if("string"===typeof t)vt(e,t)&&(n=n.concat(e.g.get(xt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(xt(e,t),h(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function St(){this.g=new oe}function Et(e){this.i=e.Sb||null,this.h=e.ab||!1}function _t(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Tt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Ct(e){e.readyState=4,e.l=null,e.j=null,e.B=null,jt(e)}function jt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Nt(e){let t="";return R(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function It(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nt(n),"string"===typeof e?null!=n&&je(n):it(e,t,n))}function At(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=xt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,vt(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=je(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+je(n[t])),e.push(r)}}return this.i=e.join("&")},u(Et,le),Et.prototype.g=function(){return new _t(this.i,this.h)},u(_t,$),(e=_t.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,jt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||a).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ct(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jt(this)),this.g&&(this.readyState=3,jt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ct(this):jt(this),3==this.readyState&&Tt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Ct(this))},e.Na=function(e){this.g&&(this.response=e,Ct(this))},e.ga=function(){this.g&&Ct(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_t.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(At,$);var Rt=/^https?$/i,Pt=["POST","PUT"];function Dt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Ot(e),Mt(e)}function Ot(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Lt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==zt(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==zt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&a.self&&a.self.location&&(t=a.self.location.protocol.slice(0,-1)),r=!Rt.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var s=zt(e)>2?e.g.statusText:""}catch(o){s=""}e.l=s+" ["+e.ca()+"]",Ot(e)}}finally{Mt(e)}}}function Mt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function zt(e){return e.g?e.g.readyState:0}function Ft(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ut(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vt(e){this.za=0,this.i=[],this.j=new ke,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ut("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ut("baseRetryDelayMs",5e3,e),this.Za=Ut("retryDelaySeedMs",1e4,e),this.Ta=Ut("forwardChannelMaxRetries",2,e),this.va=Ut("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new We(e&&e.concurrentRequestLimit),this.Ba=new St,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(Ht(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Gt(e,n),(t=new Ie(e,e.j,t)).M=2,t.A=at(et(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.A,n=!0),n||(t.g=sn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),ze(t)}rn(e)}function qt(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function Ht(e){qt(e),e.v&&(a.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&a.clearTimeout(e.m),e.m=null)}function Wt(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||x(),b||(y(),b=!0),w.add(t,e),e.D=0}}function Kt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Gt(e,r),e.u&&e.o&&It(r,e.u,e.o),n=new Ie(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),De(n,r,t)}function Gt(e,t){e.H&&R(e.H,function(e,n){it(t,n,e)}),e.l&&R({},function(e,n){it(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var a=i[c].g;const n=i[c].map;if((a-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{a="req"+a+"_"||0;try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;s(n)&&(r=ae(n)),e.push(a+t+"="+encodeURIComponent(r))}}catch(ri){throw e.push(a+"type="+encodeURIComponent("_badmap")),ri}}catch(ri){r&&r(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||x(),b||(y(),b=!0),w.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=xe(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(a.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Ie(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Gt(e,t),e.u&&e.o&&It(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=at(et(t)),n.u=null,n.R=!0,Oe(n,e)}function Zt(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new we(r,n)),Wt(e)}else Yt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=xe(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||tt(r,"https"),at(r),t?function(e,t){const n=new ke;if(a.Image){const r=new Image;r.onload=c(kt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(kt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(kt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(kt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ke;const n=new AbortController,r=setTimeout(()=>{n.abort(),kt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?kt(0,0,!0,t):kt(0,0,!1,t)}).catch(()=>{clearTimeout(r),kt(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),Ht(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function an(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Gt(e,r),r}function sn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new At(new Et({ab:n})):new At(e.ma)).Fa(e.L),t}function on(){}function ln(){}function cn(e,t){$.call(this),this.g=new Vt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!T(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!T(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hn(this)}function un(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){he.call(this),this.status=1}function hn(e){this.g=e}(e=At.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Dt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=a.FormData&&e instanceof a.FormData,!(Array.prototype.indexOf.call(Pt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Dt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Mt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mt(this,!0)),At.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Lt(this):this.Xa())},e.Xa=function(){Lt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return zt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),se(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Vt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=an(this,null,this.W),Wt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ie(this,this.j,e);let a=this.o;if(this.U&&(a?(a=P(a),O(a,this.U)):a=this.U),null!==this.u||this.R||(i.J=a,a=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Gt(this,n),a&&(this.R?t="headers="+je(Nt(a))+"&"+t:this.u&&It(n,this.u,a)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,De(i,n,null)):De(i,n,t),this.I=2}}else 3==this.I&&(e?Kt(this,e):0==this.i.length||Ke(this.h)||Kt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=xe(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),qt(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,qt(this),Xt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=on.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,$),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ae(e),e=n);t.i.push(new He(t.Ya++,e)),3==t.I&&Wt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,cn.Z.N.call(this)},u(un,de),u(dn,he),u(hn,on),hn.prototype.ra=function(){J(this.g,"a")},hn.prototype.qa=function(e){J(this.g,new un(e))},hn.prototype.pa=function(e){J(this.g,new dn)},hn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Zr=ti.createWebChannelTransport=function(){return new ln},Jr=ti.getStatEventTarget=function(){return me()},$r=ti.Event=fe,Xr=ti.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,Yr=ti.ErrorCode=_e,Te.COMPLETE="complete",Qr=ti.EventType=Te,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,Gr=ti.WebChannel=ce,ti.FetchXmlHttpFactory=Et,At.prototype.listenOnce=At.prototype.K,At.prototype.getLastError=At.prototype.Ha,At.prototype.getLastErrorCode=At.prototype.ya,At.prototype.getStatus=At.prototype.ca,At.prototype.getResponseJson=At.prototype.La,At.prototype.getResponseText=At.prototype.la,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Fa,Kr=ti.XhrIo=At}).apply("undefined"!==typeof ei?ei:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ni="@firebase/firestore",ri="4.9.3";class ii{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ii.UNAUTHENTICATED=new ii(null),ii.GOOGLE_CREDENTIALS=new ii("google-credentials-uid"),ii.FIRST_PARTY=new ii("first-party-uid"),ii.MOCK_USER=new ii("mock-user");let ai="12.7.0";const si=new En("@firebase/firestore");function oi(){return si.logLevel}function li(e){if(si.logLevel<=bn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(di);si.debug("Firestore (".concat(ai,"): ").concat(e),...i)}}function ci(e){if(si.logLevel<=bn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(di);si.error("Firestore (".concat(ai,"): ").concat(e),...i)}}function ui(e){if(si.logLevel<=bn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(di);si.warn("Firestore (".concat(ai,"): ").concat(e),...i)}}function di(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function hi(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,fi(e,r,n)}function fi(e,t,n){let r="FIRESTORE (".concat(ai,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw ci(r),new Error(r)}function pi(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||fi(t,i,r)}function mi(e,t){return e}const gi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vi extends nn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class bi{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class wi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ii.UNAUTHENTICATED))}shutdown(){}}class xi{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ki{constructor(e){this.t=e,this.currentUser=ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pi(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new yi,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{li("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(li("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new yi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(li("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(pi("string"==typeof t.accessToken,31837,{l:t}),new bi(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pi(null===e||"string"==typeof e,2055,{h:e}),new ii(e)}}class Si{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=ii.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ei{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Si(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _i{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ti{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pi(void 0===this.o,3512);const n=e=>{null!=e.error&&li("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,li("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{li("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):li("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _i(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(pi("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new _i(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ci(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ji{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ci(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Ni(e,t){return e<t?-1:e>t?1:0}function Ii(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Pi(n)===Pi(i)?Ni(n,i):Pi(n)?1:-1}return Ni(e.length,t.length)}const Ai=55296,Ri=57343;function Pi(e){const t=e.charCodeAt(0);return t>=Ai&&t<=Ri}function Di(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Oi="__name__";class Li{constructor(e,t,n){void 0===t?t=0:t>e.length&&hi(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&hi(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Li.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Li.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Ni(e.length,t.length)}static compareSegments(e,t){const n=Li.isNumericId(e),r=Li.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Li.extractNumericId(e).compare(Li.extractNumericId(t)):Ii(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Br.fromString(e.substring(4,e.length-2))}}class Mi extends Li{construct(e,t,n){return new Mi(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new vi(gi.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Mi(e)}static emptyPath(){return new Mi([])}}const zi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fi extends Li{construct(e,t,n){return new Fi(e,t,n)}static isValidIdentifier(e){return zi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Oi}static keyField(){return new Fi([Oi])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new vi(gi.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new vi(gi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new vi(gi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new vi(gi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fi(t)}static emptyPath(){return new Fi([])}}class Ui{constructor(e){this.path=e}static fromPath(e){return new Ui(Mi.fromString(e))}static fromName(e){return new Ui(Mi.fromString(e).popFirst(5))}static empty(){return new Ui(Mi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ui(new Mi(e.slice()))}}function Vi(e,t,n){if(!n)throw new vi(gi.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Bi(e){if(!Ui.isDocumentKey(e))throw new vi(gi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function qi(e){if(Ui.isDocumentKey(e))throw new vi(gi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Hi(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Wi(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":hi(12329,{type:typeof e})}function Ki(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vi(gi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wi(e);throw new vi(gi.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Gi(e,t){const n={typeString:e};return t&&(n.value=t),n}function Qi(e,t){if(!Hi(e))throw new vi(gi.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(i&&typeof s!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==a&&s!==a.value){n="Expected '".concat(r,"' field to equal '").concat(a.value,"'");break}}if(n)throw new vi(gi.INVALID_ARGUMENT,n);return!0}const Yi=-62135596800,Xi=1e6;class $i{static now(){return $i.fromMillis(Date.now())}static fromDate(e){return $i.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Xi);return new $i(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vi(gi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vi(gi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Yi)throw new vi(gi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vi(gi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xi}_compareTo(e){return this.seconds===e.seconds?Ni(this.nanoseconds,e.nanoseconds):Ni(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$i._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qi(e,$i._jsonSchema))return new $i(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Yi;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$i._jsonSchemaVersion="firestore/timestamp/1.0",$i._jsonSchema={type:Gi("string",$i._jsonSchemaVersion),seconds:Gi("number"),nanoseconds:Gi("number")};class Ji{static fromTimestamp(e){return new Ji(e)}static min(){return new Ji(new $i(0,0))}static max(){return new Ji(new $i(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zi=-1;class ea{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ea.UNKNOWN_ID=-1;function ta(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ji.fromTimestamp(1e9===r?new $i(n+1,0):new $i(n,r));return new ra(i,Ui.empty(),t)}function na(e){return new ra(e.readTime,e.key,Zi)}class ra{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ra(Ji.min(),Ui.empty(),Zi)}static max(){return new ra(Ji.max(),Ui.empty(),Zi)}}function ia(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ui.comparator(e.documentKey,t.documentKey),0!==n?n:Ni(e.largestBatchId,t.largestBatchId))}const aa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function oa(e){if(e.code!==gi.FAILED_PRECONDITION||e.message!==aa)throw e;li("LocalStore","Unexpectedly lost primary lease")}class la{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hi(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new la((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof la?t:la.resolve(t)}catch(e){return la.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):la.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):la.reject(t)}static resolve(e){return new la((t,n)=>{t(e)})}static reject(e){return new la((t,n)=>{n(e)})}static waitFor(e){return new la((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=la.resolve(!1);for(const n of e)t=t.next(e=>e?la.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new la((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{a[l]=e,++s,s===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new la((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function ca(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ua(e){return"IndexedDbTransactionError"===e.name}class da{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}da.ce=-1;const ha=-1;function fa(e){return null==e}function pa(e){return 0===e&&1/e==-1/0}function ma(e){return"number"==typeof e&&Number.isInteger(e)&&!pa(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ga="\x01";function va(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ba(t)),t=ya(e.get(n),t);return ba(t)}function ya(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case ga:n+="\x01\x11";break;default:n+=t}}return n}function ba(e){return e+ga+"\x01"}const wa="remoteDocuments",xa="owner",ka="mutationQueues",Sa="mutations";const Ea="documentMutations",_a="remoteDocumentsV14",Ta="remoteDocumentGlobal",Ca="targets",ja="targetDocuments",Na="targetGlobal",Ia="collectionParents",Aa="clientMetadata",Ra="bundles",Pa="namedQueries",Da="indexConfiguration",Oa="indexState",La="indexEntries",Ma="documentOverlays",za="globals",Fa=[ka,Sa,Ea,wa,Ca,xa,Na,ja,Aa,Ta,Ia,Ra,Pa],Ua=[ka,Sa,Ea,_a,Ca,xa,Na,ja,Aa,Ta,Ia,Ra,Pa,Ma],Va=Ua,Ba=[...Va,Da,Oa,La];function qa(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ha(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wa(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ka{constructor(e,t){this.comparator=e,this.root=t||Qa.EMPTY}insert(e,t){return new Ka(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qa.BLACK,null,null))}remove(e){return new Ka(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ga(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ga(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ga(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ga(this.root,e,this.comparator,!0)}}class Ga{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qa{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Qa.RED,this.left=null!=r?r:Qa.EMPTY,this.right=null!=i?i:Qa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Qa(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Qa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Qa.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw hi(43730,{key:this.key,value:this.value});if(this.right.isRed())throw hi(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw hi(27949);return e+(this.isRed()?0:1)}}Qa.EMPTY=null,Qa.RED=!0,Qa.BLACK=!1,Qa.EMPTY=new class{constructor(){this.size=0}get key(){throw hi(57766)}get value(){throw hi(16141)}get color(){throw hi(16727)}get left(){throw hi(29726)}get right(){throw hi(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Qa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ya{constructor(e){this.comparator=e,this.data=new Ka(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xa(this.data.getIterator())}getIteratorFrom(e){return new Xa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Ya))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ya(this.comparator);return t.data=e,t}}class Xa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $a{constructor(e){this.fields=e,e.sort(Fi.comparator)}static empty(){return new $a([])}unionWith(e){let t=new Ya(Fi.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new $a(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Di(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Ja extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Za{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ja("Invalid base64 string: "+e):e}}(e);return new Za(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Za(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ni(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Za.EMPTY_BYTE_STRING=new Za("");const es=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(e){if(pi(!!e,39018),"string"==typeof e){let t=0;const n=es.exec(e);if(pi(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ns(e.seconds),nanos:ns(e.nanos)}}function ns(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function rs(e){return"string"==typeof e?Za.fromBase64String(e):Za.fromUint8Array(e)}const is="server_timestamp",as="__type__",ss="__previous_value__",os="__local_write_time__";function ls(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[as])||void 0===t?void 0:t.stringValue)===is}function cs(e){const t=e.mapValue.fields[ss];return ls(t)?cs(t):t}function us(e){const t=ts(e.mapValue.fields[os].timestampValue);return new $i(t.seconds,t.nanos)}class ds{constructor(e,t,n,r,i,a,s,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const hs="(default)";class fs{constructor(e,t){this.projectId=e,this.database=t||hs}static empty(){return new fs("","")}get isDefaultDatabase(){return this.database===hs}isEqual(e){return e instanceof fs&&e.projectId===this.projectId&&e.database===this.database}}const ps="__type__",ms="__max__",gs={mapValue:{fields:{__type__:{stringValue:ms}}}},vs="__vector__",ys="value";function bs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ls(e)?4:Ls(e)?9007199254740991:Ds(e)?10:11:hi(28295,{value:e})}function ws(e,t){if(e===t)return!0;const n=bs(e);if(n!==bs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return us(e).isEqual(us(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ts(e.timestampValue),r=ts(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return rs(e.bytesValue).isEqual(rs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ns(e.geoPointValue.latitude)===ns(t.geoPointValue.latitude)&&ns(e.geoPointValue.longitude)===ns(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ns(e.integerValue)===ns(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ns(e.doubleValue),r=ns(t.doubleValue);return n===r?pa(n)===pa(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Di(e.arrayValue.values||[],t.arrayValue.values||[],ws);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(qa(n)!==qa(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ws(n[i],r[i])))return!1;return!0}(e,t);default:return hi(52216,{left:e})}}function xs(e,t){return void 0!==(e.values||[]).find(e=>ws(e,t))}function ks(e,t){if(e===t)return 0;const n=bs(e),r=bs(t);if(n!==r)return Ni(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ni(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ns(e.integerValue||e.doubleValue),r=ns(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ss(e.timestampValue,t.timestampValue);case 4:return Ss(us(e),us(t));case 5:return Ii(e.stringValue,t.stringValue);case 6:return function(e,t){const n=rs(e),r=rs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ni(n[i],r[i]);if(0!==e)return e}return Ni(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ni(ns(e.latitude),ns(t.latitude));return 0!==n?n:Ni(ns(e.longitude),ns(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Es(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const s=e.fields||{},o=t.fields||{},l=null===(n=s[ys])||void 0===n?void 0:n.arrayValue,c=null===(r=o[ys])||void 0===r?void 0:r.arrayValue,u=Ni((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(a=c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Es(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===gs.mapValue&&t===gs.mapValue)return 0;if(e===gs.mapValue)return 1;if(t===gs.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=Ii(r[s],a[s]);if(0!==e)return e;const t=ks(n[r[s]],i[a[s]]);if(0!==t)return t}return Ni(r.length,a.length)}(e.mapValue,t.mapValue);default:throw hi(23264,{he:n})}}function Ss(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ni(e,t);const n=ts(e),r=ts(t),i=Ni(n.seconds,r.seconds);return 0!==i?i:Ni(n.nanos,r.nanos)}function Es(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ks(n[i],r[i]);if(e)return e}return Ni(n.length,r.length)}function _s(e){return Ts(e)}function Ts(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ts(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return rs(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ui.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ts(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ts(e.fields[i]));return n+"}"}(e.mapValue):hi(61005,{value:e})}function Cs(e){switch(bs(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=cs(e);return t?16+Cs(t):16;case 5:return 2*e.stringValue.length;case 6:return rs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Cs(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ha(e.fields,(e,n)=>{t+=e.length+Cs(n)}),t}(e.mapValue);default:throw hi(13486,{value:e})}}function js(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ns(e){return!!e&&"integerValue"in e}function Is(e){return!!e&&"arrayValue"in e}function As(e){return!!e&&"nullValue"in e}function Rs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ps(e){return!!e&&"mapValue"in e}function Ds(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[ps])||void 0===t?void 0:t.stringValue)===vs}function Os(e){if(e.geoPointValue)return{geoPointValue:u({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:u({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ha(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Os(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Os(e.arrayValue.values[n]);return t}return u({},e)}function Ls(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ms}class Ms{constructor(e){this.value=e}static empty(){return new Ms({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ps(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Os(t)}setAll(e){let t=Fi.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Os(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ps(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ps(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ha(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Ms(Os(this.value))}}function zs(e){const t=[];return Ha(e.fields,(e,n)=>{const r=new Fi([e]);if(Ps(n)){const e=zs(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new $a(t)}class Fs{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Fs(e,0,Ji.min(),Ji.min(),Ji.min(),Ms.empty(),0)}static newFoundDocument(e,t,n,r){return new Fs(e,1,t,Ji.min(),n,r,0)}static newNoDocument(e,t){return new Fs(e,2,t,Ji.min(),Ji.min(),Ms.empty(),0)}static newUnknownDocument(e,t){return new Fs(e,3,t,Ji.min(),Ji.min(),Ms.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ji.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ms.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ji.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Us{constructor(e,t){this.position=e,this.inclusive=t}}function Vs(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?Ui.comparator(Ui.fromName(s.referenceValue),n.key):ks(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Bs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ws(e.position[n],t.position[n]))return!1;return!0}class qs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Hs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ws{}class Ks extends Ws{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new eo(e,t,n):"array-contains"===t?new io(e,n):"in"===t?new ao(e,n):"not-in"===t?new so(e,n):"array-contains-any"===t?new oo(e,n):new Ks(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new to(e,n):new no(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(ks(t,this.value)):null!==t&&bs(this.value)===bs(t)&&this.matchesComparison(ks(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hi(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gs extends Ws{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Gs(e,t)}matches(e){return Qs(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Qs(e){return"and"===e.op}function Ys(e){return Xs(e)&&Qs(e)}function Xs(e){for(const t of e.filters)if(t instanceof Gs)return!1;return!0}function $s(e){if(e instanceof Ks)return e.field.canonicalString()+e.op.toString()+_s(e.value);if(Ys(e))return e.filters.map(e=>$s(e)).join(",");{const t=e.filters.map(e=>$s(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Js(e,t){return e instanceof Ks?function(e,t){return t instanceof Ks&&e.op===t.op&&e.field.isEqual(t.field)&&ws(e.value,t.value)}(e,t):e instanceof Gs?function(e,t){return t instanceof Gs&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Js(n,t.filters[r]),!0)}(e,t):void hi(19439)}function Zs(e){return e instanceof Ks?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(_s(e.value))}(e):e instanceof Gs?function(e){return e.op.toString()+" {"+e.getFilters().map(Zs).join(" ,")+"}"}(e):"Filter"}class eo extends Ks{constructor(e,t,n){super(e,t,n),this.key=Ui.fromName(n.referenceValue)}matches(e){const t=Ui.comparator(e.key,this.key);return this.matchesComparison(t)}}class to extends Ks{constructor(e,t){super(e,"in",t),this.keys=ro("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class no extends Ks{constructor(e,t){super(e,"not-in",t),this.keys=ro("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ro(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Ui.fromName(e.referenceValue))}class io extends Ks{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Is(t)&&xs(t.arrayValue,this.value)}}class ao extends Ks{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xs(this.value.arrayValue,t)}}class so extends Ks{constructor(e,t){super(e,"not-in",t)}matches(e){if(xs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!xs(this.value.arrayValue,t)}}class oo extends Ks{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Is(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>xs(this.value.arrayValue,e))}}class lo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.Te=null}}function co(e){return new lo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function uo(e){const t=mi(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>$s(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),fa(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>_s(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>_s(e)).join(",")),t.Te=e}return t.Te}function ho(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Hs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Js(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Bs(e.startAt,t.startAt)&&Bs(e.endAt,t.endAt)}function fo(e){return Ui.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class po{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mo(e,t,n,r,i,a,s,o){return new po(e,t,n,r,i,a,s,o)}function go(e){return new po(e)}function vo(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function yo(e){return null!==e.collectionGroup}function bo(e){const t=mi(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ya(Fi.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new qs(r,n))}),e.has(Fi.keyField().canonicalString())||t.Ie.push(new qs(Fi.keyField(),n))}return t.Ie}function wo(e){const t=mi(e);return t.Ee||(t.Ee=xo(t,bo(e))),t.Ee}function xo(e,t){if("F"===e.limitType)return co(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new qs(e.field,t)});const n=e.endAt?new Us(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Us(e.startAt.position,e.startAt.inclusive):null;return co(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ko(e,t){const n=e.filters.concat([t]);return new po(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function So(e,t,n){return new po(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Eo(e,t){return ho(wo(e),wo(t))&&e.limitType===t.limitType}function _o(e){return"".concat(uo(wo(e)),"|lt:").concat(e.limitType)}function To(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Zs(e)).join(", "),"]")),fa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>_s(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>_s(e)).join(",")),"Target(".concat(t,")")}(wo(e)),"; limitType=").concat(e.limitType,")")}function Co(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ui.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of bo(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Vs(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,bo(e),t))&&!(e.endAt&&!function(e,t,n){const r=Vs(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,bo(e),t))}(e,t)}function jo(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function No(e){return(t,n)=>{let r=!1;for(const i of bo(e)){const e=Io(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Io(e,t,n){const r=e.field.isKeyField()?Ui.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ks(r,i):hi(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return hi(19790,{direction:e.dir})}}class Ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Wa(this.inner)}size(){return this.innerSize}}const Ro=new Ka(Ui.comparator);function Po(){return Ro}const Do=new Ka(Ui.comparator);function Oo(){let e=Do;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Lo(e){let t=Do;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Mo(){return Fo()}function zo(){return Fo()}function Fo(){return new Ao(e=>e.toString(),(e,t)=>e.isEqual(t))}const Uo=new Ka(Ui.comparator),Vo=new Ya(Ui.comparator);function Bo(){let e=Vo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const qo=new Ya(Ni);function Ho(){return qo}function Wo(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pa(t)?"-0":t}}function Ko(e){return{integerValue:""+e}}function Go(e,t){return ma(t)?Ko(t):Wo(e,t)}class Qo{constructor(){this._=void 0}}function Yo(e,t,n){return e instanceof Jo?function(e,t){const n={fields:{[as]:{stringValue:is},[os]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ls(t)&&(t=cs(t)),t&&(n.fields[ss]=t),{mapValue:n}}(n,t):e instanceof Zo?el(e,t):e instanceof tl?nl(e,t):function(e,t){const n=$o(e,t),r=il(n)+il(e.Ae);return Ns(n)&&Ns(e.Ae)?Ko(r):Wo(e.serializer,r)}(e,t)}function Xo(e,t,n){return e instanceof Zo?el(e,t):e instanceof tl?nl(e,t):n}function $o(e,t){return e instanceof rl?function(e){return Ns(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Jo extends Qo{}class Zo extends Qo{constructor(e){super(),this.elements=e}}function el(e,t){const n=al(t);for(const r of e.elements)n.some(e=>ws(e,r))||n.push(r);return{arrayValue:{values:n}}}class tl extends Qo{constructor(e){super(),this.elements=e}}function nl(e,t){let n=al(t);for(const r of e.elements)n=n.filter(e=>!ws(e,r));return{arrayValue:{values:n}}}class rl extends Qo{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function il(e){return ns(e.integerValue||e.doubleValue)}function al(e){return Is(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class sl{constructor(e,t){this.field=e,this.transform=t}}class ol{constructor(e,t){this.version=e,this.transformResults=t}}class ll{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ll}static exists(e){return new ll(void 0,e)}static updateTime(e){return new ll(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ul{}function dl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new xl(e.key,ll.none()):new gl(e.key,e.data,ll.none());{const n=e.data,r=Ms.empty();let i=new Ya(Fi.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new vl(e.key,r,new $a(i.toArray()),ll.none())}}function hl(e,t,n){e instanceof gl?function(e,t,n){const r=e.value.clone(),i=bl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vl?function(e,t,n){if(!cl(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=bl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(yl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function fl(e,t,n,r){return e instanceof gl?function(e,t,n,r){if(!cl(e.precondition,t))return n;const i=e.value.clone(),a=wl(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof vl?function(e,t,n,r){if(!cl(e.precondition,t))return n;const i=wl(e.fieldTransforms,r,t),a=t.data;return a.setAll(yl(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return cl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function pl(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=$o(r.transform,e||null);null!=i&&(null===n&&(n=Ms.empty()),n.set(r.field,i))}return n||null}function ml(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Di(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Zo&&t instanceof Zo||e instanceof tl&&t instanceof tl?Di(e.elements,t.elements,ws):e instanceof rl&&t instanceof rl?ws(e.Ae,t.Ae):e instanceof Jo&&t instanceof Jo}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class gl extends ul{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class vl extends ul{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function yl(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function bl(e,t,n){const r=new Map;pi(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,Xo(s,o,n[i]))}return r}function wl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,Yo(e,a,t))}return r}class xl extends ul{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kl extends ul{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&hl(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=fl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=fl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=zo();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=dl(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(Ji.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Bo())}isEqual(e){return this.batchId===e.batchId&&Di(this.mutations,e.mutations,(e,t)=>ml(e,t))&&Di(this.baseMutations,e.baseMutations,(e,t)=>ml(e,t))}}class El{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){pi(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Uo;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new El(e,t,n,r)}}class _l{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Tl{constructor(e,t){this.count=e,this.unchangedNames=t}}var Cl,jl;function Nl(e){switch(e){case gi.OK:return hi(64938);case gi.CANCELLED:case gi.UNKNOWN:case gi.DEADLINE_EXCEEDED:case gi.RESOURCE_EXHAUSTED:case gi.INTERNAL:case gi.UNAVAILABLE:case gi.UNAUTHENTICATED:return!1;case gi.INVALID_ARGUMENT:case gi.NOT_FOUND:case gi.ALREADY_EXISTS:case gi.PERMISSION_DENIED:case gi.FAILED_PRECONDITION:case gi.ABORTED:case gi.OUT_OF_RANGE:case gi.UNIMPLEMENTED:case gi.DATA_LOSS:return!0;default:return hi(15467,{code:e})}}function Il(e){if(void 0===e)return ci("GRPC error has no .code"),gi.UNKNOWN;switch(e){case Cl.OK:return gi.OK;case Cl.CANCELLED:return gi.CANCELLED;case Cl.UNKNOWN:return gi.UNKNOWN;case Cl.DEADLINE_EXCEEDED:return gi.DEADLINE_EXCEEDED;case Cl.RESOURCE_EXHAUSTED:return gi.RESOURCE_EXHAUSTED;case Cl.INTERNAL:return gi.INTERNAL;case Cl.UNAVAILABLE:return gi.UNAVAILABLE;case Cl.UNAUTHENTICATED:return gi.UNAUTHENTICATED;case Cl.INVALID_ARGUMENT:return gi.INVALID_ARGUMENT;case Cl.NOT_FOUND:return gi.NOT_FOUND;case Cl.ALREADY_EXISTS:return gi.ALREADY_EXISTS;case Cl.PERMISSION_DENIED:return gi.PERMISSION_DENIED;case Cl.FAILED_PRECONDITION:return gi.FAILED_PRECONDITION;case Cl.ABORTED:return gi.ABORTED;case Cl.OUT_OF_RANGE:return gi.OUT_OF_RANGE;case Cl.UNIMPLEMENTED:return gi.UNIMPLEMENTED;case Cl.DATA_LOSS:return gi.DATA_LOSS;default:return hi(39323,{code:e})}}(jl=Cl||(Cl={}))[jl.OK=0]="OK",jl[jl.CANCELLED=1]="CANCELLED",jl[jl.UNKNOWN=2]="UNKNOWN",jl[jl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jl[jl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jl[jl.NOT_FOUND=5]="NOT_FOUND",jl[jl.ALREADY_EXISTS=6]="ALREADY_EXISTS",jl[jl.PERMISSION_DENIED=7]="PERMISSION_DENIED",jl[jl.UNAUTHENTICATED=16]="UNAUTHENTICATED",jl[jl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jl[jl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jl[jl.ABORTED=10]="ABORTED",jl[jl.OUT_OF_RANGE=11]="OUT_OF_RANGE",jl[jl.UNIMPLEMENTED=12]="UNIMPLEMENTED",jl[jl.INTERNAL=13]="INTERNAL",jl[jl.UNAVAILABLE=14]="UNAVAILABLE",jl[jl.DATA_LOSS=15]="DATA_LOSS";let Al=null;function Rl(){return new TextEncoder}const Pl=new Br([4294967295,4294967295],0);function Dl(e){const t=Rl().encode(e),n=new qr;return n.update(t),new Uint8Array(n.digest())}function Ol(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Br([n,r],0),new Br([i,a],0)]}class Ll{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ml("Invalid padding: ".concat(t));if(n<0)throw new Ml("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Ml("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Ml("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Br.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Br.fromNumber(n)));return 1===r.compare(Pl)&&(r=new Br([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Dl(e),[n,r]=Ol(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Ll(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.ge)return;const t=Dl(e),[n,r]=Ol(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zl{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new zl(Ji.min(),r,new Ka(Ni),Po(),Bo())}}class Fl{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Fl(n,t,Bo(),Bo(),Bo())}}class Ul{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Vl{constructor(e,t){this.targetId=e,this.Ce=t}}class Bl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Za.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ql{constructor(){this.ve=0,this.Fe=Kl(),this.Me=Za.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Bo(),t=Bo(),n=Bo();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:hi(38017,{changeType:i})}}),new Fl(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Kl()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pi(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Hl{constructor(e){this.Ge=e,this.ze=new Map,this.je=Po(),this.Je=Wl(),this.He=Wl(),this.Ye=new Ka(Ni)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:hi(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(fo(a))if(0===n){const e=new Ui(a.path);this.et(t,e,Fs.newNoDocument(e,Ji.min()))}else pi(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),a=n?this.ct(n,e,r):1;if(0!==a){this.it(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=Al)||void 0===i||i.lt(function(e,t,n,r,i){var a,s,o,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(a=null===d||void 0===d?void 0:d.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,a))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,s;try{a=rs(n).toUint8Array()}catch(e){if(e instanceof Ja)return ui("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Ll(a,r,i)}catch(e){return ui(e instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&fo(i.target)){const t=new Ui(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Fs.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Bo();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new zl(e,t,this.Ye,this.je,n);return this.je=Po(),this.Je=Wl(),this.He=Wl(),this.Ye=new Ka(Ni),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ql,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ya(Ni),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ya(Ni),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||li("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ql),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Wl(){return new Ka(Ui.comparator)}function Kl(){return new Ka(Ui.comparator)}const Gl={asc:"ASCENDING",desc:"DESCENDING"},Ql={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yl={and:"AND",or:"OR"};class Xl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $l(e,t){return e.useProto3Json||fa(t)?t:{value:t}}function Jl(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ec(e,t){return Jl(e,t.toTimestamp())}function tc(e){return pi(!!e,49232),Ji.fromTimestamp(function(e){const t=ts(e);return new $i(t.seconds,t.nanos)}(e))}function nc(e,t){return rc(e,t).canonicalString()}function rc(e,t){const n=function(e){return new Mi(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ic(e){const t=Mi.fromString(e);return pi(Ec(t),10190,{key:t.toString()}),t}function ac(e,t){return nc(e.databaseId,t.path)}function sc(e,t){const n=ic(t);if(n.get(1)!==e.databaseId.projectId)throw new vi(gi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vi(gi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ui(uc(n))}function oc(e,t){return nc(e.databaseId,t)}function lc(e){const t=ic(e);return 4===t.length?Mi.emptyPath():uc(t)}function cc(e){return new Mi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uc(e){return pi(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function dc(e,t,n){return{name:ac(e,t),fields:n.value.mapValue.fields}}function hc(e,t){let n;if(t instanceof gl)n={update:dc(e,t.key,t.value)};else if(t instanceof xl)n={delete:ac(e,t.key)};else if(t instanceof vl)n={update:dc(e,t.key,t.data),updateMask:Sc(t.fieldMask)};else{if(!(t instanceof kl))return hi(16599,{Vt:t.type});n={verify:ac(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Jo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rl)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw hi(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ec(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:hi(27497)}(e,t.precondition)),n}function fc(e,t){return{documents:[oc(e,t.path)]}}function pc(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oc(e,i);const a=function(e){if(0!==e.length)return kc(Gs.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:wc(e.field),direction:vc(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=$l(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function mc(e){let t=lc(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pi(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=gc(e);return t instanceof Gs&&Ys(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new qs(xc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,fa(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Us(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Us(n,t)}(n.endAt)),mo(t,i,s,a,o,"F",l,c)}function gc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=xc(e.unaryFilter.field);return Ks.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=xc(e.unaryFilter.field);return Ks.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=xc(e.unaryFilter.field);return Ks.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=xc(e.unaryFilter.field);return Ks.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return hi(61313);default:return hi(60726)}}(e):void 0!==e.fieldFilter?function(e){return Ks.create(xc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return hi(58110);default:return hi(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Gs.create(e.compositeFilter.filters.map(e=>gc(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return hi(1026)}}(e.compositeFilter.op))}(e):hi(30097,{filter:e})}function vc(e){return Gl[e]}function yc(e){return Ql[e]}function bc(e){return Yl[e]}function wc(e){return{fieldPath:e.canonicalString()}}function xc(e){return Fi.fromServerFormat(e.fieldPath)}function kc(e){return e instanceof Ks?function(e){if("=="===e.op){if(Rs(e.value))return{unaryFilter:{field:wc(e.field),op:"IS_NAN"}};if(As(e.value))return{unaryFilter:{field:wc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Rs(e.value))return{unaryFilter:{field:wc(e.field),op:"IS_NOT_NAN"}};if(As(e.value))return{unaryFilter:{field:wc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(e.field),op:yc(e.op),value:e.value}}}(e):e instanceof Gs?function(e){const t=e.getFilters().map(e=>kc(e));return 1===t.length?t[0]:{compositeFilter:{op:bc(e.op),filters:t}}}(e):hi(54877,{filter:e})}function Sc(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ec(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class _c{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ji.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ji.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Za.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new _c(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _c(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Tc{constructor(e){this.yt=e}}function Cc(e){const t=mc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?So(t,t.limit,"L"):t}class jc{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ns(e.integerValue));else if("doubleValue"in e){const n=ns(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),pa(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=ts(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(rs(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Ls(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Ds(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):hi(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=ys,a=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(ns(a)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Ui.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}jc.Kt=new jc;class Nc{constructor(){this.Cn=new Ic}addToCollectionParentIndex(e,t){return this.Cn.add(t),la.resolve()}getCollectionParents(e,t){return la.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return la.resolve()}deleteFieldIndex(e,t){return la.resolve()}deleteAllFieldIndexes(e){return la.resolve()}createTargetIndexes(e,t){return la.resolve()}getDocumentsMatchingTarget(e,t){return la.resolve(null)}getIndexType(e,t){return la.resolve(0)}getFieldIndexes(e,t){return la.resolve([])}getNextCollectionGroupToUpdate(e){return la.resolve(null)}getMinOffset(e,t){return la.resolve(ra.min())}getMinOffsetFromCollectionGroup(e,t){return la.resolve(ra.min())}updateCollectionGroup(e,t,n){return la.resolve()}updateIndexEntries(e,t){return la.resolve()}}class Ic{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ya(Mi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ya(Mi.comparator)).toArray()}}new Uint8Array(0);const Ac={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rc=41943040;class Pc{static withCacheSize(e){return new Pc(e,Pc.DEFAULT_COLLECTION_PERCENTILE,Pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Pc.DEFAULT_COLLECTION_PERCENTILE=10,Pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pc.DEFAULT=new Pc(Rc,Pc.DEFAULT_COLLECTION_PERCENTILE,Pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pc.DISABLED=new Pc(-1,0,0);class Dc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Dc(0)}static cr(){return new Dc(-1)}}const Oc="LruGarbageCollector",Lc=1048576;function Mc(e,t){let[n,r]=e,[i,a]=t;const s=Ni(n,i);return 0===s?Ni(r,a):s}class zc{constructor(e){this.Ir=e,this.buffer=new Ya(Mc),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Mc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){li(Oc,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ua(e)?li(Oc,"Ignoring IndexedDB error during garbage collection: ",e):await oa(e)}await this.Vr(3e5)})}}class Uc{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return la.resolve(da.ce);const n=new zc(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(li("LruGarbageCollector","Garbage collection skipped; disabled"),la.resolve(Ac)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(li("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ac):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,s,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(li("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),oi()<=bn.DEBUG&&li("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),la.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Vc(e,t){return new Uc(e,t)}class Bc{constructor(){this.changes=new Ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?la.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Hc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&fl(n.mutation,e,$a.empty(),$i.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Bo()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bo();const r=Mo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Oo();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Mo();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Bo()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Po();const a=Fo(),s=Fo();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof vl)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),fl(s.mutation,t,s.mutation.getFieldMask(),$i.now())):a.set(t.key,$a.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new qc(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=Fo();let r=new Ka((e,t)=>e-t),i=Bo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||$a.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||Bo()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=zo();l.forEach(e=>{if(!i.has(e)){const r=dl(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return la.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ui.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):la.resolve(Mo());let s=Zi,o=i;return a.next(t=>la.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?la.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Bo())).next(e=>({batchId:s,changes:Lo(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ui(t)).next(e=>{let t=Oo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=Oo();return this.indexManager.getCollectionParents(e,i).next(s=>la.forEach(s,s=>{const o=function(e,t){return new po(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Fs.newInvalidDocument(r)))});let n=Oo();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&fl(a.mutation,r,$a.empty(),$i.now()),Co(t,r)&&(n=n.insert(e,r))}),n})}}class Wc{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return la.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:tc(e.createTime)}}(t)),la.resolve()}getNamedQuery(e,t){return la.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Cc(e.bundledQuery),readTime:tc(e.readTime)}}(t)),la.resolve()}}class Kc{constructor(){this.overlays=new Ka(Ui.comparator),this.qr=new Map}getOverlay(e,t){return la.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Mo();return la.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),la.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),la.resolve()}getOverlaysForCollection(e,t,n){const r=Mo(),i=t.length+1,a=new Ui(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return la.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ka((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Mo(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Mo(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return la.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new _l(t,n));let i=this.qr.get(t);void 0===i&&(i=Bo(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Gc{constructor(){this.sessionToken=Za.EMPTY_BYTE_STRING}getSessionToken(e){return la.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,la.resolve()}}class Qc{constructor(){this.Qr=new Ya(Yc.$r),this.Ur=new Ya(Yc.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Yc(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Yc(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Ui(new Mi([])),n=new Yc(t,e),r=new Yc(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ui(new Mi([])),n=new Yc(t,e),r=new Yc(t,e+1);let i=Bo();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Yc(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Yc{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ui.comparator(e.key,t.key)||Ni(e.Yr,t.Yr)}static Kr(e,t){return Ni(e.Yr,t.Yr)||Ui.comparator(e.key,t.key)}}class Xc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ya(Yc.$r)}checkEmpty(e){return la.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Sl(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.Zr=this.Zr.add(new Yc(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return la.resolve(a)}lookupMutationBatch(e,t){return la.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return la.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return la.resolve(0===this.mutationQueue.length?ha:this.tr-1)}getAllMutationBatches(e){return la.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Yc(t,0),r=new Yc(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),la.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ya(Ni);return t.forEach(e=>{const t=new Yc(e,0),r=new Yc(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),la.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ui.isDocumentKey(i)||(i=i.child(""));const a=new Yc(new Ui(i),0);let s=new Ya(Ni);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},a),la.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){pi(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return la.forEach(t.mutations,r=>{const i=new Yc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Yc(t,0),r=this.Zr.firstAfterOrEqual(n);return la.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,la.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $c{constructor(e){this.ri=e,this.docs=new Ka(Ui.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return la.resolve(n?n.document.mutableCopy():Fs.newInvalidDocument(t))}getEntries(e,t){let n=Po();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Fs.newInvalidDocument(e))}),la.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Po();const a=t.path,s=new Ui(a.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||ia(na(s),n)<=0||(r.has(s.key)||Co(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return la.resolve(i)}getAllFromCollectionGroup(e,t,n,r){hi(9500)}ii(e,t){return la.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Jc(this)}getSize(e){return la.resolve(this.size)}}class Jc extends Bc{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),la.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Zc{constructor(e){this.persistence=e,this.si=new Ao(e=>uo(e),ho),this.lastRemoteSnapshotVersion=Ji.min(),this.highestTargetId=0,this.oi=0,this._i=new Qc,this.targetCount=0,this.ai=Dc.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),la.resolve()}getLastRemoteSnapshotVersion(e){return la.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return la.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),la.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),la.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Dc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,la.resolve()}updateTargetData(e,t){return this.Pr(t),la.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,la.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),la.waitFor(i).next(()=>r)}getTargetCount(e){return la.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return la.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),la.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),la.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),la.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return la.resolve(n)}containsKey(e,t){return la.resolve(this._i.containsKey(t))}}class eu{constructor(e,t){this.ui={},this.overlays={},this.ci=new da(0),this.li=!1,this.li=!0,this.hi=new Gc,this.referenceDelegate=e(this),this.Pi=new Zc(this),this.indexManager=new Nc,this.remoteDocumentCache=function(e){return new $c(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Tc(t),this.Ii=new Wc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Kc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Xc(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){li("MemoryPersistence","Starting transaction:",e);const r=new tu(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return la.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class tu extends sa{constructor(e){super(),this.currentSequenceNumber=e}}class nu{constructor(e){this.persistence=e,this.Ri=new Qc,this.Vi=null}static mi(e){return new nu(e)}get fi(){if(this.Vi)return this.Vi;throw hi(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),la.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),la.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),la.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return la.forEach(this.fi,n=>{const r=Ui.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Ji.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return la.or([()=>la.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ru{constructor(e,t){this.persistence=e,this.pi=new Ao(e=>va(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Vc(this,t)}static mi(e,t){return new ru(e,t)}Ei(){}di(e){return la.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return la.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?la.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Ji.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),la.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),la.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),la.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),la.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cs(e.data.value)),t}br(e,t,n){return la.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return la.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class iu{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Bo(),r=Bo();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new iu(e,t.fromCache,n,r)}}class au{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class su{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=en()?8:ca(Jt())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new au;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(oi()<=bn.DEBUG&&li("QueryEngine","SDK will not create cache indexes for query:",To(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),la.resolve()):(oi()<=bn.DEBUG&&li("QueryEngine","Query:",To(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(oi()<=bn.DEBUG&&li("QueryEngine","The SDK decides to create cache indexes for query:",To(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wo(t))):la.resolve())}ys(e,t){if(vo(t))return la.resolve(null);let n=wo(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=So(t,null,"F"),n=wo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Bo(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,So(t,null,"F")):this.vs(e,a,t,n)}))})))}ws(e,t,n,r){return vo(t)||r.isEqual(Ji.min())?la.resolve(null):this.ps.getDocuments(e,n).next(i=>{const a=this.Ds(t,i);return this.Cs(t,a,n,r)?la.resolve(null):(oi()<=bn.DEBUG&&li("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),To(t)),this.vs(e,a,t,ta(r,Zi)).next(e=>e))})}Ds(e,t){let n=new Ya(No(e));return t.forEach((t,r)=>{Co(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return oi()<=bn.DEBUG&&li("QueryEngine","Using full collection scan to execute query:",To(t)),this.ps.getDocumentsMatchingQuery(e,t,ra.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const ou="LocalStore";class lu{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Ka(Ni),this.xs=new Ao(e=>uo(e),ho),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hc(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function cu(e,t,n,r){return new lu(e,t,n,r)}async function uu(e,t){const n=mi(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let s=Bo();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:a}))})})}function du(e){const t=mi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function hu(e,t,n){let r=Bo(),i=Bo();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Po();return n.forEach((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Ji.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):li(ou,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),{ks:r,qs:i}})}function fu(e,t){const n=mi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=ha),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function pu(e,t){const n=mi(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,la.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new _c(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function mu(e,t,n){const r=mi(e),i=r.Ms.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!ua(e))throw e;li(ou,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function gu(e,t,n){const r=mi(e);let i=Ji.min(),a=Bo();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=mi(e),i=r.xs.get(n);return void 0!==i?la.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,wo(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:Ji.min(),n?a:Bo())).next(e=>(vu(r,jo(t),e),{documents:e,Qs:a})))}function vu(e,t,n){let r=e.Os.get(t)||Ji.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class yu{constructor(){this.activeTargetIds=Ho()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bu{constructor(){this.Mo=new yu,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new yu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wu{Oo(e){}shutdown(){}}const xu="ConnectivityMonitor";class ku{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){li(xu,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){li(xu,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Su=null;function Eu(){return null===Su?Su=268435456+Math.round(2147483648*Math.random()):Su++,"0x"+Su.toString(16)}const _u="RestConnection",Tu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cu{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===hs?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const a=Eu(),s=this.zo(e,t.toUriEncodedString());li(_u,"Sending RPC '".concat(e,"' ").concat(a,":"),s,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,i);const{host:l}=new URL(s),c=Gt(l);return this.Jo(e,s,o,n,c).then(t=>(li(_u,"Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw ui(_u,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ai,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Tu[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class ju{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Nu="WebChannelConnection";class Iu extends Cu{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=Eu();return new Promise((i,s)=>{const o=new Kr;o.setWithCredentials(!0),o.listenOnce(Qr.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Yr.NO_ERROR:const n=o.getResponseJson();li(Nu,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(n)),i(n);break;case Yr.TIMEOUT:li(Nu,"RPC '".concat(e,"' ").concat(a," timed out")),s(new vi(gi.DEADLINE_EXCEEDED,"Request time out"));break;case Yr.HTTP_ERROR:const r=o.getStatus();if(li(Nu,"RPC '".concat(e,"' ").concat(a," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(gi).indexOf(t)>=0?t:gi.UNKNOWN}(n.status);s(new vi(e,n.message))}else s(new vi(gi.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new vi(gi.UNAVAILABLE,"Connection failed."));break;default:hi(9055,{l_:e,streamId:a,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{li(Nu,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);li(Nu,"RPC '".concat(e,"' ").concat(a," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Eu(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Zr(),s=Jr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");li(Nu,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=a.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const f=new ju({Yo:t=>{h?li(Nu,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(li(Nu,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),li(Nu,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Gr.EventType.OPEN,()=>{h||(li(Nu,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,Gr.EventType.CLOSE,()=>{h||(h=!0,li(Nu,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,Gr.EventType.ERROR,t=>{h||(h=!0,ui(Nu,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new vi(gi.UNAVAILABLE,"The operation could not be completed")))}),p(u,Gr.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];pi(!!i,16349);const a=i,s=(null===a||void 0===a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){li(Nu,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Cl[e];if(void 0!==t)return Il(t)}(t),i=s.message;void 0===n&&(n=gi.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.a_(new vi(n,i)),u.close()}else li(Nu,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(s,$r.STAT_EVENT,t=>{t.stat===Xr.PROXY?li(Nu,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Xr.NOPROXY&&li(Nu,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Au(){return"undefined"!=typeof document?document:null}function Ru(e){return new Xl(e,!0)}class Pu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&li("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Du="PersistentStream";class Ou{constructor(e,t,n,r,i,a,s,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Pu(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===gi.RESOURCE_EXHAUSTED?(ci(t.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===gi.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new vi(gi.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return li(Du,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(li(Du,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lu extends Ou{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:hi(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(pi(void 0===t||"string"==typeof t,58123),Za.fromBase64String(t||"")):(pi(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Za.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?gi.UNKNOWN:Il(e.code);return new vi(t,e.message||"")}(s);n=new Bl(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=sc(e,r.document.name),a=tc(r.document.updateTime),s=r.document.createTime?tc(r.document.createTime):Ji.min(),o=new Ms({mapValue:{fields:r.document.fields}}),l=Fs.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ul(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=sc(e,r.document),a=r.readTime?tc(r.readTime):Ji.min(),s=Fs.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Ul([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=sc(e,r.document),a=r.removedTargetIds||[];n=new Ul([],a,i,null)}else{if(!("filter"in t))return hi(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Tl(r,i),s=e.targetId;n=new Vl(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ji.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ji.min():t.readTime?tc(t.readTime):Ji.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=cc(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=fo(r)?{documents:fc(e,r)}:{query:pc(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Zl(e,t.resumeToken);const r=$l(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ji.min())>0){n.readTime=Jl(e,t.snapshotVersion.toTimestamp());const r=$l(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hi(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=cc(this.serializer),t.removeTarget=e,this.q_(t)}}class Mu extends Ou{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return pi(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pi(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){pi(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(pi(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?tc(e.updateTime):tc(t);return n.isEqual(Ji.min())&&(n=tc(t)),new ol(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=tc(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=cc(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>hc(this.serializer,e))};this.q_(t)}}class zu{}class Fu extends zu{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new vi(gi.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,s]=i;return this.connection.Go(e,rc(t,n),r,a,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===gi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vi(gi.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[s,o]=a;return this.connection.Ho(e,rc(t,n),r,s,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===gi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vi(gi.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Uu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(ci(t),this.aa=!1):li("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Vu="RemoteStore";class Bu{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{$u(this)&&(li(Vu,"Restarting streams for network reachability change."),await async function(e){const t=mi(e);t.Ea.add(4),await Hu(t),t.Ra.set("Unknown"),t.Ea.delete(4),await qu(t)}(this))})}),this.Ra=new Uu(n,r)}}async function qu(e){if($u(e))for(const t of e.da)await t(!0)}async function Hu(e){for(const t of e.da)await t(!1)}function Wu(e,t){const n=mi(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Xu(n)?Yu(n):gd(n).O_()&&Gu(n,t))}function Ku(e,t){const n=mi(e),r=gd(n);n.Ia.delete(t),r.O_()&&Qu(n,t),0===n.Ia.size&&(r.O_()?r.L_():$u(n)&&n.Ra.set("Unknown"))}function Gu(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ji.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gd(e).Y_(t)}function Qu(e,t){e.Va.Ue(t),gd(e).Z_(t)}function Yu(e){e.Va=new Hl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),gd(e).start(),e.Ra.ua()}function Xu(e){return $u(e)&&!gd(e).x_()&&e.Ia.size>0}function $u(e){return 0===mi(e).Ea.size}function Ju(e){e.Va=void 0}async function Zu(e){e.Ra.set("Online")}async function ed(e){e.Ia.forEach((t,n)=>{Gu(e,t)})}async function td(e,t){Ju(e),Xu(e)?(e.Ra.ha(t),Yu(e)):e.Ra.set("Unknown")}async function nd(e,t,n){if(e.Ra.set("Online"),t instanceof Bl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){li(Vu,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await rd(e,n)}else if(t instanceof Ul?e.Va.Ze(t):t instanceof Vl?e.Va.st(t):e.Va.tt(t),!n.isEqual(Ji.min()))try{const t=await du(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Za.EMPTY_BYTE_STRING,r.snapshotVersion)),Qu(e,t);const i=new _c(r.target,t,n,r.sequenceNumber);Gu(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){li(Vu,"Failed to raise snapshot:",t),await rd(e,t)}}async function rd(e,t,n){if(!ua(t))throw t;e.Ea.add(1),await Hu(e),e.Ra.set("Offline"),n||(n=()=>du(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{li(Vu,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await qu(e)})}function id(e,t){return t().catch(n=>rd(e,n,t))}async function ad(e){const t=mi(e),n=vd(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ha;for(;sd(t);)try{const e=await fu(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,od(t,e)}catch(e){await rd(t,e)}ld(t)&&cd(t)}function sd(e){return $u(e)&&e.Ta.length<10}function od(e,t){e.Ta.push(t);const n=vd(e);n.O_()&&n.X_&&n.ea(t.mutations)}function ld(e){return $u(e)&&!vd(e).x_()&&e.Ta.length>0}function cd(e){vd(e).start()}async function ud(e){vd(e).ra()}async function dd(e){const t=vd(e);for(const n of e.Ta)t.ea(n.mutations)}async function hd(e,t,n){const r=e.Ta.shift(),i=El.from(r,t,n);await id(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ad(e)}async function fd(e,t){t&&vd(e).X_&&await async function(e,t){if(function(e){return Nl(e)&&e!==gi.ABORTED}(t.code)){const n=e.Ta.shift();vd(e).B_(),await id(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ad(e)}}(e,t),ld(e)&&cd(e)}async function pd(e,t){const n=mi(e);n.asyncQueue.verifyOperationInProgress(),li(Vu,"RemoteStore received new credentials");const r=$u(n);n.Ea.add(3),await Hu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await qu(n)}async function md(e,t){const n=mi(e);t?(n.Ea.delete(2),await qu(n)):t||(n.Ea.add(2),await Hu(n),n.Ra.set("Unknown"))}function gd(e){return e.ma||(e.ma=function(e,t,n){const r=mi(e);return r.sa(),new Lu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Zu.bind(null,e),t_:ed.bind(null,e),r_:td.bind(null,e),H_:nd.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Xu(e)?Yu(e):e.Ra.set("Unknown")):(await e.ma.stop(),Ju(e))})),e.ma}function vd(e){return e.fa||(e.fa=function(e,t,n){const r=mi(e);return r.sa(),new Mu(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:ud.bind(null,e),r_:fd.bind(null,e),ta:dd.bind(null,e),na:hd.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await ad(e)):(await e.fa.stop(),e.Ta.length>0&&(li(Vu,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class yd{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new yd(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vi(gi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bd(e,t){if(ci("AsyncQueue","".concat(t,": ").concat(e)),ua(e))return new vi(gi.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class wd{static emptySet(e){return new wd(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ui.comparator(t.key,n.key):(e,t)=>Ui.comparator(e.key,t.key),this.keyedMap=Oo(),this.sortedSet=new Ka(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new wd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class xd{constructor(){this.ga=new Ka(Ui.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):hi(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class kd{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new kd(e,t,wd.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Sd{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ed{constructor(){this.queries=_d(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=mi(e),r=n.queries;n.queries=_d(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new vi(gi.ABORTED,"Firestore shutting down"))}}function _d(){return new Ao(e=>_o(e),Eo)}async function Td(e,t){const n=mi(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new Sd,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=bd(e,"Initialization of query '".concat(To(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&Id(n)}async function Cd(e,t){const n=mi(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),0===a.Sa.length?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jd(e,t){const n=mi(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Id(n)}function Nd(e,t,n){const r=mi(e),i=r.queries.get(t);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(t)}function Id(e){e.Ca.forEach(e=>{e.next()})}var Ad,Rd;(Rd=Ad||(Ad={})).Ma="default",Rd.Cache="cache";class Pd{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new kd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=kd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ad.Cache}}class Dd{constructor(e){this.key=e}}class Od{constructor(e){this.key=e}}class Ld{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bo(),this.mutatedKeys=Bo(),this.eu=No(e),this.tu=new wd(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new xd,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Co(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:s,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hi(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==a.length||l?{snapshot:new kd(this.query,e.tu,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xd,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Bo(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Od(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Dd(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Bo();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return kd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Md="SyncEngine";class zd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Fd{constructor(e){this.key=e,this.hu=!1}}class Ud{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ao(e=>_o(e),Eo),this.Iu=new Map,this.Eu=new Set,this.du=new Ka(Ui.comparator),this.Au=new Map,this.Ru=new Qc,this.Vu={},this.mu=new Map,this.fu=Dc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Vd(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=lh(e);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await qd(r,t,n,!0),i}async function Bd(e,t){const n=lh(e);await qd(n,t,!0,!1)}async function qd(e,t,n,r){const i=await pu(e.localStore,wo(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await Hd(e,t,a,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Wu(e.remoteStore,i),o}async function Hd(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await gu(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return nh(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const a=await gu(e.localStore,t,!0),s=new Ld(t,a.Qs),o=s.ru(a.documents),l=Fl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(o,e.isPrimaryClient,l);nh(e,n,c.au);const u=new zd(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Wd(e,t,n){const r=mi(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(e=>!Eo(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ku(r.remoteStore,i.targetId),eh(r,i.targetId)}).catch(oa)):(eh(r,i.targetId),await mu(r.localStore,i.targetId,!0))}async function Kd(e,t){const n=mi(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ku(n.remoteStore,r.targetId))}async function Gd(e,t){const n=mi(e);try{const e=await function(e,t){const n=mi(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];t.targetChanges.forEach((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,a.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Za.EMPTY_BYTE_STRING,Ji.min()).withLastLimboFreeSnapshotVersion(Ji.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&s.push(n.Pi.updateTargetData(e,c))});let o=Po(),l=Bo();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(hu(e,a,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(Ji.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return la.waitFor(s).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(pi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?pi(r.hu,14607):e.removedDocuments.size>0&&(pi(r.hu,42227),r.hu=!1))}),await ah(n,e,t)}catch(e){await oa(e)}}function Qd(e,t,n){const r=mi(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=mi(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Id(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Yd(e,t,n){const r=mi(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),a=i&&i.key;if(a){let e=new Ka(Ui.comparator);e=e.insert(a,Fs.newNoDocument(a,Ji.min()));const n=Bo().add(a),i=new zl(Ji.min(),new Map,new Ka(Ni),e,n);await Gd(r,i),r.du=r.du.remove(a),r.Au.delete(t),ih(r)}else await mu(r.localStore,t,!1).then(()=>eh(r,t,n)).catch(oa)}async function Xd(e,t){const n=mi(e),r=t.batch.batchId;try{const e=await function(e,t){const n=mi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=la.resolve();return a.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);pi(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Bo();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Zd(n,r,null),Jd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ah(n,e)}catch(e){await oa(e)}}async function $d(e,t,n){const r=mi(e);try{const e=await function(e,t){const n=mi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(pi(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Zd(r,t,n),Jd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ah(r,e)}catch(n){await oa(n)}}function Jd(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Zd(e,t,n){const r=mi(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function eh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||th(e,t)})}function th(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Ku(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),ih(e))}function nh(e,t,n){for(const r of n)r instanceof Dd?(e.Ru.addReference(r.key,t),rh(e,r)):r instanceof Od?(li(Md,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||th(e,r.key)):hi(19791,{wu:r})}function rh(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(li(Md,"New document in limbo: "+n),e.Eu.add(r),ih(e))}function ih(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Ui(Mi.fromString(t)),r=e.fu.next();e.Au.set(r,new Fd(n)),e.du=e.du.insert(n,r),Wu(e.remoteStore,new _c(wo(go(n.path)),r,"TargetPurposeLimboResolution",da.ce))}}async function ah(e,t,n){const r=mi(e),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{s.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=iu.As(o.targetId,e);a.push(t)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(e,t){const n=mi(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>la.forEach(t,t=>la.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>la.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!ua(e))throw e;li(ou,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,a))}async function sh(e,t){const n=mi(e);if(!n.currentUser.isEqual(t)){li(Md,"User change. New user:",t.toKey());const e=await uu(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new vi(gi.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ah(n,e.Ls)}}function oh(e,t){const n=mi(e),r=n.Au.get(t);if(r&&r.hu)return Bo().add(r.key);{let e=Bo();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function lh(e){const t=mi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Yd.bind(null,t),t.Pu.H_=jd.bind(null,t.eventManager),t.Pu.yu=Nd.bind(null,t.eventManager),t}function ch(e){const t=mi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$d.bind(null,t),t}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ru(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return cu(this.persistence,new su,e.initialUser,this.serializer)}Cu(e){return new eu(nu.mi,this.serializer)}Du(e){return new bu}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class dh extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){pi(this.persistence.referenceDelegate instanceof ru,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Fc(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Pc.withCacheSize(this.cacheSizeBytes):Pc.DEFAULT;return new eu(e=>ru.mi(e,t),this.serializer)}}class hh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Qd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=sh.bind(null,this.syncEngine),await md(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ed}createDatastore(e){const t=Ru(e.databaseInfo.databaseId),n=function(e){return new Iu(e)}(e.databaseInfo);return function(e,t,n,r){return new Fu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Bu(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Qd(this.syncEngine,e,0),ku.v()?new ku:new wu)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new Ud(e,t,n,r,i,a);return s&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=mi(e);li(Vu,"RemoteStore shutting down."),t.Ea.add(5),await Hu(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}hh.provider={build:()=>new hh};class fh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const ph="FirestoreClient";class mh{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ii.UNAUTHENTICATED,this.clientId=ji.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{li(ph,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(li(ph,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=bd(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function gh(e,t){e.asyncQueue.verifyOperationInProgress(),li(ph,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await uu(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function vh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await yh(e);li(ph,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>pd(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>pd(t.remoteStore,n)),e._onlineComponents=t}async function yh(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){li(ph,"Using user provided OfflineComponentProvider");try{await gh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===gi.FAILED_PRECONDITION||e.code===gi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ui("Error using user provided cache. Falling back to memory cache: "+n),await gh(e,new uh)}}else li(ph,"Using default OfflineComponentProvider"),await gh(e,new dh(void 0));return e._offlineComponents}async function bh(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(li(ph,"Using user provided OnlineComponentProvider"),await vh(e,e._uninitializedComponentsProvider._online)):(li(ph,"Using default OnlineComponentProvider"),await vh(e,new hh))),e._onlineComponents}function wh(e){return bh(e).then(e=>e.syncEngine)}async function xh(e){const t=await bh(e),n=t.eventManager;return n.onListen=Vd.bind(null,t.syncEngine),n.onUnlisten=Wd.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Bd.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Kd.bind(null,t.syncEngine),n}function kh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new yi;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new fh({next:o=>{a.Nu(),t.enqueueAndForget(()=>Cd(e,s));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new vi(gi.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new vi(gi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Pd(go(n.path),a,{includeMetadataChanges:!0,qa:!0});return Td(e,s)}(await xh(e),e.asyncQueue,t,n,r)),r.promise}function Sh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new yi;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new fh({next:n=>{a.Nu(),t.enqueueAndForget(()=>Cd(e,s)),n.fromCache&&"server"===r.source?i.reject(new vi(gi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Pd(n,a,{includeMetadataChanges:!0,qa:!0});return Td(e,s)}(await xh(e),e.asyncQueue,t,n,r)),r.promise}function Eh(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const _h=new Map,Th="firestore.googleapis.com",Ch=!0;class jh{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new vi(gi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Th,this.ssl=Ch}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Ch;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Rc;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Lc)throw new vi(gi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new vi(gi.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Eh(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new vi(gi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new vi(gi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new vi(gi.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nh{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vi(gi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vi(gi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jh(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wi;switch(e.type){case"firstParty":return new Ei(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vi(gi.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_h.get(e);t&&(li("ComponentProvider","Removing Datastore"),_h.delete(e),t.terminate())}(this),Promise.resolve()}}function Ih(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Ki(e,Nh);const i=Gt(t),a=e._getSettings(),s=u(u({},a),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);i&&(Qt("https://".concat(o)),$t("Firestore",!0)),a.host!==Th&&a.host!==o&&ui("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=u(u({},a),{},{host:o,ssl:i,emulatorOptions:r});if(!sn(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ii.MOCK_USER;else{var c;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=u({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ft(JSON.stringify({alg:"none",type:"JWT"})),Ft(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new vi(gi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ii(i)}e._authCredentials=new xi(new bi(t,n))}}class Ah{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ah(this.firestore,e,this._query)}}class Rh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ph(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rh(this.firestore,e,this._key)}toJSON(){return{type:Rh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Qi(t,Rh._jsonSchema))return new Rh(e,n||null,new Ui(Mi.fromString(t.referencePath)))}}Rh._jsonSchemaVersion="firestore/documentReference/1.0",Rh._jsonSchema={type:Gi("string",Rh._jsonSchemaVersion),referencePath:Gi("string")};class Ph extends Ah{constructor(e,t,n){super(e,t,go(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rh(this.firestore,null,new Ui(e))}withConverter(e){return new Ph(this.firestore,e,this._path)}}function Dh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=fn(e),Vi("collection","path",t),e instanceof Nh){const n=Mi.fromString(t,...r);return qi(n),new Ph(e,null,n)}{if(!(e instanceof Rh||e instanceof Ph))throw new vi(gi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mi.fromString(t,...r));return qi(n),new Ph(e.firestore,null,n)}}function Oh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=fn(e),1===arguments.length&&(t=ji.newId()),Vi("doc","path",t),e instanceof Nh){const n=Mi.fromString(t,...r);return Bi(n),new Rh(e,null,new Ui(n))}{if(!(e instanceof Rh||e instanceof Ph))throw new vi(gi.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mi.fromString(t,...r));return Bi(n),new Rh(e.firestore,e instanceof Ph?e.converter:null,new Ui(n))}}const Lh="AsyncQueue";class Mh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Pu(this,"async_queue_retry"),this._c=()=>{const e=Au();e&&li(Lh,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Au();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Au();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new yi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(Hv){if(!ua(Hv))throw Hv;li(Lh,"Operation failed with retryable error: "+Hv)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,ci("INTERNAL UNHANDLED ERROR: ",zh(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=yd.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&hi(47125,{Pc:zh(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function zh(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Fh extends Nh{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Mh,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mh(e),this._firestoreClient=void 0,await e}}}function Uh(e){if(e._terminated)throw new vi(gi.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Vh(e),e._firestoreClient}function Vh(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new ds(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Eh(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new mh(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Bh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bh(Za.fromBase64String(e))}catch(e){throw new vi(gi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Bh(Za.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bh._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qi(e,Bh._jsonSchema))return Bh.fromBase64String(e.bytes)}}Bh._jsonSchemaVersion="firestore/bytes/1.0",Bh._jsonSchema={type:Gi("string",Bh._jsonSchemaVersion),bytes:Gi("string")};class qh{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new vi(gi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fi(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hh{constructor(e){this._methodName=e}}class Wh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vi(gi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vi(gi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ni(this._lat,e._lat)||Ni(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wh._jsonSchemaVersion}}static fromJSON(e){if(Qi(e,Wh._jsonSchema))return new Wh(e.latitude,e.longitude)}}Wh._jsonSchemaVersion="firestore/geoPoint/1.0",Wh._jsonSchema={type:Gi("string",Wh._jsonSchemaVersion),latitude:Gi("number"),longitude:Gi("number")};class Kh{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Kh._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qi(e,Kh._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Kh(e.vectorValues);throw new vi(gi.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kh._jsonSchemaVersion="firestore/vectorValue/1.0",Kh._jsonSchema={type:Gi("string",Kh._jsonSchemaVersion),vectorValues:Gi("object")};const Gh=/^__.*__$/;class Qh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new vl(e,this.data,this.fieldMask,t,this.fieldTransforms):new gl(e,this.data,t,this.fieldTransforms)}}class Yh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new vl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Xh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hi(40011,{Ac:e})}}class $h{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $h(u(u({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(Xh(this.Ac)&&Gh.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Jh{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ru(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new $h({Ac:e,methodName:t,Dc:n,path:Fi.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(e){const t=e._freezeSettings(),n=Ru(e._databaseId);return new Jh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ef(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);uf("Data must be an object, but it was:",s,r);const o=lf(r,s);let l,c;if(a.merge)l=new $a(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=df(t,r,n);if(!s.contains(i))throw new vi(gi.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));mf(e,i)||e.push(i)}l=new $a(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new Qh(new Ms(o),l,c)}class tf extends Hh{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}class nf extends Hh{_toFieldTransform(e){return new sl(e.path,new Jo)}isEqual(e){return e instanceof nf}}function rf(e,t,n,r){const i=e.Cc(1,t,n);uf("Data must be an object, but it was:",i,r);const a=[],s=Ms.empty();Ha(r,(e,r)=>{const o=ff(t,e,n);r=fn(r);const l=i.yc(o);if(r instanceof tf)a.push(o);else{const e=of(r,l);null!=e&&(a.push(o),s.set(o,e))}});const o=new $a(a);return new Yh(s,o,i.fieldTransforms)}function af(e,t,n,r,i,a){const s=e.Cc(1,t,n),o=[df(t,r,n)],l=[i];if(a.length%2!=0)throw new vi(gi.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<a.length;h+=2)o.push(df(t,a[h])),l.push(a[h+1]);const c=[],u=Ms.empty();for(let h=o.length-1;h>=0;--h)if(!mf(c,o[h])){const e=o[h];let t=l[h];t=fn(t);const n=s.yc(e);if(t instanceof tf)c.push(e);else{const r=of(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new $a(c);return new Yh(u,d,s.fieldTransforms)}function sf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return of(n,e.Cc(r?4:3,t))}function of(e,t){if(cf(e=fn(e)))return uf("Unsupported field value:",t,e),lf(e,t);if(e instanceof Hh)return function(e,t){if(!Xh(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=of(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=fn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Go(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=$i.fromDate(e);return{timestampValue:Jl(t.serializer,n)}}if(e instanceof $i){const n=new $i(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Jl(t.serializer,n)}}if(e instanceof Wh)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Bh)return{bytesValue:Zl(t.serializer,e._byteString)};if(e instanceof Rh){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:nc(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Kh)return function(e,t){return{mapValue:{fields:{[ps]:{stringValue:vs},[ys]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Wo(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Wi(e)))}(e,t)}function lf(e,t){const n={};return Wa(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ha(e,(e,r)=>{const i=of(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function cf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof $i||e instanceof Wh||e instanceof Bh||e instanceof Rh||e instanceof Hh||e instanceof Kh)}function uf(e,t,n){if(!cf(n)||!Hi(n)){const r=Wi(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function df(e,t,n){if((t=fn(t))instanceof qh)return t._internalPath;if("string"==typeof t)return ff(e,t);throw pf("Field path arguments must be of type string or ",e,!1,void 0,n)}const hf=new RegExp("[~\\*/\\[\\]]");function ff(e,t,n){if(t.search(hf)>=0)throw pf("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new qh(...t.split("."))._internalPath}catch(r){throw pf("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function pf(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new vi(gi.INVALID_ARGUMENT,o+e+l)}function mf(e,t){return e.some(e=>e.isEqual(t))}class gf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vf extends gf{data(){return super.data()}}function yf(e,t){return"string"==typeof t?ff(e,t):t instanceof qh?t._internalPath:t._delegate._internalPath}function bf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new vi(gi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wf{}class xf extends wf{}function kf(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof wf&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof _f).length,n=e.filter(e=>e instanceof Sf).length;if(t>1||t>0&&n>0)throw new vi(gi.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Sf extends xf{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Sf(e,t,n)}_apply(e){const t=this._parse(e);return If(e._query,t),new Ah(e.firestore,e.converter,ko(e._query,t))}_parse(e){const t=Zh(e.firestore),n=function(e,t,n,r,i,a,s){let o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new vi(gi.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Nf(s,a);const t=[];for(const n of s)t.push(jf(r,e,n));o={arrayValue:{values:t}}}else o=jf(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Nf(s,a),o=sf(n,t,s,"in"===a||"not-in"===a);return Ks.create(i,a,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Ef(e,t,n){const r=t,i=yf("where",e);return Sf._create(i,r,n)}class _f extends wf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _f(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Gs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)If(n,i),n=ko(n,i)}(e._query,t),new Ah(e.firestore,e.converter,ko(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Tf extends xf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Tf(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new vi(gi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new vi(gi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qs(t,n)}(e._query,this._field,this._direction);return new Ah(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new po(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Cf(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=yf("orderBy",e);return Tf._create(n,t)}function jf(e,t,n){if("string"==typeof(n=fn(n))){if(""===n)throw new vi(gi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yo(t)&&-1!==n.indexOf("/"))throw new vi(gi.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Mi.fromString(n));if(!Ui.isDocumentKey(r))throw new vi(gi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return js(e,new Ui(r))}if(n instanceof Rh)return js(e,n._key);throw new vi(gi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Wi(n),"."))}function Nf(e,t){if(!Array.isArray(e)||0===e.length)throw new vi(gi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function If(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new vi(gi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new vi(gi.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Af{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ns(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw hi(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ha(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[ys].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>ns(e.doubleValue));return new Kh(n)}convertGeoPoint(e){return new Wh(ns(e.latitude),ns(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=cs(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(us(e));default:return null}}convertTimestamp(e){const t=ts(e);return new $i(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Mi.fromString(e);pi(Ec(n),9688,{name:e});const r=new fs(n.get(1),n.get(3)),i=new Ui(n.popFirst(5));return r.isEqual(t)||ci("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Rf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Pf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Df extends gf{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(yf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vi(gi.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Df._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Df._jsonSchemaVersion="firestore/documentSnapshot/1.0",Df._jsonSchema={type:Gi("string",Df._jsonSchemaVersion),bundleSource:Gi("string","DocumentSnapshot"),bundleName:Gi("string"),bundle:Gi("string")};class Of extends Df{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Lf{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Pf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Of(this._firestore,this._userDataWriter,n.key,n,new Pf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vi(gi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Of(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Pf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Of(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Pf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Mf(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vi(gi.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ji.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Mf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hi(61501,{type:e})}}function zf(e){e=Ki(e,Rh);const t=Ki(e.firestore,Fh);return kh(Uh(t),e._key).then(n=>Kf(t,e,n))}Lf._jsonSchemaVersion="firestore/querySnapshot/1.0",Lf._jsonSchema={type:Gi("string",Lf._jsonSchemaVersion),bundleSource:Gi("string","QuerySnapshot"),bundleName:Gi("string"),bundle:Gi("string")};class Ff extends Af{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rh(this.firestore,null,t)}}function Uf(e){e=Ki(e,Ah);const t=Ki(e.firestore,Fh),n=Uh(t),r=new Ff(t);return bf(e._query),Sh(n,e._query).then(n=>new Lf(t,r,e,n))}function Vf(e,t,n){e=Ki(e,Rh);const r=Ki(e.firestore,Fh),i=Rf(e.converter,t,n);return Wf(r,[ef(Zh(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ll.none())])}function Bf(e,t,n){e=Ki(e,Rh);const r=Ki(e.firestore,Fh),i=Zh(r);let a;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return a="string"==typeof(t=fn(t))||t instanceof qh?af(i,"updateDoc",e._key,t,n,o):rf(i,"updateDoc",e._key,t),Wf(r,[a.toMutation(e._key,ll.exists(!0))])}function qf(e){return Wf(Ki(e.firestore,Fh),[new xl(e._key,ll.none())])}function Hf(e,t){const n=Ki(e.firestore,Fh),r=Oh(e),i=Rf(e.converter,t);return Wf(n,[ef(Zh(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ll.exists(!1))]).then(()=>r)}function Wf(e,t){return function(e,t){const n=new yi;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=ch(e);try{const e=await function(e,t){const n=mi(e),r=$i.now(),i=t.reduce((e,t)=>e.add(t.key),Bo());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Po(),l=Bo();return n.Ns.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{a=i;const s=[];for(const e of t){const t=pl(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new vl(e.key,t,zs(t.value.mapValue),ll.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:Lo(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Ka(Ni)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await ah(r,e.changes),await ad(r.remoteStore)}catch(e){const t=bd(e,"Failed to persist write");n.reject(t)}}(await wh(e),t,n)),n.promise}(Uh(e),t)}function Kf(e,t,n){const r=n.docs.get(t._key),i=new Ff(e);return new Df(e,i,t._key,r,new Pf(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ai=e}(jr),Sr(new pn("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),s=new Fh(new ki(e.getProvider("auth-internal")),new Ti(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vi(gi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fs(e.options.projectId,t)}(a,r),a);return i=u({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Ar(ni,ri,e),Ar(ni,ri,"esm2020")}();const Gf=["providerId"],Qf=["uid","auth","stsTokenManager"],Yf=["providerId","signInMethod"];function Xf(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $f=Xf,Jf=new rn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zf=new En("@firebase/auth");function ep(e){if(Zf.logLevel<=bn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zf.error("Auth (".concat(jr,"): ").concat(e),...n)}}function tp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ap(e,...n)}function np(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ap(e,...n)}function rp(e,t,n){const r=u(u({},$f()),{},{[t]:n});return new rn("auth","Firebase",r).create(t,{appName:e.name})}function ip(e){return rp(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ap(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Jf.create(e,...n)}function sp(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ap(t,...r)}}function op(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ep(t),new Error(t)}function lp(e,t){e||op(t)}function cp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function up(){return"http:"===dp()||"https:"===dp()}function dp(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function hp(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(up()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class fp{constructor(e,t){this.shortDelay=e,this.longDelay=t,lp(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return hp()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pp(e,t){lp(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class mp{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void op("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void op("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void op("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gp={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vp=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yp=new fp(3e4,6e4);function bp(e,t){return e.tenantId&&!t.tenantId?u(u({},t),{},{tenantId:e.tenantId}):t}async function wp(e,t,n,r){return xp(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=ln(u({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=u({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Gt(e.emulatorConfig.host)&&(l.credentials="include"),mp.fetch()(await Sp(e,e.config.apiHost,n,s),l)})}async function xp(e,t,n){e._canInitEmulator=!1;const r=u(u({},gp),t);try{const t=new _p(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Tp(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Tp(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Tp(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Tp(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw rp(e,o,s);tp(e,o)}}catch(Hv){if(Hv instanceof nn)throw Hv;tp(e,"network-request-failed",{message:String(Hv)})}}async function kp(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await wp(e,t,n,r,i);return"mfaPendingCredential"in a&&tp(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function Sp(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),a=e,s=a.config.emulator?pp(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(vp.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(s).toString()}return s}function Ep(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _p{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(np(this.auth,"network-request-failed")),yp.get())})}}function Tp(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=np(e,t,r);return i.customData._tokenResponse=n,i}function Cp(e){return void 0!==e&&void 0!==e.enterprise}class jp{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ep(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Np(e,t){return wp(e,"GET","/v2/recaptchaConfig",bp(e,t))}async function Ip(e,t){return wp(e,"POST","/v1/accounts:lookup",t)}function Ap(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Hv){}}function Rp(e){return 1e3*Number(e)}function Pp(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ep("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ut(n);return e?JSON.parse(e):(ep("Failed to decode base64 JWT payload"),null)}catch(Hv){return ep("Caught error parsing JWT payload as JSON",null===Hv||void 0===Hv?void 0:Hv.toString()),null}}function Dp(e){const t=Pp(e);return sp(t,"internal-error"),sp("undefined"!==typeof t.exp,"internal-error"),sp("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Op(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Hv){throw Hv instanceof nn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Hv)&&e.auth.currentUser===e&&await e.auth.signOut(),Hv}}class Lp{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Hv){return void((null===Hv||void 0===Hv?void 0:Hv.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Mp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ap(this.lastLoginAt),this.creationTime=Ap(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zp(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Op(e,Ip(n,{idToken:r}));sp(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=null!==(t=a.providerUserInfo)&&void 0!==t&&t.length?Fp(a.providerUserInfo):[],o=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!(null!==o&&void 0!==o&&o.length),h=!!u&&d,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Mp(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Fp(e){return e.map(e=>{let{providerId:t}=e,n=d(e,Gf);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Up{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){sp(e.idToken,"internal-error"),sp("undefined"!==typeof e.idToken,"internal-error"),sp("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Dp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){sp(0!==e.length,"internal-error");const t=Dp(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(sp(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await xp(e,{},async()=>{const n=ln({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await Sp(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:s,body:n};return e.emulatorConfig&&Gt(e.emulatorConfig.host)&&(o.credentials="include"),mp.fetch()(a,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new Up;return n&&(sp("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(sp("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(sp("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Up,this.toJSON())}_performRefresh(){return op("not implemented")}}function Vp(e,t){sp("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Bp{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=d(e,Qf);this.providerId="firebase",this.proactiveRefresh=new Lp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Mp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Op(this,this.stsTokenManager.getToken(this.auth,e));return sp(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=fn(e),r=await n.getIdToken(t),i=Pp(r);sp(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Ap(Rp(i.auth_time)),issuedAtTime:Ap(Rp(i.iat)),expirationTime:Ap(Rp(i.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=fn(e);await zp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(sp(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>u({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bp(u(u({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){sp(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await zp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(ip(this.auth));const e=await this.getIdToken();return await Op(this,async function(e,t){return wp(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return u(u({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>u({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,c;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,m=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:k,stsTokenManager:S}=t;sp(b&&S,e,"internal-error");const E=Up.fromJSON(this.name,S);sp("string"===typeof b,e,"internal-error"),Vp(d,e.name),Vp(h,e.name),sp("boolean"===typeof w,e,"internal-error"),sp("boolean"===typeof x,e,"internal-error"),Vp(f,e.name),Vp(p,e.name),Vp(m,e.name),Vp(g,e.name),Vp(v,e.name),Vp(y,e.name);const _=new Bp({uid:b,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:E,createdAt:v,lastLoginAt:y});return k&&Array.isArray(k)&&(_.providerData=k.map(e=>u({},e))),g&&(_._redirectEventId=g),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Up;r.updateFromServerResponse(t);const i=new Bp({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await zp(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];sp(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Fp(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),s=new Up;s.updateFromIdToken(n);const o=new Bp({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Mp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(o,l),o}}const qp=new Map;function Hp(e){lp(e instanceof Function,"Expected a class definition");let t=qp.get(e);return t?(lp(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,qp.set(e,t),t)}class Wp{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Wp.type="NONE";const Kp=Wp;function Gp(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Qp{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Gp(this.userKey,r.apiKey,i),this.fullPersistenceKey=Gp("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Ip(this.auth,{idToken:e}).catch(()=>{});return t?Bp._fromGetAccountInfoResponse(this.auth,t,e):null}return Bp._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Qp(Hp(Kp),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Hp(Kp);const a=Gp(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await Ip(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Bp._fromGetAccountInfoResponse(e,r,t)}else n=Bp._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(t){}})),new Qp(i,e,n)):new Qp(i,e,n)}}function Yp(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zp(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xp(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tm(t))return"Blackberry";if(nm(t))return"Webos";if($p(t))return"Safari";if((t.includes("chrome/")||Jp(t))&&!t.includes("edge/"))return"Chrome";if(em(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Xp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/firefox\//i.test(e)}function $p(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/crios\//i.test(e)}function Zp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/iemobile/i.test(e)}function em(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/android/i.test(e)}function tm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/blackberry/i.test(e)}function nm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/webos/i.test(e)}function rm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function im(){return function(){const e=Jt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function am(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt();return rm(e)||em(e)||nm(e)||tm(e)||/windows phone/i.test(e)||Zp(e)}function sm(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Yp(Jt());break;case"Worker":t="".concat(Yp(Jt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(jr,"/").concat(r)}class om{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(Hv){r(Hv)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Hv){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Hv||void 0===Hv?void 0:Hv.message})}}}class lm{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class cm{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dm(this),this.idTokenSubscription=new dm(this),this.beforeStateQueue=new om(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jf,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hp(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Qp.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Hv){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Ip(this,{idToken:e}),n=await Bp._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_r(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,a;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(a=n)||void 0===a?void 0:a._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==s||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(Hv){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Hv))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return sp(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Hv){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zp(e)}catch(Hv){if((null===Hv||void 0===Hv?void 0:Hv.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(ip(this));const t=e?fn(e):null;return t&&sp(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&sp(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(ip(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(ip(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hp(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return wp(e,"GET","/v2/passwordPolicy",bp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new lm(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return wp(e,"POST","/v2/accounts:revokeToken",bp(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hp(e)||this._popupRedirectResolver;sp(t,this,"argument-error"),this.redirectPersistenceManager=await Qp.create(this,[Hp(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(sp(s,this,"internal-error"),s.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return sp(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Zf.logLevel<=bn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zf.warn("Auth (".concat(jr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function um(e){return fn(e)}class dm{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new dn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return sp(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fm(e){return hm.loadJS(e)}function pm(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class mm{constructor(){this.enterprise=new gm}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gm{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const vm="NO_RECAPTCHA";class ym{constructor(e){this.type="recaptcha-enterprise",this.auth=um(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Cp(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(vm)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new mm).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Np(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new jp(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Cp(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=hm.recaptchaEnterpriseScript;0!==t.length&&(t+=i),fm(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function bm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new ym(e);let s;if(i)s=vm;else try{s=await a.verify(n)}catch(l){s=await a.verify(n,!0)}const o=u({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function wm(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await bm(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await bm(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const i=await bm(e,t,n);return r(e,i).catch(async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await bm(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await bm(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function xm(e){const t=um(e),n=await Np(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new jp(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new ym(t).verify()}}function km(e,t,n){const r=um(e);sp(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),a=Sm(t),{host:s,port:o}=function(e){const t=Sm(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Em(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Em(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(a,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return sp(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void sp(sn(c,r.config.emulator)&&sn(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Gt(s)?(Qt("".concat(a,"//").concat(s).concat(l)),$t("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Sm(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Em(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class _m{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return op("not implemented")}_getIdTokenResponse(e){return op("not implemented")}_linkToIdToken(e,t){return op("not implemented")}_getReauthenticationResolver(e){return op("not implemented")}}async function Tm(e,t){return wp(e,"POST","/v1/accounts:signUp",t)}async function Cm(e,t){return kp(e,"POST","/v1/accounts:signInWithPassword",bp(e,t))}class jm extends _m{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new jm(e,t,"password")}static _fromEmailAndCode(e,t){return new jm(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return wm(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Cm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return kp(e,"POST","/v1/accounts:signInWithEmailLink",bp(e,t))}(e,{email:this._email,oobCode:this._password});default:tp(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return wm(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Tm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return kp(e,"POST","/v1/accounts:signInWithEmailLink",bp(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:tp(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Nm(e,t){return kp(e,"POST","/v1/accounts:signInWithIdp",bp(e,t))}class Im extends _m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Im(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tp("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=d(t,Yf);if(!n||!r)return null;const a=new Im(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Nm(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Nm(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nm(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ln(t)}return e}}async function Am(e,t){return wp(e,"POST","/v1/accounts:sendVerificationCode",bp(e,t))}const Rm={USER_NOT_FOUND:"user-not-found"};class Pm extends _m{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Pm({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Pm({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return kp(e,"POST","/v1/accounts:signInWithPhoneNumber",bp(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await kp(e,"POST","/v1/accounts:signInWithPhoneNumber",bp(e,t));if(n.temporaryProof)throw Tp(e,"account-exists-with-different-credential",n);return n}(e,u({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return kp(e,"POST","/v1/accounts:signInWithPhoneNumber",bp(e,u(u({},t),{},{operation:"REAUTH"})),Rm)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Pm({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Dm{constructor(e){var t,n,r,i,a,s;const o=cn(un(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);sp(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.lang)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=cn(un(e)).link,n=t?cn(un(t)).deep_link_id:null,r=cn(un(e)).deep_link_id;return(r?cn(un(r)).link:null)||r||n||t||e}(e);try{return new Dm(t)}catch(n){return null}}}class Om{constructor(){this.providerId=Om.PROVIDER_ID}static credential(e,t){return jm._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Dm.parseLink(t);return sp(n,"argument-error"),jm._fromEmailAndCode(e,n.code,n.tenantId)}}Om.PROVIDER_ID="password",Om.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Om.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Lm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Mm extends Lm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zm extends Mm{constructor(){super("facebook.com")}static credential(e){return Im._fromParams({providerId:zm.PROVIDER_ID,signInMethod:zm.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zm.credentialFromTaggedObject(e)}static credentialFromError(e){return zm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return zm.credential(t.oauthAccessToken)}catch(n){return null}}}zm.FACEBOOK_SIGN_IN_METHOD="facebook.com",zm.PROVIDER_ID="facebook.com";class Fm extends Mm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Im._fromParams({providerId:Fm.PROVIDER_ID,signInMethod:Fm.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fm.credentialFromTaggedObject(e)}static credentialFromError(e){return Fm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Fm.credential(n,r)}catch(i){return null}}}Fm.GOOGLE_SIGN_IN_METHOD="google.com",Fm.PROVIDER_ID="google.com";class Um extends Mm{constructor(){super("github.com")}static credential(e){return Im._fromParams({providerId:Um.PROVIDER_ID,signInMethod:Um.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Um.credentialFromTaggedObject(e)}static credentialFromError(e){return Um.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Um.credential(t.oauthAccessToken)}catch(n){return null}}}Um.GITHUB_SIGN_IN_METHOD="github.com",Um.PROVIDER_ID="github.com";class Vm extends Mm{constructor(){super("twitter.com")}static credential(e,t){return Im._fromParams({providerId:Vm.PROVIDER_ID,signInMethod:Vm.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vm.credentialFromTaggedObject(e)}static credentialFromError(e){return Vm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Vm.credential(n,r)}catch(i){return null}}}async function Bm(e,t){return kp(e,"POST","/v1/accounts:signUp",bp(e,t))}Vm.TWITTER_SIGN_IN_METHOD="twitter.com",Vm.PROVIDER_ID="twitter.com";class qm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Bp._fromIdTokenResponse(e,n,r),a=Hm(n);return new qm({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Hm(n);return new qm({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Hm(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Wm extends nn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Wm.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Wm(e,t,n,r)}}function Km(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Wm._fromErrorAndOperation(e,n,t,r);throw n})}async function Gm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Op(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qm._forOperation(e,"link",r)}async function Qm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(_r(r.app))return Promise.reject(ip(r));const i="reauthenticate";try{const a=await Op(e,Km(r,i,t,e),n);sp(a.idToken,r,"internal-error");const s=Pp(a.idToken);sp(s,r,"internal-error");const{sub:o}=s;return sp(e.uid===o,r,"user-mismatch"),qm._forOperation(e,i,a)}catch(Hv){throw(null===Hv||void 0===Hv?void 0:Hv.code)==="auth/".concat("user-not-found")&&tp(r,"user-mismatch"),Hv}}async function Ym(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_r(e.app))return Promise.reject(ip(e));const r="signIn",i=await Km(e,r,t),a=await qm._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Xm(e,t){return Ym(um(e),t)}async function $m(e){const t=um(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Jm(e,t,n){if(_r(e.app))return Promise.reject(ip(e));const r=um(e),i=wm(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bm,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&$m(e),t}),s=await qm._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function Zm(e,t){return wp(e,"POST","/v2/accounts/mfaEnrollment:start",bp(e,t))}new WeakMap;const eg="__sak";class tg{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(eg,"1"),this.storage.removeItem(eg),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ng extends tg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=am(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);im()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ng.type="LOCAL";const rg=ng;function ig(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function ag(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class sg{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=ag(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return ig(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=ag(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=ag(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=ig(n);const i=setInterval(()=>{const e=ig(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}sg.type="COOKIE";class og extends tg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}og.type="SESSION";const lg=og;class cg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new cg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(null===a||void 0===a||!a.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ug(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}cg.receivers=[];class dg{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((s,o)=>{const l=ug("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function hg(){return window}function fg(){return"undefined"!==typeof hg().WorkerGlobalScope&&"function"===typeof hg().importScripts}const pg="firebaseLocalStorageDb",mg="firebaseLocalStorage",gg="fbase_key";class vg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yg(e,t){return e.transaction([mg],t?"readwrite":"readonly").objectStore(mg)}function bg(){const e=indexedDB.open(pg,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(mg,{keyPath:gg})}catch(Hv){n(Hv)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(mg)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(pg);return new vg(e).toPromise()}(),t(await bg()))})})}async function wg(e,t,n){const r=yg(e,!0).put({[gg]:t,value:n});return new vg(r).toPromise()}function xg(e,t){const n=yg(e,!0).delete(t);return new vg(n).toPromise()}class kg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await bg()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Hv){if(t++>3)throw Hv;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cg._getInstance(fg()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new dg(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bg();return await wg(e,eg,"1"),await xg(e,eg),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>wg(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=yg(e,!1).get(t),r=await new vg(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=yg(e,!1).getAll();return new vg(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}kg.type="LOCAL";const Sg=kg;function Eg(e,t){return wp(e,"POST","/v2/accounts/mfaSignIn:start",bp(e,t))}pm("rcb"),new fp(3e4,6e4);const _g="recaptcha";async function Tg(e,t,n){if(!e._getRecaptchaConfig())try{await xm(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){sp("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=wm(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===vm){sp((null===n||void 0===n?void 0:n.type)===_g,e,"argument-error");return Zm(e,await Cg(e,t,n))}return Zm(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;sp("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;sp(a,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=wm(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===vm){sp((null===n||void 0===n?void 0:n.type)===_g,e,"argument-error");return Eg(e,await Cg(e,t,n))}return Eg(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=wm(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===vm){sp((null===n||void 0===n?void 0:n.type)===_g,e,"argument-error");return Am(e,await Cg(e,t,n))}return Am(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Cg(e,t,n){sp(n.type===_g,e,"argument-error");const r=await n.verify();sp("string"===typeof r,e,"argument-error");const i=u({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class jg{constructor(e){this.providerId=jg.PROVIDER_ID,this.auth=um(e)}verifyPhoneNumber(e,t){return Tg(this.auth,e,fn(t))}static credential(e,t){return Pm._fromVerification(e,t)}static credentialFromResult(e){const t=e;return jg.credentialFromTaggedObject(t)}static credentialFromError(e){return jg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Pm._fromTokenResponse(n,r):null}}function Ng(e,t){return t?Hp(t):(sp(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}jg.PROVIDER_ID="phone",jg.PHONE_SIGN_IN_METHOD="phone";class Ig extends _m{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nm(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ag(e){return Ym(e.auth,new Ig(e),e.bypassAuthState)}function Rg(e){const{auth:t,user:n}=e;return sp(n,t,"internal-error"),Qm(n,new Ig(e),e.bypassAuthState)}async function Pg(e){const{auth:t,user:n}=e;return sp(n,t,"internal-error"),Gm(n,new Ig(e),e.bypassAuthState)}class Dg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Hv){this.reject(Hv)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(Hv){this.reject(Hv)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ag;case"linkViaPopup":case"linkViaRedirect":return Pg;case"reauthViaPopup":case"reauthViaRedirect":return Rg;default:tp(this.auth,"internal-error")}}resolve(e){lp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Og=new fp(2e3,1e4);class Lg extends Dg{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Lg.currentPopupAction&&Lg.currentPopupAction.cancel(),Lg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return sp(e,this.auth,"internal-error"),e}async onExecution(){lp(1===this.filter.length,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(np(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(np(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(np(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Og.get())};e()}}Lg.currentPopupAction=null;const Mg=new Map;class zg extends Dg{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Mg.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Vg(t),r=Ug(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Hv){e=()=>Promise.reject(Hv)}Mg.set(this.auth._key(),e)}return this.bypassAuthState||Mg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Fg(e,t){Mg.set(e._key(),t)}function Ug(e){return Hp(e._redirectPersistence)}function Vg(e){return Gp("pendingRedirect",e.config.apiKey,e.name)}async function Bg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_r(e.app))return Promise.reject(ip(e));const r=um(e),i=Ng(r,t),a=new zg(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class qg{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wg(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Wg(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(np(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hg(e))}saveEventToCache(e){this.cachedEventUids.add(Hg(e)),this.lastProcessedEventTime=Date.now()}}function Hg(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Wg(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Kg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gg=/^https?/;async function Qg(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return wp(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Yg(r))return}catch(n){}tp(e,"unauthorized-domain")}function Yg(e){const t=cp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Gg.test(n))return!1;if(Kg.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Xg=new fp(3e4,6e4);function $g(){const e=hg().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Jg(e){return new Promise((t,n)=>{var r,i;function a(){$g(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$g(),n(np(e,"network-request-failed"))},timeout:Xg.get()})}if(null!==(r=hg().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=hg().gapi)||void 0===i||!i.load){const t=pm("iframefcb");return hg()[t]=()=>{gapi.load?a():n(np(e,"network-request-failed"))},fm("".concat(hm.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw Zg=null,e})}let Zg=null;const ev=new fp(5e3,15e3),tv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rv(e){const t=e.config;sp(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?pp(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:jr},i=nv.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ln(r).slice(1))}async function iv(e){const t=await function(e){return Zg=Zg||Jg(e),Zg}(e),n=hg().gapi;return sp(n,e,"internal-error"),t.open({where:document.body,url:rv(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tv,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=np(e,"network-request-failed"),a=hg().setTimeout(()=>{r(i)},ev.get());function s(){hg().clearTimeout(a),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const av={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Hv){}}}function ov(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=u(u({},av),{},{width:r.toString(),height:i.toString(),top:a,left:s}),c=Jt().toLowerCase();n&&(o=Jp(c)?"_blank":n),Xp(c)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return rm(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new sv(null);const h=window.open(t||"",o,d);sp(h,e,"popup-blocked");try{h.focus()}catch(Hv){}return new sv(h)}const lv="__/auth/handler",cv="emulator/auth/handler",uv=encodeURIComponent("fac");async function dv(e,t,n,r,i,a){sp(e.config.authDomain,e,"auth-domain-config-required"),sp(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:jr,eventId:i};if(t instanceof Lm){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof Mm){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(uv,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(lv);return pp(t,cv)}(e),"?").concat(ln(o).slice(1)).concat(c)}const hv="webStorageSupport";const fv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lg,this._completeRedirectFn=Bg,this._overrideRedirectResult=Fg}async _openPopup(e,t,n,r){var i;lp(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ov(e,await dv(e,t,n,cp(),r),ug())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){hg().location.href=e}(await dv(e,t,n,cp(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(lp(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await iv(e),n=new qg(e);return t.register("authEvent",t=>{sp(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hv,{type:hv},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[hv];void 0!==i&&t(!!i),tp(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Qg(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return am()||$p()||rm()}};var pv="@firebase/auth",mv="1.12.0";class gv{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){sp(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const vv=Wt("authIdTokenMaxAge")||300;let yv=null;var bv;hm={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=np("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},bv="Browser",Sr(new pn("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;sp(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:bv,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sm(bv)},c=new cm(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hp);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Sr(new pn("auth-internal",e=>(e=>new gv(e))(um(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(pv,mv,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(bv)),Ar(pv,mv,"esm2020");const wv=Nr({apiKey:"AIzaSyDyxT4NKNjc9ABECFlCNbxwHPakJcA0ahs",authDomain:"agilnoit.firebaseapp.com",projectId:"agilnoit",storageBucket:"agilnoit.firebasestorage.app",messagingSenderId:"135833558940",appId:"1:135833558940:web:01f1c054e99125a437f259"}),xv=function(e,t){const n="object"==typeof e?e:Ir(),r="string"==typeof e?e:t||hs,i=Er(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=qt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Ih(i,...e)}return i}(wv),kv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir();const t=Er(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Er(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(sn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;tp(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:fv,persistence:[Sg,rg,lg]}),r=Wt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>vv)return;const r=null===t||void 0===t?void 0:t.token;yv!==r&&(yv=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){fn(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){fn(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const a=qt("auth");return a&&km(n,"http://".concat(a)),n}(wv);var Sv=n(579);const Ev=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),[o,l]=(0,r.useState)(!1),c=_e();return(0,Sv.jsxs)("div",{style:{maxWidth:"400px",margin:"50px auto",padding:"20px"},children:[(0,Sv.jsx)("h2",{children:"Prijava"}),a&&(0,Sv.jsx)("div",{style:{background:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"5px",marginBottom:"15px"},children:a}),(0,Sv.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(""),l(!0);try{console.log("\ud83d\udd10 Pokre\u0107em Firebase login...");const t=await function(e,t,n){return _r(e.app)?Promise.reject(ip(e)):Xm(fn(e),Om.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&$m(e),t})}(kv,e,n),r=t.user;console.log("\u2705 Firebase Auth uspe\u0161an:",r.email);const i=await zf(Oh(xv,"users",r.uid));if(!i.exists())throw new Error("Korisni\u010dki podaci nisu prona\u0111eni");const a=i.data();console.log("\u2705 Firestore podaci:",a),"admin"===a.role?c("/admin"):"professor"===a.role?c("/professor"):"student"===a.role&&(a.approved,c("/"))}catch(a){console.error("\u274c Login gre\u0161ka:",a.code,a.message),"auth/user-not-found"===a.code?s("Korisnik sa ovim email-om ne postoji."):"auth/wrong-password"===a.code?s("Pogre\u0161na lozinka."):"auth/invalid-email"===a.code?s("Email nije validan."):"auth/too-many-requests"===a.code?s("Previ\u0161e neuspelih poku\u0161aja. Poku\u0161ajte kasnije."):s("Do\u0161lo je do gre\u0161ke: "+a.message)}finally{l(!1)}},children:[(0,Sv.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Sv.jsx)("label",{children:"Email:"}),(0,Sv.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0,style:{width:"100%",padding:"10px",marginTop:"5px"},placeholder:"unesite@email.com"})]}),(0,Sv.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Sv.jsx)("label",{children:"Lozinka:"}),(0,Sv.jsx)("input",{type:"password",value:n,onChange:e=>i(e.target.value),required:!0,style:{width:"100%",padding:"10px",marginTop:"5px"},placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,Sv.jsx)("button",{type:"submit",disabled:o,style:{width:"100%",padding:"12px",background:o?"#ccc":"#4caf50",color:"white",border:"none",borderRadius:"5px",fontSize:"16px",cursor:o?"not-allowed":"pointer"},children:o?"Prijavljujem...":"Prijavi se"})]}),(0,Sv.jsx)("div",{style:{marginTop:"20px",textAlign:"center"},children:(0,Sv.jsxs)("p",{children:["Nemate nalog? ",(0,Sv.jsx)("a",{href:"/register",children:"Registrujte se"})]})}),(0,Sv.jsxs)("div",{style:{marginTop:"30px",padding:"15px",background:"#f9f9f9",borderRadius:"5px",fontSize:"14px"},children:[(0,Sv.jsx)("p",{children:(0,Sv.jsx)("strong",{children:"Test nalog za profesora:"})}),(0,Sv.jsxs)("p",{children:["Email: ",(0,Sv.jsx)("strong",{children:"profesor@agilnoit.edu.rs"})]}),(0,Sv.jsxs)("p",{children:["Lozinka: ",(0,Sv.jsx)("strong",{children:"profesor123"})]})]})]})},_v=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(!1),f=_e();return(0,Sv.jsxs)("div",{style:{maxWidth:"400px",margin:"50px auto",padding:"20px"},children:[(0,Sv.jsx)("h2",{children:"Registracija studenta"}),c&&(0,Sv.jsx)("div",{style:{background:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"5px",marginBottom:"15px"},children:c}),(0,Sv.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),u(""),h(!0);try{console.log("\ud83d\udd27 Pokre\u0107em Firebase registraciju...");const t=(await Jm(kv,e,n)).user;console.log("\u2705 Firebase Auth uspe\u0161an:",t.uid),await Vf(Oh(xv,"users",t.uid),{email:e,displayName:a,studentId:o,role:"student",approved:!1,status:"pending",createdAt:new Date}),console.log("\u2705 Firestore uspe\u0161an: Student registrovan"),alert("\u2705 Registracija uspe\u0161na! Sa\u010dekajte odobrenje profesora."),f("/login")}catch(c){console.error("\u274c Gre\u0161ka pri registraciji:",c),"auth/email-already-in-use"===c.code?u("Email adresa je ve\u0107 registrovana."):"auth/weak-password"===c.code?u("Lozinka mora imati najmanje 6 karaktera."):"auth/invalid-email"===c.code?u("Email nije validan."):u("Do\u0161lo je do gre\u0161ke: "+c.message)}finally{h(!1)}},children:[(0,Sv.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Sv.jsx)("label",{children:"Ime i prezime:"}),(0,Sv.jsx)("input",{type:"text",value:a,onChange:e=>s(e.target.value),required:!0,style:{width:"100%",padding:"10px",marginTop:"5px"},placeholder:"Marko Markovi\u0107"})]}),(0,Sv.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Sv.jsx)("label",{children:"Broj indeksa (opciono):"}),(0,Sv.jsx)("input",{type:"text",value:o,onChange:e=>l(e.target.value),style:{width:"100%",padding:"10px",marginTop:"5px"},placeholder:"RA-123/2023"})]}),(0,Sv.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Sv.jsx)("label",{children:"Email:"}),(0,Sv.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0,style:{width:"100%",padding:"10px",marginTop:"5px"},placeholder:"marko@student.edu.rs"})]}),(0,Sv.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Sv.jsx)("label",{children:"Lozinka (min. 6 karaktera):"}),(0,Sv.jsx)("input",{type:"password",value:n,onChange:e=>i(e.target.value),required:!0,minLength:"6",style:{width:"100%",padding:"10px",marginTop:"5px"},placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,Sv.jsx)("button",{type:"submit",disabled:d,style:{width:"100%",padding:"12px",background:d?"#ccc":"#2196f3",color:"white",border:"none",borderRadius:"5px",fontSize:"16px",cursor:d?"not-allowed":"pointer"},children:d?"Registruje se...":"Registruj se"})]}),(0,Sv.jsx)("div",{style:{marginTop:"20px",textAlign:"center"},children:(0,Sv.jsxs)("p",{children:["Ve\u0107 imate nalog? ",(0,Sv.jsx)("a",{href:"/login",children:"Prijavite se"})]})})]})};const Tv=function(e){let{question:t,onAnswer:n,showImmediateFeedback:i=!0,showStats:a=!0,disabled:s=!1,resetOnNewQuestion:o=!0}=e;const[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{o&&(c(null),d(!1),f(!1))},[t.id,o]);const p=e=>{let n="enhanced-option";return l===e&&(n+=" selected"),u&&i&&(e===t.correct&&(n+=" correct"),l===e&&e!==t.correct&&(n+=" wrong")),s&&(n+=" disabled"),n},m=e=>{if(!a||!t.stats)return"auto";const n=t.stats;return n[e]&&n.total>0?"".concat(n[e]/n.total*100,"%"):"0%"};return(0,Sv.jsxs)("div",{className:"enhanced-question-card",children:[(0,Sv.jsxs)("div",{className:"question-header",children:[(0,Sv.jsxs)("div",{className:"question-meta",children:[(0,Sv.jsxs)("span",{className:"question-number",children:["Pitanje #",t.id]}),(0,Sv.jsxs)("span",{className:"question-difficulty",children:[t.difficulty||"Srednje te\u0161ko",t.topic&&" \u2022 ".concat(t.topic)]})]}),u&&i&&(0,Sv.jsx)("div",{className:"feedback-badge ".concat(l===t.correct?"correct":"incorrect"),children:l===t.correct?(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("span",{className:"feedback-icon",children:"\u2705"}),(0,Sv.jsx)("span",{className:"feedback-text",children:"Ta\u010dan odgovor!"})]}):(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("span",{className:"feedback-icon",children:"\u274c"}),(0,Sv.jsx)("span",{className:"feedback-text",children:"Pogre\u0161an odgovor"})]})})]}),(0,Sv.jsxs)("div",{className:"question-content",children:[(0,Sv.jsx)("h3",{className:"question-text",children:t.question}),t.image&&(0,Sv.jsx)("div",{className:"question-image",children:(0,Sv.jsx)("img",{src:t.image,alt:"Ilustracija pitanja"})})]}),(0,Sv.jsx)("div",{className:"enhanced-options",children:t.options.map((e,r)=>(0,Sv.jsx)("div",{className:p(r),onClick:()=>(e=>{u||s||(c(e),d(!0),n&&n(e),i&&e!==t.correct&&setTimeout(()=>{f(!0)},500))})(r),children:(0,Sv.jsxs)("div",{className:"option-content",children:[(0,Sv.jsxs)("div",{className:"option-header",children:[(0,Sv.jsxs)("span",{className:"option-letter",children:[String.fromCharCode(65+r),"."]}),(0,Sv.jsx)("span",{className:"option-text",children:e})]}),u&&i&&(0,Sv.jsxs)("div",{className:"option-feedback",children:[r===t.correct&&(0,Sv.jsxs)("span",{className:"correct-indicator",children:[(0,Sv.jsx)("span",{className:"check-icon",children:"\u2713"}),(0,Sv.jsx)("span",{className:"feedback-label",children:"Ta\u010dan odgovor"})]}),l===r&&r!==t.correct&&(0,Sv.jsxs)("span",{className:"incorrect-indicator",children:[(0,Sv.jsx)("span",{className:"cross-icon",children:"\u2717"}),(0,Sv.jsx)("span",{className:"feedback-label",children:"Tvoj odgovor"})]})]}),a&&t.stats&&(0,Sv.jsxs)("div",{className:"option-stats",children:[(0,Sv.jsx)("div",{className:"stats-bar",children:(0,Sv.jsx)("div",{className:"stats-fill",style:{width:m(r)}})}),t.stats[r]&&(0,Sv.jsxs)("span",{className:"stats-percentage",children:[Math.round(t.stats[r]/t.stats.total*100),"%"]})]})]})},r))}),u&&i&&(0,Sv.jsxs)("div",{className:"enhanced-feedback",children:[(0,Sv.jsx)("div",{className:"feedback-toggle",children:(0,Sv.jsx)("button",{className:"toggle-btn ".concat(h?"active":""),onClick:()=>f(!h),children:h?(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("span",{className:"toggle-icon",children:"\ud83d\udc47"}),"Sakrij obja\u0161njenje"]}):(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("span",{className:"toggle-icon",children:"\ud83d\udc46"}),"Poka\u017ei obja\u0161njenje"]})})}),h&&(0,Sv.jsxs)("div",{className:"explanation-section",children:[(0,Sv.jsxs)("div",{className:"explanation-header",children:[(0,Sv.jsx)("span",{className:"explanation-icon",children:"\ud83d\udca1"}),(0,Sv.jsx)("h4",{className:"explanation-title",children:"Obja\u0161njenje"})]}),(0,Sv.jsxs)("div",{className:"explanation-content",children:[(0,Sv.jsx)("p",{className:"explanation-text",children:t.explanation}),(0,Sv.jsxs)("div",{className:"correct-answer-box",children:[(0,Sv.jsxs)("div",{className:"correct-answer-header",children:[(0,Sv.jsx)("span",{className:"correct-icon",children:"\u2705"}),(0,Sv.jsx)("strong",{children:"Ta\u010dan odgovor:"})]}),(0,Sv.jsxs)("div",{className:"correct-answer-content",children:[String.fromCharCode(65+t.correct),". ",t.options[t.correct]]})]}),t.reference&&(0,Sv.jsxs)("div",{className:"reference-box",children:[(0,Sv.jsxs)("div",{className:"reference-header",children:[(0,Sv.jsx)("span",{className:"reference-icon",children:"\ud83d\udcda"}),(0,Sv.jsx)("strong",{children:"Referenca:"})]}),(0,Sv.jsx)("div",{className:"reference-content",children:t.reference})]})]})]})]}),!u&&!s&&(0,Sv.jsx)("div",{className:"hint-section",children:(0,Sv.jsxs)("div",{className:"hint-content",children:[(0,Sv.jsx)("span",{className:"hint-icon",children:"\ud83d\udca1"}),(0,Sv.jsxs)("div",{className:"hint-text",children:[(0,Sv.jsx)("strong",{children:"Kako odgovoriti:"})," Klikni na jednu od opcija iznad.",i?" Odmah \u0107e\u0161 videti da li je ta\u010dno.":" Rezultat \u0107e\u0161 videti na kraju."]})]})}),s&&!u&&(0,Sv.jsxs)("div",{className:"disabled-note",children:[(0,Sv.jsx)("span",{className:"disabled-icon",children:"\u23f8\ufe0f"}),"Ovo pitanje je zaklju\u010dano dok ne zavr\u0161i\u0161 trenutni mod."]})]})},Cv=[{id:1,question:"Za\u0161to je v\xe1\u017eno verovati timu?",options:["Timovi sa visokim poverenjem ne moraju biti odgovorni jedni prema drugima","Timovi sa visokim poverenjem ne zahtevaju predstavnika korisnika","Projekt menad\u017eer u tom slu\u010daju ne mora da brine o rasporedu aktivnosti na projektu","Prisustvo poverenja je u uzajamnoj vezi i pozitivno uti\u010de na performanse tima"],correct:3,explanation:"Kada se SCRUM timu uka\u017ee poverenje i stvor\xed se pogodno okru\u017eenje oko njega, tim preuzima odgovornost za svoje obaveze i ispunjava ih kako je o\u010dekivano od strane Product Owner-a i predstavnika biznisa."},{id:2,question:"Ko ultimativno odlu\u010duje kada tim ima dovojino posla prilikom Sprint planiranja?",options:["Scrum master","Product owner","Development tim","Product owner, Scrum master i Development tim glasaju da bi odredili kada je Sprint Backlog popunjen"],correct:2,explanation:"Razvojni in\u017eenjer (programer) odlu\u010duje koju koli\u010dinu posla mo\u017ee izvr\u0161iti u sprintu. U obzir se uzima nekoliko faktora, kao \u0161to je istorija brzine izvr\u0161avanja posla, raspolo\u017eivi kapacitet programera, itd."},{id:3,question:"\u0160ta programeri treba da rade ako je Product owner u vi\u0161e navrata prezauzet da bude dostupan?",options:["Nastaviti sa radom, zabele\u017eiti pretpostavke i pitati klijenta kasnije za mi\u0161ljenje i ulazne informacije","Poslati klijentu pisano upozorenje da \u0107e zavr\u0161ni proizvod biti izvr\u0161en na vreme, ali mo\u017eda ne\u0107e ispuniti njihova o\u010dekivanja","Dozvoliti Biznis analiti\u010daru da preuzme ulogu Product Owner zastupnika","Skrenuti pa\u017enju na problem i obavestiti Scrum master-a"],correct:3,explanation:"Product Owner koji je u vi\u0161e navrata nedostupan Scrum timu je prepreka na koju Scrum master mora skrenuti pa\u017enju."},{id:4,question:"\u0160ta je najva\u017enije u svim scrum timovima?",options:["A, B, C, D (Samoupravljanje, Jasne hijerarhije, Komunikacija, Stalno napredovanje)","A, C, D (Samoupravljanje, Komunikacija, Stalno napredovanje)","A, D (Samoupravljanje, Stalno napredovanje)","A, B (Samoupravljanje, Jasne hijerarhije)"],correct:1,explanation:"Kada se SCRUM timu uka\u017ee poverenje i stvor\xed se pogodno okru\u017eenje oko njega, tim preuzima odgovornost za svoje obaveze."},{id:5,question:"Koja od slede\u0107ih nije tradicionalna Scrum aktivnost?",options:["Planiranje Sprinta","Pregled Sprinta","Retrospektiva Sprinta","Nedeljna provera"],correct:3,explanation:"Nedeljna provera nije preporu\u010dljiva aktivnost u Scrum-u. Dnevna provera je omogu\u0107ena u formi dnevnog Scrum sastanka."},{id:6,question:"Prilikom organizovanja timske dinamike, \u0161ta treba da radi Scrum Master?",options:["Osna\u017euje \u010dlanove tima u prikladnim granicama","Ohrabruje stvaranje takmi\u010darskog okru\u017eenja i li\u010dne dobiti","Daje jasne direktive celom timu o tome \u0161ta i kako treba uraditi","O\u010dekuje da \u0107e \u010dlanovi tima biti proaktivni i da \u0107e raditi na njihovim prioritetima i ciljevima"],correct:0,explanation:"Scrum je baziran na timskom radu. Nema pojedina\u010dnih doprinosa. Tako\u0111e, Scrum Master ne mo\u017ee diktirati zadatke timu."},{id:7,question:"Koje od slede\u0107ih su uloge u Scrum okviru?",options:["Product Owner","Projekt menad\u017eer","Lead developer","Biznis analiti\u010dar"],correct:0,explanation:"Postoje tri uloge u Scrum-u \u2013 Product Owner, Scrum Master i Developeri."}];const jv=function(e){var t;let{user:n}=e;const[i,a]=(0,r.useState)(0),[s,o]=(0,r.useState)(Array(Cv.length).fill(null)),[l,c]=(0,r.useState)(!1),[d,h]=(0,r.useState)("learning"),[f,p]=(0,r.useState)(0),[m,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)(null),[b,w]=(0,r.useState)(!1),[x,k]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e;return"exam"===d&&!l&&v&&(e=setInterval(()=>{p(Math.floor((Date.now()-v)/1e3)),Math.floor((Date.now()-v)/1e3)>=3600&&S()},1e3)),()=>clearInterval(e)},[d,l,v]),(0,r.useEffect)(()=>{"exam"!==d||v||y(Date.now())},[d,v]);const S=async()=>{const e=s.filter(e=>null!==e),t=e.reduce((e,t)=>t.isCorrect?e+1:e,0),r=Math.round(t/Cv.length*100);console.log("\ud83c\udfaf Rezultati kviza:",{totalQuestions:Cv.length,answered:e.length,correct:t,percentage:r});const i={userId:(null===n||void 0===n?void 0:n.uid)||"anonymous",userName:(null===n||void 0===n?void 0:n.displayName)||(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.email)||"Anonimni korisnik",studentName:(null===n||void 0===n?void 0:n.displayName)||(null===n||void 0===n?void 0:n.name)||"Student",email:(null===n||void 0===n?void 0:n.email)||"",studentId:(null===n||void 0===n?void 0:n.studentId)||(null===n||void 0===n?void 0:n.index)||"",role:(null===n||void 0===n?void 0:n.role)||"student",quizName:"Agilno IT Poslovanje",quizType:d,quizVersion:"1.0",percentage:r,score:t,correctAnswers:t,totalQuestions:Cv.length,answeredQuestions:e.length,timeSpent:f,timeSpentMinutes:Math.round(f/60),mode:d,questionCount:Cv.length,date:(new Date).toISOString().split("T")[0]};await(async e=>{w(!0),k(null);try{console.log("\ud83d\udce4 \u0160aljem rezultat u Firebase...");const t=u(u({},e),{},{submittedAt:new nf("serverTimestamp"),createdAt:(new Date).toISOString()}),n=await Hf(Dh(xv,"quizResults"),t);console.log("\u2705 Rezultat uspe\u0161no sa\u010duvan u Firebase sa ID:",n.id);const r=u(u({},e),{},{firebaseId:n.id,savedAt:(new Date).toISOString()}),i=JSON.parse(localStorage.getItem("quizResults")||"[]");return i.push(r),localStorage.setItem("quizResults",JSON.stringify(i.slice(-100))),console.log("\u2705 Rezultat sa\u010duvan i u localStorage"),{success:!0,id:n.id}}catch(t){console.error("\u274c Gre\u0161ka pri \u010duvanju rezultata u Firebase:",t),k(t.message);try{const n=u(u({},e),{},{error:"Firebase save failed",savedLocallyAt:(new Date).toISOString()}),r=JSON.parse(localStorage.getItem("quizResults")||"[]");return r.push(n),localStorage.setItem("quizResults",JSON.stringify(r.slice(-100))),console.log("\u26a0\ufe0f Rezultat sa\u010duvan samo u localStorage zbog Firebase gre\u0161ke"),{success:!1,error:t.message,savedLocally:!0}}catch(n){return console.error("\u274c Gre\u0161ka i pri \u010duvanju u localStorage:",n),{success:!1,error:"Failed to save anywhere"}}}finally{w(!1)}})(i);"exam"===d&&f>=3600&&console.log("\u23f0 Vreme za ispit je isteklo!"),c(!0),g(!0)},E=()=>{a(0),o(Array(Cv.length).fill(null)),c(!1),g(!1),p(0),y(null),k(null)},_=e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))},T=s.filter(e=>null!==e).length,C=s.filter(e=>e&&e.isCorrect).length,j=(()=>{const e=s.filter(e=>null!==e).reduce((e,t)=>t.isCorrect?e+1:e,0);return Math.round(e/Cv.length*100)})();if(l){const e=j;return(0,Sv.jsxs)("div",{className:"quiz-results",children:[(0,Sv.jsxs)("div",{className:"results-header",children:[(0,Sv.jsx)("h2",{children:"\ud83c\udf89 Rezultati kviza"}),(0,Sv.jsx)("div",{className:"mode-badge ".concat(d),children:"learning"===d?"\ud83d\udcda U\u010denje":"test"===d?"\ud83d\udcdd Test":"\u23f1\ufe0f Ispit"})]}),b&&(0,Sv.jsxs)("div",{className:"saving-indicator",children:[(0,Sv.jsx)("div",{className:"spinner-small"}),(0,Sv.jsx)("p",{children:"\u010cuvanje rezultata..."})]}),x&&(0,Sv.jsx)("div",{className:"save-error",children:(0,Sv.jsxs)("p",{children:["\u26a0\ufe0f Rezultat je sa\u010duvan lokalno, ali gre\u0161ka pri slanju u sistem: ",x]})}),(0,Sv.jsxs)("div",{className:"score-summary",children:[(0,Sv.jsxs)("div",{className:"score-card primary",children:[(0,Sv.jsxs)("div",{className:"score-value",children:[C,"/",Cv.length]}),(0,Sv.jsx)("div",{className:"score-label",children:"Ta\u010dnih odgovora"})]}),(0,Sv.jsxs)("div",{className:"score-card",style:{background:e>=80?"#d4edda":e>=60?"#fff3cd":"#f8d7da"},children:[(0,Sv.jsxs)("div",{className:"score-value",children:[e,"%"]}),(0,Sv.jsx)("div",{className:"score-label",children:"Uspe\u0161nost"})]}),(0,Sv.jsxs)("div",{className:"score-card",children:[(0,Sv.jsxs)("div",{className:"score-value",children:[T,"/",Cv.length]}),(0,Sv.jsx)("div",{className:"score-label",children:"Odgovoreno"})]}),"exam"===d&&(0,Sv.jsxs)("div",{className:"score-card",children:[(0,Sv.jsx)("div",{className:"score-value",children:_(f)}),(0,Sv.jsx)("div",{className:"score-label",children:"Vreme"})]})]}),(0,Sv.jsxs)("div",{className:"grade-evaluation",children:[e>=90&&(0,Sv.jsx)("div",{className:"grade excellent",children:"\u2b50 Odli\u010dan (5)"}),e>=75&&e<90&&(0,Sv.jsx)("div",{className:"grade very-good",children:"\ud83d\udc4d Vrlo dobar (4)"}),e>=60&&e<75&&(0,Sv.jsx)("div",{className:"grade good",children:"\ud83d\udc4c Dobar (3)"}),e>=50&&e<60&&(0,Sv.jsx)("div",{className:"grade sufficient",children:"\u2705 Dovoljan (2)"}),e<50&&(0,Sv.jsx)("div",{className:"grade insufficient",children:"\u274c Nedovoljan (1)"}),(0,Sv.jsx)("div",{className:"grade-info",children:e>=50?(0,Sv.jsx)("p",{children:"\ud83c\udf89 \u010cestitamo! Polo\u017eili ste kviz."}):(0,Sv.jsx)("p",{children:"\ud83d\udcda Preporu\u010dujemo dodatno u\u010denje pre slede\u0107eg poku\u0161aja."})})]}),(0,Sv.jsx)("h3",{children:"\ud83d\udccb Pregled odgovora:"}),(0,Sv.jsx)("div",{className:"questions-review",children:Cv.map((e,t)=>{var n;return(0,Sv.jsxs)("div",{className:"question-review",children:[(0,Sv.jsx)(Tv,{question:e,onAnswer:()=>{},showImmediateFeedback:!0,disabled:!0,userAnswer:null===(n=s[t])||void 0===n?void 0:n.selected}),(0,Sv.jsx)("div",{className:"review-status",children:s[t]?s[t].isCorrect?(0,Sv.jsx)("span",{className:"status-correct",children:"\u2705 Odgovoreno ta\u010dno"}):(0,Sv.jsxs)("span",{className:"status-incorrect",children:["\u274c Odgovoreno pogre\u0161no",(0,Sv.jsx)("br",{}),(0,Sv.jsxs)("small",{children:["Ta\u010dan odgovor: ",e.options[e.correct]]})]}):(0,Sv.jsx)("span",{className:"status-skipped",children:"\u23ed\ufe0f Presko\u010deno"})})]},e.id)})}),(0,Sv.jsxs)("div",{className:"results-actions",children:[(0,Sv.jsx)("button",{onClick:E,className:"retry-btn",children:"\ud83d\udd04 Poku\u0161aj ponovo"}),(0,Sv.jsx)("button",{onClick:()=>window.location.href="/#/",className:"home-btn",children:"\ud83c\udfe0 Nazad na po\u010detnu"}),"professor"===(null===n||void 0===n?void 0:n.role)&&(0,Sv.jsx)("button",{onClick:()=>window.location.href="/#/professor/quiz-results",className:"professor-btn",children:"\ud83d\udc68\u200d\ud83c\udfeb Pregled rezultata"})]}),(0,Sv.jsx)("div",{className:"result-note",children:(0,Sv.jsx)("p",{children:(0,Sv.jsx)("small",{children:"\u24d8 Rezultat je sa\u010duvan u sistemu. Profesor mo\u017ee da vidi sve rezultate u delu za profesore."})})})]})}return(0,Sv.jsxs)("div",{className:"enhanced-quiz-container",children:[(0,Sv.jsxs)("div",{className:"quiz-controls",children:[(0,Sv.jsxs)("div",{className:"mode-selector",children:[(0,Sv.jsx)("h2",{children:"Agilno IT Poslovanje - Kviz"}),(0,Sv.jsxs)("div",{className:"mode-buttons",children:[(0,Sv.jsx)("button",{className:"learning"===d?"active":"",onClick:()=>{h("learning"),y(null),p(0)},children:"\ud83d\udcda U\u010denje"}),(0,Sv.jsx)("button",{className:"test"===d?"active":"",onClick:()=>{h("test"),y(null),p(0)},children:"\ud83d\udcdd Test"}),(0,Sv.jsx)("button",{className:"exam"===d?"active":"",onClick:()=>{h("exam"),v||(y(Date.now()),p(0))},children:"\u23f1\ufe0f Ispit (60 min)"})]})]}),(0,Sv.jsxs)("div",{className:"quiz-header",children:[(0,Sv.jsxs)("div",{className:"progress-info",children:[(0,Sv.jsx)("div",{className:"progress-bar",children:(0,Sv.jsx)("div",{className:"progress-fill",style:{width:"".concat((i+1)/Cv.length*100,"%")}})}),(0,Sv.jsxs)("div",{className:"progress-text",children:["Pitanje ",i+1," od ",Cv.length]})]}),"exam"===d&&v&&(0,Sv.jsxs)("div",{className:"timer-display",children:["\u23f1\ufe0f ",_(3600-f),(0,Sv.jsx)("div",{className:"timer-label",children:"Preostalo vreme"})]})]})]}),(0,Sv.jsx)(Tv,{question:Cv[i],onAnswer:e=>{const t=[...s];t[i]={selected:e,isCorrect:e===Cv[i].correct,answeredAt:new Date},o(t),"learning"===d&&setTimeout(()=>{i<Cv.length-1&&a(i+1)},1500)},showImmediateFeedback:"learning"===d,showStats:"learning"===d,disabled:"learning"===d&&null!==s[i],userAnswer:null===(t=s[i])||void 0===t?void 0:t.selected}),(0,Sv.jsxs)("div",{className:"quiz-navigation",children:[(0,Sv.jsxs)("div",{className:"nav-buttons",children:[(0,Sv.jsx)("button",{onClick:()=>{i>0&&a(i-1)},disabled:0===i,className:"nav-btn prev-btn",children:"\u2190 Prethodno"}),(0,Sv.jsxs)("div",{className:"quick-jump",children:[Cv.slice(0,Math.min(10,Cv.length)).map((e,t)=>(0,Sv.jsx)("button",{className:"jump-btn ".concat(i===t?"active":""," ").concat(null!==s[t]?"answered":""),onClick:()=>a(t),title:"Pitanje ".concat(t+1).concat(s[t]?" (odgovoreno)":""),children:t+1},t)),Cv.length>10&&(0,Sv.jsxs)("span",{className:"jump-more",children:["+",Cv.length-10," vi\u0161e"]})]}),i<Cv.length-1?(0,Sv.jsx)("button",{onClick:()=>{i<Cv.length-1&&a(i+1)},className:"nav-btn next-btn",children:"Slede\u0107e \u2192"}):(0,Sv.jsx)("button",{onClick:S,className:"nav-btn finish-btn",children:"\ud83c\udfc1 Zavr\u0161i kviz"})]}),(0,Sv.jsxs)("div",{className:"quiz-stats",children:[(0,Sv.jsxs)("div",{className:"stat",children:[(0,Sv.jsx)("span",{className:"stat-label",children:"Odgovoreno:"}),(0,Sv.jsxs)("span",{className:"stat-value",children:[T,"/",Cv.length]})]}),(0,Sv.jsxs)("div",{className:"stat",children:[(0,Sv.jsx)("span",{className:"stat-label",children:"Ta\u010dnih:"}),(0,Sv.jsxs)("span",{className:"stat-value",children:[C,"/",T||0]})]}),(0,Sv.jsxs)("div",{className:"stat",children:[(0,Sv.jsx)("span",{className:"stat-label",children:"Trenutni skor:"}),(0,Sv.jsxs)("span",{className:"stat-value",children:[j,"%"]})]})]}),"learning"!==d&&(0,Sv.jsx)("div",{className:"quiz-instructions",children:(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"\ud83d\udca1 Uputstvo:"})," Klikni na odgovor da bi ga odabrao/la. Mo\u017ee\u0161 da presko\u010di\u0161 pitanje - ne\u0107e se ra\u010dunati kao pogre\u0161no.","exam"===d&&" Ispit traje 60 minuta."]})}),(0,Sv.jsx)("div",{className:"student-info",children:(0,Sv.jsxs)("small",{children:["Student: ",(0,Sv.jsx)("strong",{children:(null===n||void 0===n?void 0:n.displayName)||(null===n||void 0===n?void 0:n.email)||"Gost"}),(null===n||void 0===n?void 0:n.studentId)&&" (".concat(n.studentId,")")]})})]})]})};const Nv=function(){var e,t;const[n,i]=(0,r.useState)([]),[a,s]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)(""),[h,f]=(0,r.useState)("all");(0,r.useEffect)(()=>{p()},[h]);const p=()=>{l(!0),d("");try{const e=JSON.parse(localStorage.getItem("mockUsers")||"[]"),t=JSON.parse(localStorage.getItem("quizResults")||"[]");if(console.log("Loaded:",{users:e.length,results:t.length}),0===t.length)return void v();m(t,e)}catch(e){console.error("Error loading leaderboard:",e),d("Gre\u0161ka pri u\u010ditavanju rang liste."),v()}finally{l(!1)}},m=(e,t)=>{const n={};e.forEach(e=>{const r=e.userId||"anonymous";if(!n[r]){const i=t.find(e=>e.id===r)||{name:e.userName||"Anonimni korisnik",studentId:e.studentId||"N/A"};n[r]={userId:r,name:i.name,studentId:i.studentId,totalPercentage:0,totalQuizzes:0,bestPercentage:0,averagePercentage:0,lastActivity:e.date||e.submittedAt}}const i=Number(e.percentage)||0;n[r].totalPercentage+=i,n[r].totalQuizzes+=1,n[r].bestPercentage=Math.max(n[r].bestPercentage,i)});const r=Object.values(n).map(e=>u(u({},e),{},{averagePercentage:e.totalQuizzes>0?Math.round(e.totalPercentage/e.totalQuizzes):0})).filter(e=>e.totalQuizzes>0).sort((e,t)=>t.averagePercentage-e.averagePercentage).slice(0,20),a=r.slice(0,8).map((e,t)=>({id:e.userId,name:e.name.split(" ")[0],fullName:e.name,score:e.averagePercentage,color:g(t)}));console.log("Chart data:",a),0===r.length?v():(i(r),s(a))},g=e=>{const t=["#3498db","#2ecc71","#e74c3c","#f39c12","#9b59b6","#1abc9c","#d35400","#34495e"];return t[e%t.length]},v=()=>{console.log("Generating demo leaderboard");const e=[{userId:"demo-1",name:"Ana Petrovi\u0107",studentId:"RA-001/2024",totalPercentage:850,totalQuizzes:10,bestPercentage:98,averagePercentage:85,lastActivity:(new Date).toISOString()},{userId:"demo-2",name:"Marko Jovanovi\u0107",studentId:"RA-002/2024",totalPercentage:924,totalQuizzes:12,bestPercentage:95,averagePercentage:77,lastActivity:(new Date).toISOString()},{userId:"demo-3",name:"Jovana Nikoli\u0107",studentId:"RA-003/2024",totalPercentage:783,totalQuizzes:9,bestPercentage:92,averagePercentage:87,lastActivity:(new Date).toISOString()},{userId:"demo-4",name:"Stefan \u0110or\u0111evi\u0107",studentId:"RA-004/2024",totalPercentage:720,totalQuizzes:8,bestPercentage:96,averagePercentage:90,lastActivity:(new Date).toISOString()},{userId:"demo-5",name:"Milica Popovi\u0107",studentId:"RA-005/2024",totalPercentage:574,totalQuizzes:7,bestPercentage:88,averagePercentage:82,lastActivity:(new Date).toISOString()}],t=e.map((e,t)=>({id:e.userId,name:e.name.split(" ")[0],fullName:e.name,score:e.averagePercentage,color:g(t)}));i(e),s(t),d("\u2139\ufe0f Prikazani su demo podaci. Uradite kviz da biste se pojavili na listi.")},y=e=>{let{data:t}=e;if(!t||0===t.length)return(0,Sv.jsxs)("div",{className:"empty-chart",children:[(0,Sv.jsx)("div",{className:"empty-chart-icon",children:"\ud83d\udcca"}),(0,Sv.jsx)("p",{children:"Nema podataka za grafikon"})]});const n=Math.max(...t.map(e=>e.score));return(0,Sv.jsxs)("div",{className:"simple-bar-chart",children:[(0,Sv.jsxs)("div",{className:"chart-title",children:["Top ",t.length," rezultata"]}),(0,Sv.jsx)("div",{className:"chart-bars",children:t.map((e,t)=>(0,Sv.jsxs)("div",{className:"chart-bar-item",children:[(0,Sv.jsxs)("div",{className:"bar-info",children:[(0,Sv.jsxs)("div",{className:"bar-label",children:[(0,Sv.jsx)("span",{className:"bar-name",children:e.name}),(0,Sv.jsxs)("span",{className:"bar-score",children:[e.score,"%"]})]}),(0,Sv.jsx)("div",{className:"bar-container",children:(0,Sv.jsx)("div",{className:"bar-fill",style:{width:"".concat(e.score/n*100,"%"),backgroundColor:e.color},children:(0,Sv.jsxs)("span",{className:"bar-value",children:[e.score,"%"]})})})]}),(0,Sv.jsxs)("div",{className:"bar-tooltip",children:[e.fullName,": ",e.score,"% prose\u010dno"]})]},e.id||t))})]})},b=e=>{let{data:t}=e;if(!t||0===t.length)return null;const n=t.reduce((e,t)=>e+t.score,0);let r=0;return(0,Sv.jsxs)("div",{className:"simple-pie-chart",children:[(0,Sv.jsx)("div",{className:"pie-title",children:"Raspodela po proseku"}),(0,Sv.jsxs)("div",{className:"pie-container",children:[(0,Sv.jsxs)("svg",{width:"200",height:"200",viewBox:"0 0 200 200",children:[t.map((e,t)=>{const i=e.score/n*100,a=r;r+=i;const s=a/100*360,o=r/100*360,l=(s-90)*(Math.PI/180),c=(o-90)*(Math.PI/180),u=100+80*Math.cos(l),d=100+80*Math.sin(l),h=100+80*Math.cos(c),f=100+80*Math.sin(c),p=o-s<=180?0:1;return(0,Sv.jsx)("path",{d:"M 100 100 L ".concat(u," ").concat(d," A 80 80 0 ").concat(p," 1 ").concat(h," ").concat(f," Z"),fill:e.color,stroke:"#fff",strokeWidth:"2"},t)}),(0,Sv.jsx)("circle",{cx:"100",cy:"100",r:"40",fill:"white"}),(0,Sv.jsxs)("text",{x:"100",y:"100",textAnchor:"middle",dy:".3em",className:"pie-center-text",children:["Top ",t.length]})]}),(0,Sv.jsx)("div",{className:"pie-legend",children:t.map((e,t)=>(0,Sv.jsxs)("div",{className:"legend-item",children:[(0,Sv.jsx)("div",{className:"legend-color",style:{backgroundColor:e.color}}),(0,Sv.jsxs)("div",{className:"legend-text",children:[(0,Sv.jsx)("span",{className:"legend-name",children:e.name}),(0,Sv.jsxs)("span",{className:"legend-percent",children:[e.score,"%"]})]})]},t))})]})]})};return o?(0,Sv.jsxs)("div",{className:"loading-container",children:[(0,Sv.jsx)("div",{className:"spinner"}),(0,Sv.jsx)("p",{children:"U\u010ditavanje rang liste..."})]}):(0,Sv.jsxs)("div",{className:"leaderboard-container",children:[(0,Sv.jsxs)("div",{className:"leaderboard-header",children:[(0,Sv.jsx)("h2",{children:"\ud83c\udfc6 Rang lista studenata"}),(0,Sv.jsx)("p",{children:"Pregled najboljih rezultata na kvizovima iz Agilnog IT Poslovanja"})]}),c&&(0,Sv.jsx)("div",{className:"info-message",children:c}),(0,Sv.jsxs)("div",{className:"leaderboard-controls",children:[(0,Sv.jsxs)("div",{className:"filter-buttons",children:[(0,Sv.jsx)("button",{className:"filter-btn ".concat("all"===h?"active":""),onClick:()=>f("all"),children:"Sve vreme"}),(0,Sv.jsx)("button",{className:"filter-btn ".concat("week"===h?"active":""),onClick:()=>f("week"),children:"Poslednjih 7 dana"}),(0,Sv.jsx)("button",{className:"filter-btn ".concat("today"===h?"active":""),onClick:()=>f("today"),children:"Danas"})]}),(0,Sv.jsxs)("div",{className:"action-buttons",children:[(0,Sv.jsx)("button",{onClick:()=>{p()},className:"refresh-btn",children:"\ud83d\udd04 Osve\u017ei"}),(0,Sv.jsx)("button",{onClick:()=>{const e=[["Rank","Ime","Indeks","Prosek %","Najbolji %","Broj kvizova","Poslednja aktivnost"],...n.map((e,t)=>[t+1,e.name,e.studentId,"".concat(e.averagePercentage,"%"),"".concat(e.bestPercentage,"%"),e.totalQuizzes,new Date(e.lastActivity).toLocaleDateString("sr-RS")])].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download="rang-lista-".concat((new Date).toISOString().split("T")[0],".csv"),i.click(),window.URL.revokeObjectURL(r)},className:"export-btn",children:"\ud83d\udcca Izvezi CSV"})]})]}),(0,Sv.jsxs)("div",{className:"leaderboard-content",children:[(0,Sv.jsxs)("div",{className:"table-section",children:[(0,Sv.jsx)("h3",{children:"\ud83d\udccb Tabela rangiranja"}),0===n.length?(0,Sv.jsxs)("div",{className:"empty-state",children:[(0,Sv.jsx)("div",{className:"empty-icon",children:"\ud83d\udcca"}),(0,Sv.jsx)("h4",{children:"Nema rezultata za prikaz"}),(0,Sv.jsx)("p",{children:"Niko jo\u0161 nije uradio kviz sa ovim filterima."}),(0,Sv.jsx)("button",{onClick:()=>window.location.href="/#/kviz",className:"quiz-btn",children:"\ud83c\udfaf Idi na kviz"})]}):(0,Sv.jsx)("div",{className:"table-container",children:(0,Sv.jsxs)("table",{className:"leaderboard-table",children:[(0,Sv.jsx)("thead",{children:(0,Sv.jsxs)("tr",{children:[(0,Sv.jsx)("th",{children:"Rank"}),(0,Sv.jsx)("th",{children:"Student"}),(0,Sv.jsx)("th",{children:"Indeks"}),(0,Sv.jsx)("th",{children:"Prosek"}),(0,Sv.jsx)("th",{children:"Najbolji"}),(0,Sv.jsx)("th",{children:"Kvizova"}),(0,Sv.jsx)("th",{children:"Poslednje"})]})}),(0,Sv.jsx)("tbody",{children:n.map((e,t)=>(0,Sv.jsxs)("tr",{className:t<3?"top-".concat(t+1):"",children:[(0,Sv.jsx)("td",{className:"rank-cell",children:(0,Sv.jsx)("div",{className:"rank-badge ".concat(t<3?"rank-".concat(t+1):""),children:t+1})}),(0,Sv.jsx)("td",{className:"student-cell",children:(0,Sv.jsxs)("div",{className:"student-info",children:[(0,Sv.jsx)("div",{className:"student-avatar",children:e.name.charAt(0)}),(0,Sv.jsx)("div",{children:(0,Sv.jsx)("strong",{children:e.name})})]})}),(0,Sv.jsx)("td",{children:e.studentId}),(0,Sv.jsx)("td",{className:"score-cell",children:(0,Sv.jsxs)("span",{className:"score-badge",children:[e.averagePercentage,"%"]})}),(0,Sv.jsx)("td",{children:(0,Sv.jsxs)("span",{className:"best-score",children:[e.bestPercentage,"%"]})}),(0,Sv.jsx)("td",{children:e.totalQuizzes}),(0,Sv.jsx)("td",{className:"date-cell",children:e.lastActivity?new Date(e.lastActivity).toLocaleDateString("sr-RS"):"N/A"})]},e.userId))})]})})]}),(0,Sv.jsxs)("div",{className:"chart-section",children:[(0,Sv.jsx)("h3",{children:"\ud83d\udcc8 Grafi\u010dki prikaz"}),(0,Sv.jsxs)("div",{className:"charts-container",children:[(0,Sv.jsx)("div",{className:"chart-card",children:(0,Sv.jsx)(y,{data:a})}),(0,Sv.jsx)("div",{className:"chart-card",children:(0,Sv.jsx)(b,{data:a.slice(0,5)})})]}),(0,Sv.jsxs)("div",{className:"stats-summary",children:[(0,Sv.jsx)("h4",{children:"\ud83d\udcca Statistika rang liste"}),(0,Sv.jsxs)("div",{className:"stats-grid",children:[(0,Sv.jsxs)("div",{className:"stat-item",children:[(0,Sv.jsx)("div",{className:"stat-icon",children:"\ud83d\udc65"}),(0,Sv.jsxs)("div",{className:"stat-content",children:[(0,Sv.jsx)("div",{className:"stat-value",children:n.length}),(0,Sv.jsx)("div",{className:"stat-label",children:"Studenata"})]})]}),(0,Sv.jsxs)("div",{className:"stat-item",children:[(0,Sv.jsx)("div",{className:"stat-icon",children:"\u2b50"}),(0,Sv.jsxs)("div",{className:"stat-content",children:[(0,Sv.jsx)("div",{className:"stat-value",children:n.length>0?"".concat(n[0].averagePercentage,"%"):"0%"}),(0,Sv.jsx)("div",{className:"stat-label",children:"Najbolji prosek"})]})]}),(0,Sv.jsxs)("div",{className:"stat-item",children:[(0,Sv.jsx)("div",{className:"stat-icon",children:"\ud83d\udcdd"}),(0,Sv.jsxs)("div",{className:"stat-content",children:[(0,Sv.jsx)("div",{className:"stat-value",children:n.length>0?Math.round(n.reduce((e,t)=>e+t.totalQuizzes,0)/n.length):0}),(0,Sv.jsx)("div",{className:"stat-label",children:"Prose\u010dno kvizova"})]})]}),(0,Sv.jsxs)("div",{className:"stat-item",children:[(0,Sv.jsx)("div",{className:"stat-icon",children:"\ud83d\udcc5"}),(0,Sv.jsxs)("div",{className:"stat-content",children:[(0,Sv.jsx)("div",{className:"stat-value",children:n.length>0?null===(e=new Date(Math.max(...n.map(e=>new Date(e.lastActivity)))))||void 0===e||null===(t=e.toLocaleDateString("sr-RS"))||void 0===t?void 0:t.split(".")[0]:"N/A"}),(0,Sv.jsx)("div",{className:"stat-label",children:"Poslednji kviz"})]})]})]})]})]})]}),(0,Sv.jsxs)("div",{className:"leaderboard-footer",children:[(0,Sv.jsxs)("div",{className:"legend",children:[(0,Sv.jsxs)("div",{className:"legend-item",children:[(0,Sv.jsx)("div",{className:"legend-color rank-1"}),(0,Sv.jsx)("span",{children:"1. mesto"})]}),(0,Sv.jsxs)("div",{className:"legend-item",children:[(0,Sv.jsx)("div",{className:"legend-color rank-2"}),(0,Sv.jsx)("span",{children:"2. mesto"})]}),(0,Sv.jsxs)("div",{className:"legend-item",children:[(0,Sv.jsx)("div",{className:"legend-color rank-3"}),(0,Sv.jsx)("span",{children:"3. mesto"})]})]}),(0,Sv.jsx)("div",{className:"update-info",children:(0,Sv.jsxs)("small",{children:["Poslednje a\u017euriranje: ",(new Date).toLocaleString("sr-RS")]})})]})]})},Iv=e=>{let{user:t}=e;const[n,i]=(0,r.useState)({totalStudents:0,pendingStudents:0,approvedStudents:0,activeToday:0,averageScore:0,totalQuizzes:0,passRate:0}),[a,s]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[h,f]=(0,r.useState)(null),p=_e();(0,r.useEffect)(()=>{m()},[]);const m=async()=>{d(!0),f(null);try{console.log("\ud83d\udcca U\u010ditavam dashboard podatke...");const e=Dh(xv,"users"),t=await Uf(e),n=[];let r=0,a=0;t.forEach(e=>{const t=e.data();var i,s;"student"===t.role&&(n.push(u(u({id:e.id},t),{},{createdAt:(null===(i=t.createdAt)||void 0===i||null===(s=i.toDate)||void 0===s?void 0:s.call(i))||(t.createdAt?new Date(t.createdAt):new Date)})),!0===t.approved?a++:r++)}),console.log("\ud83d\udc65 Prona\u0111eno ".concat(n.length," studenata"));const o=Dh(xv,"quizResults"),c=await Uf(o),d=[];c.forEach(e=>{const t=e.data();d.push(u({id:e.id},t))}),console.log("\ud83d\udcdd Prona\u0111eno ".concat(d.length," rezultata kvizova"));const h=new Date;h.setHours(0,0,0,0);const f=n.filter(e=>e.createdAt>=h).length;let p=0,m=0,g=d.length;d.forEach(e=>{const t=e.percentage||0;p+=t,t>=50&&m++});const v=g>0?Math.round(p/g):0,y=g>0?Math.round(m/g*100):0;i({totalStudents:n.length,pendingStudents:r,approvedStudents:a,activeToday:f,averageScore:v,totalQuizzes:g,passRate:y});const b=[...n].sort((e,t)=>t.createdAt-e.createdAt).slice(0,10);s(b);const w=[...d].sort((e,t)=>(t.percentage||0)-(e.percentage||0)).slice(0,5).map(e=>u(u({},e),{},{studentName:e.studentName||e.userName||e.email||"Student",quizName:e.quizName||"Kviz"}));l(w),console.log("\u2705 Dashboard podaci u\u010ditani!")}catch(h){console.error("\u274c Gre\u0161ka pri u\u010ditavanju:",h),f("Gre\u0161ka: ".concat(h.message))}finally{d(!1)}},g=e=>{if(!e)return"Nepoznato";try{return new Date(e).toLocaleDateString("sr-RS",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(Hv){return"Nepoznato"}},v=()=>{p("/professor/pending")},y=()=>{p("/professor/quiz-results")},b=()=>{const e=a.filter(e=>!e.approved).length;e>0?window.confirm("\u017delite li da po\u0161aljete podsetnik ".concat(e," studentima na \u010dekanju?"))&&alert("\ud83d\udce7 Podsetnik poslat ".concat(e," studentima!")):alert("\u2139\ufe0f Trenutno nema studenata na \u010dekanju.")},w={container:{padding:"20px",maxWidth:"1400px",margin:"0 auto",minHeight:"100vh"},header:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"30px",borderRadius:"15px",marginBottom:"30px",textAlign:"center"},headerTitle:{fontSize:"32px",margin:"0 0 10px 0",display:"flex",alignItems:"center",justifyContent:"center",gap:"15px"},headerSubtitle:{fontSize:"18px",opacity:.9,margin:0},errorBox:{background:"#f8d7da",color:"#721c24",padding:"20px",borderRadius:"10px",marginBottom:"20px",textAlign:"center"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"20px",marginBottom:"40px"},statCard:{background:"white",padding:"25px",borderRadius:"15px",boxShadow:"0 5px 15px rgba(0,0,0,0.08)",textAlign:"center",transition:"transform 0.3s, box-shadow 0.3s",cursor:"pointer"},statCardHover:{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0,0,0,0.15)"},statIcon:{fontSize:"40px",marginBottom:"15px",display:"block"},statNumber:{fontSize:"36px",fontWeight:"bold",margin:"10px 0",color:"#333"},statLabel:{color:"#666",fontSize:"14px",margin:0},columnsContainer:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"30px",marginBottom:"40px"},column:{background:"white",padding:"25px",borderRadius:"15px",boxShadow:"0 5px 15px rgba(0,0,0,0.08)"},columnHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"2px solid #f0f0f0"},columnTitle:{fontSize:"20px",margin:0,display:"flex",alignItems:"center",gap:"10px"},badge:{background:"#667eea",color:"white",padding:"5px 15px",borderRadius:"20px",fontSize:"14px",fontWeight:"bold"},studentsList:{maxHeight:"400px",overflowY:"auto",paddingRight:"10px"},studentItem:{display:"flex",alignItems:"center",padding:"15px",borderBottom:"1px solid #eee",transition:"background 0.3s",cursor:"pointer"},studentItemHover:{background:"#f8f9ff"},studentAvatar:{width:"50px",height:"50px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea, #764ba2)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",marginRight:"15px",flexShrink:0},studentInfo:{flex:1},studentName:{fontWeight:"bold",margin:"0 0 5px 0",fontSize:"16px"},studentEmail:{color:"#666",fontSize:"14px",margin:"0 0 8px 0"},studentMeta:{display:"flex",gap:"15px",alignItems:"center"},statusBadge:{padding:"4px 12px",borderRadius:"15px",fontSize:"12px",fontWeight:"500"},statusApproved:{background:"#d4edda",color:"#155724"},statusPending:{background:"#fff3cd",color:"#856404"},dateBadge:{color:"#666",fontSize:"12px",display:"flex",alignItems:"center",gap:"5px"},topStudentItem:{display:"flex",alignItems:"center",padding:"15px",borderBottom:"1px solid #eee",background:"linear-gradient(90deg, rgba(102,126,234,0.05), transparent)"},rankBadge:{background:"linear-gradient(135deg, #FFD700, #FFA500)",color:"#333",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"18px",marginRight:"15px",flexShrink:0},scoreBadge:{background:"#4CAF50",color:"white",padding:"4px 12px",borderRadius:"15px",fontSize:"14px",fontWeight:"bold"},quizBadge:{background:"#9C27B0",color:"white",padding:"4px 12px",borderRadius:"15px",fontSize:"12px",marginTop:"5px"},quickActions:{background:"white",padding:"25px",borderRadius:"15px",boxShadow:"0 5px 15px rgba(0,0,0,0.08)"},actionsTitle:{fontSize:"20px",margin:"0 0 20px 0",display:"flex",alignItems:"center",gap:"10px"},actionsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"15px"},actionBtn:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",padding:"15px 20px",borderRadius:"10px",cursor:"pointer",fontSize:"16px",textAlign:"left",display:"flex",alignItems:"center",gap:"12px",transition:"transform 0.2s, box-shadow 0.2s"},actionBtnHover:{transform:"translateY(-2px)",boxShadow:"0 5px 15px rgba(102,126,234,0.4)"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"300px",textAlign:"center"},spinner:{width:"60px",height:"60px",border:"6px solid #f3f3f3",borderTop:"6px solid #667eea",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"}};return c?(0,Sv.jsxs)("div",{style:w.loadingContainer,children:[(0,Sv.jsx)("div",{style:w.spinner}),(0,Sv.jsx)("h3",{children:"U\u010ditavanje dashboard-a..."}),(0,Sv.jsx)("p",{style:{color:"#666"},children:"Prikupljam podatke o studentima i rezultatima"})]}):(0,Sv.jsxs)("div",{style:w.container,children:[(0,Sv.jsxs)("div",{style:w.header,children:[(0,Sv.jsxs)("h1",{style:w.headerTitle,children:[(0,Sv.jsx)("span",{children:"\ud83d\udc68\u200d\ud83c\udfeb"}),"Profesorski Dashboard"]}),(0,Sv.jsx)("p",{style:w.headerSubtitle,children:"Kontrolna tabla za upravljanje studentima i pregled rezultata"}),(0,Sv.jsxs)("div",{style:{marginTop:"15px",display:"flex",gap:"10px",justifyContent:"center"},children:[(0,Sv.jsx)("button",{onClick:m,style:{background:"rgba(255,255,255,0.2)",color:"white",border:"1px solid rgba(255,255,255,0.3)",padding:"8px 16px",borderRadius:"20px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:"\ud83d\udd04 Osve\u017ei podatke"}),(0,Sv.jsx)("button",{onClick:()=>{const e=a.map(e=>"".concat(e.displayName||e.email,",").concat(e.email,",").concat(e.approved?"Odobren":"Na \u010dekanju",",").concat(g(e.createdAt))).join("\n"),t=encodeURI("data:text/csv;charset=utf-8,Ime,Email,Status,Datum\n"+e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","studenti.csv"),document.body.appendChild(n),n.click(),document.body.removeChild(n),alert("\u2705 Lista studenata preuzeta kao CSV!")},style:{background:"rgba(255,255,255,0.2)",color:"white",border:"1px solid rgba(255,255,255,0.3)",padding:"8px 16px",borderRadius:"20px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:"\ud83d\udce5 Izvezi CSV"})]})]}),h&&(0,Sv.jsxs)("div",{style:w.errorBox,children:[(0,Sv.jsx)("h4",{style:{marginTop:0},children:"\u26a0\ufe0f Gre\u0161ka"}),(0,Sv.jsx)("p",{children:h}),(0,Sv.jsx)("button",{onClick:m,style:{background:"#721c24",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",cursor:"pointer",marginTop:"10px"},children:"Poku\u0161aj ponovo"})]}),(0,Sv.jsx)("div",{style:w.statsGrid,children:[{icon:"\ud83d\udc65",label:"Ukupno studenata",value:n.totalStudents,desc:"Registrovani korisnici"},{icon:"\u23f3",label:"Na \u010dekanju",value:n.pendingStudents,desc:"\u010cekaju odobrenje",color:"#ff9800"},{icon:"\u2705",label:"Odobreni",value:n.approvedStudents,desc:"Aktivni studenti",color:"#4CAF50"},{icon:"\ud83d\udcc8",label:"Novi danas",value:n.activeToday,desc:"Dana\u0161nje registracije",color:"#2196F3"},{icon:"\ud83c\udfaf",label:"Prose\u010dan skor",value:"".concat(n.averageScore,"%"),desc:"Na kvizovima",color:"#9C27B0"},{icon:"\ud83d\udcdd",label:"Ura\u0111eni kvizovi",value:n.totalQuizzes,desc:"Ukupno testova",color:"#673AB7"},{icon:"\ud83d\udcca",label:"Stopa prolaznosti",value:"".concat(n.passRate,"%"),desc:"Procenat uspe\u0161nih",color:"#00BCD4"}].map((e,t)=>(0,Sv.jsxs)("div",{style:w.statCard,onMouseEnter:e=>e.currentTarget.style.transform="translateY(-5px)",onMouseLeave:e=>e.currentTarget.style.transform="translateY(0)",children:[(0,Sv.jsx)("div",{style:u(u({},w.statIcon),{},{color:e.color}),children:e.icon}),(0,Sv.jsx)("div",{style:u(u({},w.statNumber),{},{color:e.color}),children:e.value}),(0,Sv.jsx)("h3",{style:{margin:"10px 0",fontSize:"16px"},children:e.label}),(0,Sv.jsx)("p",{style:w.statLabel,children:e.desc})]},t))}),(0,Sv.jsxs)("div",{style:w.columnsContainer,children:[(0,Sv.jsxs)("div",{style:w.column,children:[(0,Sv.jsxs)("div",{style:w.columnHeader,children:[(0,Sv.jsxs)("h3",{style:w.columnTitle,children:[(0,Sv.jsx)("span",{children:"\ud83d\udccb"}),"Novi studenti"]}),(0,Sv.jsx)("span",{style:w.badge,children:a.length})]}),0===a.length?(0,Sv.jsxs)("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:[(0,Sv.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"\ud83d\udc65"}),(0,Sv.jsx)("p",{children:"Trenutno nema novih studenata"}),(0,Sv.jsx)("button",{onClick:b,style:{background:"#f0f0f0",border:"none",padding:"10px 20px",borderRadius:"5px",marginTop:"15px",cursor:"pointer"},children:"\ud83d\udce7 Proveri zahteve"})]}):(0,Sv.jsx)("div",{style:w.studentsList,children:a.map((e,t)=>{var n,r,i,a;return(0,Sv.jsxs)("div",{style:w.studentItem,onMouseEnter:e=>e.currentTarget.style.background="#f8f9ff",onMouseLeave:e=>e.currentTarget.style.background="transparent",onClick:()=>p("/professor/pending?student=".concat(e.id)),children:[(0,Sv.jsx)("div",{style:w.studentAvatar,children:(null===(n=e.displayName)||void 0===n||null===(r=n.charAt(0))||void 0===r?void 0:r.toUpperCase())||(null===(i=e.email)||void 0===i||null===(a=i.charAt(0))||void 0===a?void 0:a.toUpperCase())||"S"}),(0,Sv.jsxs)("div",{style:w.studentInfo,children:[(0,Sv.jsxs)("h4",{style:w.studentName,children:[e.displayName||e.email,t<3&&(0,Sv.jsx)("span",{style:{marginLeft:"8px",fontSize:"12px",color:"#ff9800"},children:"\ud83c\udd95"})]}),(0,Sv.jsx)("p",{style:w.studentEmail,children:e.email}),(0,Sv.jsxs)("div",{style:w.studentMeta,children:[(0,Sv.jsx)("span",{style:u(u({},w.statusBadge),e.approved?w.statusApproved:w.statusPending),children:e.approved?"\u2705 Odobren":"\u23f3 Na \u010dekanju"}),(0,Sv.jsxs)("span",{style:w.dateBadge,children:["\ud83d\udcc5 ",g(e.createdAt)]})]})]})]},e.id)})}),a.length>0&&(0,Sv.jsx)("div",{style:{marginTop:"20px",textAlign:"center"},children:(0,Sv.jsx)("button",{onClick:v,style:{background:"linear-gradient(135deg, #667eea, #764ba2)",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer",width:"100%",fontSize:"16px"},children:"\ud83d\udc41\ufe0f Pregledaj sve studente na \u010dekanju"})})]}),(0,Sv.jsxs)("div",{style:w.column,children:[(0,Sv.jsxs)("div",{style:w.columnHeader,children:[(0,Sv.jsxs)("h3",{style:w.columnTitle,children:[(0,Sv.jsx)("span",{children:"\ud83c\udfc6"}),"Top studenti"]}),(0,Sv.jsx)("span",{style:w.badge,children:o.length})]}),0===o.length?(0,Sv.jsxs)("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:[(0,Sv.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"\ud83d\udcdd"}),(0,Sv.jsx)("p",{children:"Nema rezultata kvizova"}),(0,Sv.jsx)("p",{style:{fontSize:"14px",marginTop:"10px"},children:"Studenti jo\u0161 nisu radili kvizove"})]}):(0,Sv.jsx)("div",{children:o.map((e,t)=>(0,Sv.jsxs)("div",{style:w.topStudentItem,children:[(0,Sv.jsxs)("div",{style:w.rankBadge,children:["#",t+1]}),(0,Sv.jsxs)("div",{style:{flex:1},children:[(0,Sv.jsx)("h4",{style:{margin:"0 0 5px 0",fontSize:"16px"},children:e.studentName}),(0,Sv.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,Sv.jsxs)("span",{style:w.scoreBadge,children:[e.percentage||e.score||0,"%"]}),(0,Sv.jsxs)("span",{style:{color:"#666",fontSize:"14px"},children:[e.correctAnswers||0,"/",e.totalQuestions||0," ta\u010dno"]})]}),(0,Sv.jsx)("div",{style:w.quizBadge,children:e.quizName})]}),(0,Sv.jsxs)("div",{style:{textAlign:"right"},children:[(0,Sv.jsxs)("div",{style:{color:"#666",fontSize:"12px"},children:["\u23f1\ufe0f ",Math.round((e.timeSpent||0)/60)," min"]}),(0,Sv.jsx)("div",{style:{color:"#999",fontSize:"11px",marginTop:"5px"},children:e.submittedAt?new Date(e.submittedAt).toLocaleDateString("sr-RS"):"Nepoznato"})]})]},e.id))}),o.length>0&&(0,Sv.jsx)("div",{style:{marginTop:"20px",textAlign:"center"},children:(0,Sv.jsx)("button",{onClick:y,style:{background:"linear-gradient(135deg, #4CAF50, #2E7D32)",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer",width:"100%",fontSize:"16px"},children:"\ud83d\udcca Pregledaj sve rezultate"})})]})]}),(0,Sv.jsxs)("div",{style:w.quickActions,children:[(0,Sv.jsxs)("h3",{style:w.actionsTitle,children:[(0,Sv.jsx)("span",{children:"\u26a1"}),"Brze akcije"]}),(0,Sv.jsxs)("div",{style:w.actionsGrid,children:[(0,Sv.jsxs)("button",{onClick:v,style:w.actionBtn,onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 5px 15px rgba(102,126,234,0.4)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,Sv.jsx)("span",{children:"\ud83d\udc41\ufe0f"}),(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("div",{style:{fontWeight:"bold"},children:"Pregled studenata na \u010dekanju"}),(0,Sv.jsxs)("div",{style:{fontSize:"13px",opacity:.9},children:[n.pendingStudents," student(a) \u010deka odobrenje"]})]})]}),(0,Sv.jsxs)("button",{onClick:y,style:w.actionBtn,onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 5px 15px rgba(102,126,234,0.4)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,Sv.jsx)("span",{children:"\ud83d\udcca"}),(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("div",{style:{fontWeight:"bold"},children:"Svi rezultati kvizova"}),(0,Sv.jsxs)("div",{style:{fontSize:"13px",opacity:.9},children:[n.totalQuizzes," ura\u0111enih testova"]})]})]}),(0,Sv.jsxs)("button",{onClick:()=>{p("/professor/analytics")},style:w.actionBtn,onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 5px 15px rgba(102,126,234,0.4)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,Sv.jsx)("span",{children:"\ud83d\udcc8"}),(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("div",{style:{fontWeight:"bold"},children:"Detaljne analize"}),(0,Sv.jsx)("div",{style:{fontSize:"13px",opacity:.9},children:"Statistike i grafikon"})]})]}),(0,Sv.jsxs)("button",{onClick:()=>{p("/professor/add-questions")},style:w.actionBtn,onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 5px 15px rgba(102,126,234,0.4)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,Sv.jsx)("span",{children:"\u2795"}),(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("div",{style:{fontWeight:"bold"},children:"Dodaj nova pitanja"}),(0,Sv.jsx)("div",{style:{fontSize:"13px",opacity:.9},children:"Pro\u0161iri bazu pitanja"})]})]}),(0,Sv.jsxs)("button",{onClick:()=>{p("/professor/delete-students")},style:u(u({},w.actionBtn),{},{background:"linear-gradient(135deg, #f44336 0%, #d32f2f 100%)"}),onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 5px 15px rgba(244,67,54,0.4)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,Sv.jsx)("span",{children:"\ud83d\uddd1\ufe0f"}),(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("div",{style:{fontWeight:"bold"},children:"Obri\u0161i studente"}),(0,Sv.jsx)("div",{style:{fontSize:"13px",opacity:.9},children:"Upravljaj korisni\u010dkim nalozima"})]})]}),(0,Sv.jsxs)("button",{onClick:b,style:u(u({},w.actionBtn),{},{background:"linear-gradient(135deg, #ff9800 0%, #f57c00 100%)"}),onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 5px 15px rgba(255,152,0,0.4)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,Sv.jsx)("span",{children:"\ud83d\udce7"}),(0,Sv.jsxs)("div",{children:[(0,Sv.jsx)("div",{style:{fontWeight:"bold"},children:"Po\u0161alji podsetnik"}),(0,Sv.jsx)("div",{style:{fontSize:"13px",opacity:.9},children:"Studentima na \u010dekanju"})]})]})]})]}),(0,Sv.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        .scrollable-table {\n          scrollbar-width: thin;\n          scrollbar-color: #667eea #f0f0f0;\n        }\n        \n        .scrollable-table::-webkit-scrollbar {\n          width: 8px;\n          height: 8px;\n        }\n        \n        .scrollable-table::-webkit-scrollbar-track {\n          background: #f0f0f0;\n          border-radius: 10px;\n        }\n        \n        .scrollable-table::-webkit-scrollbar-thumb {\n          background: #667eea;\n          border-radius: 10px;\n        }\n        \n        .scrollable-table::-webkit-scrollbar-thumb:hover {\n          background: #764ba2;\n        }\n      "})]})},Av=e=>{let{user:t}=e;const[n,i]=(0,r.useState)("overview"),[a,s]=(0,r.useState)({email:"",password:"",name:""}),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)([]),[h,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{"users"===n&&p()},[n]);const p=async()=>{f(!0);try{const e=await Uf(Dh(xv,"users")),t=[];e.forEach(e=>{t.push(u({id:e.id},e.data()))}),d(t)}catch(e){console.error("Error loading users:",e)}finally{f(!1)}},m=e=>{s(u(u({},a),{},{[e.target.name]:e.target.value}))};return(0,Sv.jsxs)("div",{className:"admin-dashboard",children:[(0,Sv.jsxs)("div",{className:"dashboard-header",children:[(0,Sv.jsx)("h1",{children:"\ud83d\udc51 Administratorski Panel"}),(0,Sv.jsxs)("p",{children:["Dobrodo\u0161li, ",t.name,"!"]})]}),(0,Sv.jsxs)("div",{className:"admin-tabs",children:[(0,Sv.jsx)("button",{className:"tab-btn ".concat("overview"===n?"active":""),onClick:()=>i("overview"),children:"\ud83d\udcca Pregled"}),(0,Sv.jsx)("button",{className:"tab-btn ".concat("createProfessor"===n?"active":""),onClick:()=>i("createProfessor"),children:"\ud83d\udc68\u200d\ud83c\udfeb Kreiraj Profesora"}),(0,Sv.jsx)("button",{className:"tab-btn ".concat("users"===n?"active":""),onClick:()=>i("users"),children:"\ud83d\udc65 Svi Korisnici"}),(0,Sv.jsx)("button",{className:"tab-btn ".concat("system"===n?"active":""),onClick:()=>i("system"),children:"\u2699\ufe0f Sistem"})]}),(0,Sv.jsxs)("div",{className:"tab-content",children:["overview"===n&&(0,Sv.jsxs)("div",{className:"overview",children:[(0,Sv.jsx)("h2",{children:"Dobrodo\u0161li u Admin Panel"}),(0,Sv.jsx)("p",{children:"Ovde mo\u017eete upravljati celim sistemom."}),(0,Sv.jsxs)("div",{className:"admin-stats",children:[(0,Sv.jsxs)("div",{className:"stat-card",children:[(0,Sv.jsx)("h3",{children:"\ud83d\udc51 Va\u0161a uloga"}),(0,Sv.jsx)("p",{children:"Administrator"})]}),(0,Sv.jsxs)("div",{className:"stat-card",children:[(0,Sv.jsx)("h3",{children:"\ud83d\udce7 Va\u0161 email"}),(0,Sv.jsx)("p",{children:t.email})]}),(0,Sv.jsxs)("div",{className:"stat-card",children:[(0,Sv.jsx)("h3",{children:"\ud83c\udd94 Va\u0161 ID"}),(0,Sv.jsxs)("p",{children:[t.uid.substring(0,10),"..."]})]})]}),(0,Sv.jsxs)("div",{className:"quick-actions",children:[(0,Sv.jsx)("h3",{children:"\u26a1 Brze akcije"}),(0,Sv.jsxs)("div",{className:"actions-grid",children:[(0,Sv.jsx)("button",{onClick:()=>i("createProfessor"),className:"action-btn",children:"\ud83d\udc68\u200d\ud83c\udfeb Kreiraj novog profesora"}),(0,Sv.jsx)("button",{onClick:()=>i("users"),className:"action-btn",children:"\ud83d\udc65 Pregled svih korisnika"}),(0,Sv.jsx)("button",{className:"action-btn",children:"\ud83d\udcca Sistem statistika"})]})]})]}),"createProfessor"===n&&(0,Sv.jsxs)("div",{className:"create-professor",children:[(0,Sv.jsx)("h2",{children:"Kreiraj novog profesora"}),o&&(0,Sv.jsx)("div",{className:"alert ".concat(o.includes("\u2705")?"success":"error"),children:o}),(0,Sv.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l(""),a.email.endsWith("@agilnoit.edu.rs"))if(a.password.length<6)l("\u274c Lozinka mora imati najmanje 6 karaktera");else try{const e=(await Jm(kv,a.email,a.password)).user;await Vf(Oh(xv,"users",e.uid),{email:a.email,displayName:a.name,role:"professor",isApproved:!0,createdAt:new Date,createdBy:t.email,approvedAt:new Date}),l('\u2705 Profesor "'.concat(a.name,'" uspe\u0161no kreiran!')),s({email:"",password:"",name:""}),setTimeout(()=>p(),1e3)}catch(n){console.error("Error creating professor:",n),"auth/email-already-in-use"===n.code?l("\u274c Email je ve\u0107 u upotrebi."):l("\u274c Gre\u0161ka: ".concat(n.message))}else l("\u274c Email mora biti u domeni @agilnoit.edu.rs")},children:[(0,Sv.jsxs)("div",{className:"form-group",children:[(0,Sv.jsx)("label",{children:"Ime i prezime profesora:"}),(0,Sv.jsx)("input",{type:"text",name:"name",value:a.name,onChange:m,required:!0,placeholder:"Marko Markovi\u0107"})]}),(0,Sv.jsxs)("div",{className:"form-group",children:[(0,Sv.jsx)("label",{children:"Email profesora:"}),(0,Sv.jsx)("input",{type:"email",name:"email",value:a.email,onChange:m,required:!0,placeholder:"marko.markovic@agilnoit.edu.rs"}),(0,Sv.jsx)("small",{children:"Mora biti u domeni @agilnoit.edu.rs"})]}),(0,Sv.jsxs)("div",{className:"form-group",children:[(0,Sv.jsx)("label",{children:"Privremena lozinka:"}),(0,Sv.jsx)("input",{type:"password",name:"password",value:a.password,onChange:m,required:!0,minLength:"6",placeholder:"Minimalno 6 karaktera"}),(0,Sv.jsx)("small",{children:"Profesor \u0107e mo\u0107i da promeni lozinku nakon prvog logina"})]}),(0,Sv.jsx)("button",{type:"submit",className:"btn-primary",children:"\ud83d\udc68\u200d\ud83c\udfeb Kreiraj Professorski Nalog"})]})]}),"users"===n&&(0,Sv.jsxs)("div",{className:"users-list",children:[(0,Sv.jsxs)("h2",{children:["Svi korisnici sistema (",c.length,")"]}),h?(0,Sv.jsx)("p",{children:"U\u010ditavanje korisnika..."}):(0,Sv.jsx)("div",{className:"users-table",children:(0,Sv.jsxs)("table",{children:[(0,Sv.jsx)("thead",{children:(0,Sv.jsxs)("tr",{children:[(0,Sv.jsx)("th",{children:"Ime"}),(0,Sv.jsx)("th",{children:"Email"}),(0,Sv.jsx)("th",{children:"Uloga"}),(0,Sv.jsx)("th",{children:"Status"}),(0,Sv.jsx)("th",{children:"Datum"})]})}),(0,Sv.jsx)("tbody",{children:c.map(e=>{var t,n;return(0,Sv.jsxs)("tr",{children:[(0,Sv.jsx)("td",{children:e.displayName||e.name||"-"}),(0,Sv.jsx)("td",{children:e.email}),(0,Sv.jsx)("td",{children:(0,Sv.jsx)("span",{className:"role-badge ".concat(e.role),children:"admin"===e.role?"\ud83d\udc51 Admin":"professor"===e.role?"\ud83d\udc68\u200d\ud83c\udfeb Profesor":"\ud83d\udc68\u200d\ud83c\udf93 Student"})}),(0,Sv.jsx)("td",{children:"student"===e.role?e.approved?"\u2705 Odobren":"\u23f3 Na \u010dekanju":"\u2705 Aktivan"}),(0,Sv.jsx)("td",{children:(null===(t=e.createdAt)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t).toLocaleDateString("sr-RS"))||"Nepoznato"})]},e.id)})})]})})]}),"system"===n&&(0,Sv.jsxs)("div",{className:"system-info",children:[(0,Sv.jsx)("h2",{children:"Sistemske informacije"}),(0,Sv.jsxs)("div",{className:"info-grid",children:[(0,Sv.jsxs)("div",{className:"info-card",children:[(0,Sv.jsx)("h3",{children:"\ud83d\udcca Baza podataka"}),(0,Sv.jsx)("p",{children:"Firebase Firestore"}),(0,Sv.jsx)("p",{children:"Kolekcije: users, quizResults"})]}),(0,Sv.jsxs)("div",{className:"info-card",children:[(0,Sv.jsx)("h3",{children:"\ud83d\udd10 Autentifikacija"}),(0,Sv.jsx)("p",{children:"Firebase Authentication"}),(0,Sv.jsx)("p",{children:"Metode: Email/Password"})]}),(0,Sv.jsxs)("div",{className:"info-card",children:[(0,Sv.jsx)("h3",{children:"\ud83d\udc65 Korisnici"}),(0,Sv.jsx)("p",{children:"Admin: 1 (vi)"}),(0,Sv.jsxs)("p",{children:["Profesori: ",c.filter(e=>"professor"===e.role).length]}),(0,Sv.jsxs)("p",{children:["Studenti: ",c.filter(e=>"student"===e.role).length]})]})]})]})]})]})},Rv=e=>{let{user:t}=e;const[n,i]=(0,r.useState)({name:"",email:"",password:""}),[a,s]=(0,r.useState)(""),[o,l]=(0,r.useState)(!1),c=e=>{const{name:t,value:n}=e.target;i(e=>u(u({},e),{},{[t]:n}))};return(0,Sv.jsxs)("div",{style:{maxWidth:"500px",margin:"40px auto",padding:"30px",background:"white",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[(0,Sv.jsx)("h2",{style:{textAlign:"center",marginBottom:"30px"},children:"\ud83d\udc68\u200d\ud83c\udfeb Kreiranje novog profesora"}),a&&(0,Sv.jsx)("div",{style:{padding:"15px",marginBottom:"20px",borderRadius:"5px",background:a.includes("\u2705")?"#d4edda":"#f8d7da",color:a.includes("\u2705")?"#155724":"#721c24",border:"1px solid ".concat(a.includes("\u2705")?"#c3e6cb":"#f5c6cb"),whiteSpace:"pre-line"},children:a}),(0,Sv.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),e.stopPropagation(),console.log("\ud83d\udd27 Submit pokrenut:",n),n.email.endsWith("@agilnoit.edu.rs"))if(n.password.length<6)s("\u274c Lozinka mora imati najmanje 6 karaktera");else{l(!0),s("");try{console.log("1. Kreiranje Firebase Auth korisnika...");const e=(await Jm(kv,n.email,n.password)).user;console.log("\u2705 Auth uspe\u0161an:",e.uid),console.log("2. \u010cuvanje u Firestore..."),await Vf(Oh(xv,"users",e.uid),{email:n.email,displayName:n.name,role:"professor",isApproved:!0,createdAt:new Date,createdBy:(null===t||void 0===t?void 0:t.email)||"admin",approvedAt:new Date}),console.log("\u2705 Firestore uspe\u0161an"),s('\u2705 Profesor "'.concat(n.name,'" uspe\u0161no kreiran!')),i({name:"",email:"",password:""}),setTimeout(()=>s(""),5e3)}catch(r){console.error("\u274c Gre\u0161ka pri kreiranju profesora:",r.code,r.message),"auth/email-already-in-use"===r.code?s("\u274c Email adresa je ve\u0107 u upotrebi."):"auth/invalid-email"===r.code?s("\u274c Email adresa nije validna."):"auth/operation-not-allowed"===r.code?s("\u274c Email/password registracija nije omogu\u0107ena."):"auth/weak-password"===r.code?s("\u274c Lozinka je previ\u0161e slaba."):s("\u274c Gre\u0161ka: ".concat(r.message))}finally{l(!1)}}else s("\u274c Email mora biti u domeni @agilnoit.edu.rs")},id:"professorForm",children:[(0,Sv.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Sv.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Ime i prezime profesora:"}),(0,Sv.jsx)("input",{type:"text",name:"name",value:n.name,onChange:c,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"5px",fontSize:"16px"},placeholder:"Marko Markovi\u0107"})]}),(0,Sv.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Sv.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Email (mora biti @agilnoit.edu.rs):"}),(0,Sv.jsx)("input",{type:"email",name:"email",value:n.email,onChange:c,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"5px",fontSize:"16px"},placeholder:"marko.markovic@agilnoit.edu.rs"}),(0,Sv.jsx)("small",{style:{color:"#666",fontSize:"14px",display:"block",marginTop:"5px"},children:"Mora biti u domeni @agilnoit.edu.rs"})]}),(0,Sv.jsxs)("div",{style:{marginBottom:"25px"},children:[(0,Sv.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Privremena lozinka:"}),(0,Sv.jsx)("input",{type:"password",name:"password",value:n.password,onChange:c,required:!0,minLength:"6",style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"5px",fontSize:"16px"},placeholder:"Minimalno 6 karaktera"}),(0,Sv.jsx)("small",{style:{color:"#666",fontSize:"14px",display:"block",marginTop:"5px"},children:"Profesor \u0107e mo\u0107i da promeni lozinku nakon prvog logina"})]}),(0,Sv.jsx)("button",{type:"submit",disabled:o,style:{width:"100%",padding:"14px",background:o?"#ccc":"#2196F3",color:"white",border:"none",borderRadius:"5px",fontSize:"16px",fontWeight:"bold",cursor:o?"not-allowed":"pointer",marginBottom:"15px"},children:o?"Kreiram...":"\ud83d\udc68\u200d\ud83c\udfeb Kreiraj Professorski Nalog"}),(0,Sv.jsx)("button",{type:"button",onClick:async()=>{const e="testprof".concat(Date.now(),"@agilnoit.edu.rs"),t="test123";console.log("\ud83e\uddea Test kreiranje profesora...");try{const n=(await Jm(kv,e,t)).user;await Vf(Oh(xv,"users",n.uid),{email:e,displayName:"Test Profesor",role:"professor",isApproved:!0,createdAt:new Date}),console.log("\u2705 Test profesor kreiran!"),console.log("\ud83d\udce7 Email:",e),console.log("\ud83d\udd11 Password:",t),s("\u2705 Test profesor kreiran!\nEmail: ".concat(e,"\nPassword: ").concat(t))}catch(n){console.error("\u274c Test gre\u0161ka:",n),s("\u274c Test gre\u0161ka: ".concat(n.message))}},style:{width:"100%",padding:"12px",background:"#4CAF50",color:"white",border:"none",borderRadius:"5px",fontSize:"14px",cursor:"pointer"},children:"\ud83e\uddea Kreiraj test profesora (debug)"})]}),(0,Sv.jsxs)("div",{style:{marginTop:"30px",padding:"20px",background:"#f9f9f9",borderRadius:"5px",fontSize:"14px"},children:[(0,Sv.jsx)("h4",{style:{marginTop:0},children:"\ud83d\udd0d Debug informacije:"}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Trenutni admin:"})," ",(null===t||void 0===t?void 0:t.email)||"Nepoznato"]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Form data:"})," ",JSON.stringify(n)]}),(0,Sv.jsxs)("p",{children:[(0,Sv.jsx)("strong",{children:"Loading:"})," ",o?"Da":"Ne"]}),(0,Sv.jsx)("div",{style:{marginTop:"15px"},children:(0,Sv.jsx)("button",{onClick:()=>{console.log("\ud83d\udd0d Debug podaci:"),console.log("Form data:",n),console.log("Current user:",t),console.log("Auth object:",kv),console.log("Firebase app:",null===kv||void 0===kv?void 0:kv.app),Jm(kv,"test@test.com","test123").then(e=>console.log("Auth test OK:",e.user.uid)).catch(e=>console.log("Auth test error:",e.code,e.message))},style:{padding:"8px 15px",background:"#FF9800",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},children:"Testiraj Firebase u konzoli"})})]})]})};const Pv=function(e){let{user:t}=e;const n=_e();return(0,Sv.jsxs)("div",{className:"home-container",children:[(0,Sv.jsxs)("div",{className:"hero-section",children:[(0,Sv.jsxs)("h1",{children:["Dobrodo\u0161ao/la, ",null===t||void 0===t?void 0:t.name,"!"]}),(0,Sv.jsx)("p",{className:"subtitle",children:"professor"===(null===t||void 0===t?void 0:t.role)?"Kontrolni panel za pra\u0107enje studenata":"Spreman/na da savlada\u0161 Agilno IT poslovanje?"})]}),(0,Sv.jsxs)("div",{className:"dashboard-grid",children:[(0,Sv.jsxs)("div",{className:"dashboard-card",onClick:()=>n("/kviz"),children:[(0,Sv.jsx)("div",{className:"card-icon",children:"\ud83d\udcdd"}),(0,Sv.jsx)("h3",{children:"Zapo\u010dni kviz"}),(0,Sv.jsx)("p",{children:"100 pitanja za pripremu ispita"}),(0,Sv.jsxs)("div",{className:"card-stats",children:[(0,Sv.jsx)("span",{children:"\ud83c\udfaf 87% prosek"}),(0,Sv.jsx)("span",{children:"\u23f1\ufe0f 45 min"})]}),(0,Sv.jsx)("button",{className:"card-btn",children:"Pokreni"})]}),(0,Sv.jsxs)("div",{className:"dashboard-card",onClick:()=>n("/rang-lista"),children:[(0,Sv.jsx)("div",{className:"card-icon",children:"\ud83c\udfc6"}),(0,Sv.jsx)("h3",{children:"Rang lista"}),(0,Sv.jsx)("p",{children:"Takmi\u010di se sa drugim studentima"}),(0,Sv.jsxs)("div",{className:"card-stats",children:[(0,Sv.jsx)("span",{children:"\ud83d\udc65 50+ takmi\u010dara"}),(0,Sv.jsx)("span",{children:"\ud83d\udcca Real-time ranking"})]}),(0,Sv.jsx)("button",{className:"card-btn",children:"Pogledaj"})]}),"student"===(null===t||void 0===t?void 0:t.role)&&(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsxs)("div",{className:"dashboard-card",onClick:()=>alert("Uskoro dostupno!"),children:[(0,Sv.jsx)("div",{className:"card-icon",children:"\u26a1"}),(0,Sv.jsx)("h3",{children:"Real-time takmi\u010denje"}),(0,Sv.jsx)("p",{children:"Takmi\u010denje u realnom vremenu"}),(0,Sv.jsxs)("div",{className:"card-stats",children:[(0,Sv.jsx)("span",{children:"\ud83c\udfae Live multiplayer"}),(0,Sv.jsx)("span",{children:"\ud83c\udfc5 Trofeji"})]}),(0,Sv.jsx)("button",{className:"card-btn",children:"Uskoro"})]}),(0,Sv.jsxs)("div",{className:"dashboard-card",onClick:()=>alert("Uskoro dostupno!"),children:[(0,Sv.jsx)("div",{className:"card-icon",children:"\ud83d\udcc8"}),(0,Sv.jsx)("h3",{children:"Tvoj napredak"}),(0,Sv.jsx)("p",{children:"Prati svoje rezultate i statistiku"}),(0,Sv.jsxs)("div",{className:"card-stats",children:[(0,Sv.jsx)("span",{children:"\ud83d\udcca Grafikoni"}),(0,Sv.jsx)("span",{children:"\ud83d\udcc5 Istorija"})]}),(0,Sv.jsx)("button",{className:"card-btn",children:"Pregled"})]})]}),"professor"===(null===t||void 0===t?void 0:t.role)&&(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsxs)("div",{className:"dashboard-card professor",onClick:()=>n("/profesor"),children:[(0,Sv.jsx)("div",{className:"card-icon",children:"\ud83d\udc68\u200d\ud83c\udfeb"}),(0,Sv.jsx)("h3",{children:"Pregled studenata"}),(0,Sv.jsx)("p",{children:"Vidi rezultate svih studenata"}),(0,Sv.jsxs)("div",{className:"card-stats",children:[(0,Sv.jsx)("span",{children:"\ud83d\udccb Lista studenata"}),(0,Sv.jsx)("span",{children:"\ud83d\udcca Statistike"})]}),(0,Sv.jsx)("button",{className:"card-btn",children:"Pregled"})]}),(0,Sv.jsxs)("div",{className:"dashboard-card professor",onClick:()=>alert("Uskoro dostupno!"),children:[(0,Sv.jsx)("div",{className:"card-icon",children:"\u2795"}),(0,Sv.jsx)("h3",{children:"Dodaj pitanja"}),(0,Sv.jsx)("p",{children:"Kreiraj nova pitanja za kviz"}),(0,Sv.jsxs)("div",{className:"card-stats",children:[(0,Sv.jsx)("span",{children:"\u270f\ufe0f Editor"}),(0,Sv.jsx)("span",{children:"\ud83d\udcc1 Import/Export"})]}),(0,Sv.jsx)("button",{className:"card-btn",children:"Kreiraj"})]})]})]}),(0,Sv.jsxs)("div",{className:"quick-stats",children:[(0,Sv.jsx)("h3",{children:"Brzi pregled"}),(0,Sv.jsxs)("div",{className:"stats-grid",children:[(0,Sv.jsxs)("div",{className:"stat-item",children:[(0,Sv.jsx)("div",{className:"stat-value",children:"100"}),(0,Sv.jsx)("div",{className:"stat-label",children:"Ukupno pitanja"})]}),(0,Sv.jsxs)("div",{className:"stat-item",children:[(0,Sv.jsx)("div",{className:"stat-value",children:"professor"===(null===t||void 0===t?void 0:t.role)?"35":"#8"}),(0,Sv.jsx)("div",{className:"stat-label",children:"professor"===(null===t||void 0===t?void 0:t.role)?"Studenata":"Tvoj rang"})]}),(0,Sv.jsxs)("div",{className:"stat-item",children:[(0,Sv.jsx)("div",{className:"stat-value",children:"professor"===(null===t||void 0===t?void 0:t.role)?"87%":"15"}),(0,Sv.jsx)("div",{className:"stat-label",children:"professor"===(null===t||void 0===t?void 0:t.role)?"Prosek":"Odra\u0111enih kvizova"})]}),(0,Sv.jsxs)("div",{className:"stat-item",children:[(0,Sv.jsx)("div",{className:"stat-value",children:"24/7"}),(0,Sv.jsx)("div",{className:"stat-label",children:"Dostupno"})]})]})]}),(0,Sv.jsxs)("div",{className:"recent-activity",children:[(0,Sv.jsx)("h3",{children:"professor"===(null===t||void 0===t?void 0:t.role)?"Aktivnosti studenata":"Nedavna aktivnost"}),(0,Sv.jsx)("ul",{className:"activity-list",children:"professor"===(null===t||void 0===t?void 0:t.role)?(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("li",{children:"\ud83d\udcca Marko Markovi\u0107 zavr\u0161io test sa 92% ta\u010dnosti"}),(0,Sv.jsx)("li",{children:"\ud83c\udfaf Ana Ani\u0107 postigla novi li\u010dni rekord"}),(0,Sv.jsx)("li",{children:"\u23f0 5 studenata aktivno u poslednjih sat vremena"}),(0,Sv.jsx)("li",{children:"\ud83d\udcc8 Prose\u010dan rezultat klase: 78%"})]}):(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("li",{children:"\u2705 Zavr\u0161io si test sa 92% ta\u010dnosti"}),(0,Sv.jsx)("li",{children:"\ud83d\udcc8 Tvoj rang je porastao za 2 mesta"}),(0,Sv.jsx)("li",{children:"\ud83c\udfaf Postigao si novi li\u010dni rekord"}),(0,Sv.jsx)("li",{children:"\u23f0 Slede\u0107e ponavljanje za 3 sata"})]})})]})]})},Dv=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)("all"),[a,s]=(0,r.useState)(!0),[o,l]=(0,r.useState)("");(0,r.useEffect)(()=>{c()},[n]);const c=async()=>{s(!0);try{let e=kf(Dh(xv,"users"),Ef("role","==","student"));const r=await Uf(e),i=[];r.forEach(e=>{var t,n;const r=e.data();i.push(u(u({id:e.id},r),{},{createdAt:(null===(t=r.createdAt)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||new Date}))});let a=i;"approved"===n?a=i.filter(e=>!0===e.approved):"pending"===n?a=i.filter(e=>!e.approved||!1===e.approved):"passed"===n&&(a=i.filter(e=>!0===e.approved)),t(a)}catch(e){console.error("Gre\u0161ka:",e),l("\u274c Gre\u0161ka pri u\u010ditavanju studenata")}finally{s(!1)}};return a?(0,Sv.jsx)("p",{children:"U\u010ditavanje studenata..."}):(0,Sv.jsxs)("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[(0,Sv.jsx)("h2",{children:"\ud83d\uddd1\ufe0f Upravljanje studentima - Brisanje"}),o&&(0,Sv.jsx)("div",{style:{padding:"10px",marginBottom:"20px",background:o.includes("\u2705")?"#d4edda":"#f8d7da",color:o.includes("\u2705")?"#155724":"#721c24",borderRadius:"5px"},children:o}),(0,Sv.jsxs)("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",alignItems:"center"},children:[(0,Sv.jsx)("label",{children:"Filter:"}),(0,Sv.jsxs)("select",{value:n,onChange:e=>i(e.target.value),style:{padding:"8px",borderRadius:"5px"},children:[(0,Sv.jsx)("option",{value:"all",children:"Svi studenti"}),(0,Sv.jsx)("option",{value:"approved",children:"Odobreni studenti"}),(0,Sv.jsx)("option",{value:"pending",children:"Na \u010dekanju"}),(0,Sv.jsx)("option",{value:"passed",children:"Polo\u017eili ispit"}),(0,Sv.jsx)("option",{value:"failed",children:"Nisu polo\u017eili"})]}),(0,Sv.jsxs)("span",{style:{marginLeft:"auto"},children:["Prona\u0111eno: ",(0,Sv.jsx)("strong",{children:e.length})," studenata"]})]}),0===e.length?(0,Sv.jsx)("p",{style:{padding:"20px",textAlign:"center",background:"#f9f9f9",borderRadius:"5px"},children:"\ud83c\udf89 Nema studenata za prikaz!"}):(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Sv.jsx)("button",{onClick:()=>{(async e=>{if(window.confirm("Da li ste sigurni da \u017eelite da obri\u0161ete ".concat(e.length," studenata?\n\nOva akcija se ne mo\u017ee poni\u0161titi!")))try{for(const t of e)await qf(Oh(xv,"users",t));l("\u2705 ".concat(e.length," studenata obrisano.")),c()}catch(t){console.error("Gre\u0161ka pri masovnom brisanju:",t),l("\u274c Gre\u0161ka pri brisanju studenata")}})(e.map(e=>e.id))},style:{padding:"10px 20px",background:"#f44336",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},children:"\ud83d\uddd1\ufe0f Obri\u0161i sve prikazane studente"}),(0,Sv.jsx)("small",{style:{marginLeft:"10px",color:"#666"},children:"(Obrinite pa\u017eljivo!)"})]}),(0,Sv.jsx)("div",{style:{overflowX:"auto"},children:(0,Sv.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",background:"white"},children:[(0,Sv.jsx)("thead",{children:(0,Sv.jsxs)("tr",{style:{background:"#f5f5f5"},children:[(0,Sv.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Ime"}),(0,Sv.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Email"}),(0,Sv.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Status"}),(0,Sv.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Datum"}),(0,Sv.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Akcije"})]})}),(0,Sv.jsx)("tbody",{children:e.map(e=>(0,Sv.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,Sv.jsx)("td",{style:{padding:"12px"},children:e.displayName||e.name}),(0,Sv.jsx)("td",{style:{padding:"12px"},children:e.email}),(0,Sv.jsx)("td",{style:{padding:"12px"},children:(0,Sv.jsx)("span",{style:{padding:"5px 10px",borderRadius:"15px",background:e.approved?"#d4edda":"#fff3cd",color:e.approved?"#155724":"#856404",fontSize:"12px"},children:e.approved?"\u2705 Odobren":"\u23f3 Na \u010dekanju"})}),(0,Sv.jsx)("td",{style:{padding:"12px"},children:e.createdAt.toLocaleDateString("sr-RS")}),(0,Sv.jsx)("td",{style:{padding:"12px"},children:(0,Sv.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('Da li ste SIGURNI da \u017eelite da trajno obri\u0161ete studenta "'.concat(t,'"?\n\nOva akcija se NE MO\u017dE poni\u0161titi!')))try{await qf(Oh(xv,"users",e)),l('\u2705 Student "'.concat(t,'" obrisan.')),c()}catch(n){console.error("Gre\u0161ka pri brisanju:",n),l("\u274c Gre\u0161ka pri brisanju studenta")}})(e.id,e.displayName||e.name),style:{padding:"6px 12px",background:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},children:"\ud83d\uddd1\ufe0f Obri\u0161i"})})]},e.id))})]})})]})]})},Ov=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[a,s]=(0,r.useState)("");(0,r.useEffect)(()=>{o()},[]);const o=async()=>{try{const e=kf(Dh(xv,"users"),Ef("role","==","student"),Ef("approved","==",!1)),n=await Uf(e),r=[];n.forEach(e=>{r.push(u({id:e.id},e.data()))}),t(r)}catch(e){console.error("Gre\u0161ka:",e),s("\u274c Gre\u0161ka pri u\u010ditavanju studenata")}finally{i(!1)}};return n?(0,Sv.jsx)("p",{children:"U\u010ditavanje..."}):(0,Sv.jsxs)("div",{style:{padding:"20px",maxWidth:"1000px",margin:"0 auto"},children:[(0,Sv.jsx)("h2",{children:"\ud83d\udc65 Studenti na \u010dekanju"}),(0,Sv.jsxs)("p",{children:["Ukupno studenata: ",e.length]}),a&&(0,Sv.jsx)("div",{style:{padding:"10px",marginBottom:"20px",background:a.includes("\u2705")?"#d4edda":"#f8d7da",color:a.includes("\u2705")?"#155724":"#721c24",borderRadius:"5px"},children:a}),0===e.length?(0,Sv.jsx)("p",{style:{padding:"20px",textAlign:"center",background:"#f9f9f9",borderRadius:"5px"},children:"\ud83c\udf89 Nema studenata na \u010dekanju!"}):(0,Sv.jsx)("div",{style:{overflowX:"auto"},children:(0,Sv.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",background:"white",borderRadius:"10px",overflow:"hidden"},children:[(0,Sv.jsx)("thead",{children:(0,Sv.jsxs)("tr",{style:{background:"#f5f5f5"},children:[(0,Sv.jsx)("th",{style:{padding:"15px",textAlign:"left"},children:"Ime"}),(0,Sv.jsx)("th",{style:{padding:"15px",textAlign:"left"},children:"Email"}),(0,Sv.jsx)("th",{style:{padding:"15px",textAlign:"left"},children:"Datum registracije"}),(0,Sv.jsx)("th",{style:{padding:"15px",textAlign:"left"},children:"Status"}),(0,Sv.jsx)("th",{style:{padding:"15px",textAlign:"left"},children:"Akcije"})]})}),(0,Sv.jsx)("tbody",{children:e.map(e=>{var t,n;return(0,Sv.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,Sv.jsx)("td",{style:{padding:"15px"},children:e.displayName||e.name}),(0,Sv.jsx)("td",{style:{padding:"15px"},children:e.email}),(0,Sv.jsx)("td",{style:{padding:"15px"},children:(null===(t=e.createdAt)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t).toLocaleDateString("sr-RS"))||"Nepoznato"}),(0,Sv.jsx)("td",{style:{padding:"15px"},children:(0,Sv.jsx)("span",{style:{padding:"5px 10px",borderRadius:"15px",background:"#fff3cd",color:"#856404",fontSize:"12px"},children:"\u23f3 Na \u010dekanju"})}),(0,Sv.jsxs)("td",{style:{padding:"15px"},children:[(0,Sv.jsx)("button",{onClick:()=>(async(e,t)=>{try{await Bf(Oh(xv,"users",e),{approved:!0,status:"approved",approvedAt:new Date,approvedBy:"professor"}),s("\u2705 Student ".concat(t," odobren!")),o()}catch(n){console.error("Gre\u0161ka pri odobravanju:",n),s("\u274c Gre\u0161ka pri odobravanju")}})(e.id,e.displayName||e.name),style:{padding:"8px 15px",background:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",marginRight:"10px"},children:"\u2705 Odobri"}),(0,Sv.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("Da li ste sigurni da \u017eelite da odbijete studenta ".concat(t,"?")))try{await Bf(Oh(xv,"users",e),{approved:!1,status:"rejected",rejectedAt:new Date,rejectedBy:"professor"}),s("\u274c Student ".concat(t," odbijen.")),o()}catch(n){console.error("Gre\u0161ka pri odbijanju:",n),s("\u274c Gre\u0161ka pri odbijanju")}})(e.id,e.displayName||e.name),style:{padding:"8px 15px",background:"#f44336",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u274c Odbij"})]})]},e.id)})})]})})]})},Lv=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[a,s]=(0,r.useState)(null),[o,l]=(0,r.useState)([]);(0,r.useEffect)(()=>{c()},[]);const c=async()=>{console.log("\ud83d\udd25 U\u010ditavanje rezultata kvizova...");try{if(i(!0),s(null),!xv)throw new Error("Firebase Firestore nije inicijalizovan");const e=await(async()=>{console.log("\ud83d\udd0d Tra\u017eim kolekcije sa rezultatima...");const e=["quizResults","quiz_results","quizAttempts","quiz_attempts","results","student_results","exam_results","test_results","answers","student_answers"],t=[];for(const r of e)try{const e=await Uf(Dh(xv,r));e.size>0&&(console.log("\u2705 Prona\u0111ena kolekcija: ".concat(r," (").concat(e.size," dokumenta)")),t.push({name:r,count:e.size,docs:[]}),e.forEach(e=>{t[t.length-1].docs.length<3&&t[t.length-1].docs.push({id:e.id,data:e.data()})}))}catch(n){}return t})();if(l(e),0===e.length)return s("Nije prona\u0111ena nijedna kolekcija sa rezultatima. Proverite da li su studenti radili kvizove."),void t([]);const n=[];for(const t of e){const e=kf(Dh(xv,t.name),Cf("submittedAt","desc")).catch(()=>kf(Dh(xv,t.name)));(await Uf(await e)).forEach(e=>{if(e.exists()){const r=e.data(),i={id:e.id,collection:t.name,studentName:r.studentName||r.student||r.name||r.email||"Student",email:r.email||r.studentEmail||"",quizName:r.quizName||r.quiz||r.exam||r.test||"Kviz",percentage:r.percentage||r.score||r.result||0,correctAnswers:r.correctAnswers||r.correct||0,totalQuestions:r.totalQuestions||r.total||r.questions||0,timeSpent:r.timeSpent||r.time||r.duration||0,submittedAt:r.submittedAt?r.submittedAt.toDate():r.timestamp?r.timestamp.toDate():r.date?r.date.toDate():new Date,studentId:r.studentId||r.index||"",points:r.points||r.correctAnswers||0};!i.percentage&&i.totalQuestions>0&&(i.percentage=Math.round(i.correctAnswers/i.totalQuestions*100)),n.push(i)}})}n.sort((e,t)=>t.submittedAt-e.submittedAt),console.log("\u2705 Prona\u0111eno ukupno ".concat(n.length," rezultata")),t(n)}catch(a){console.error("\u274c Gre\u0161ka pri u\u010ditavanju rezultata:",a),s("Gre\u0161ka: ".concat(a.message)),t([])}finally{i(!1)}},d=e=>{if(!e)return"0 min";const t=Math.floor(e/60),n=e%60;return 0===t?"".concat(n,"s"):"".concat(t,"m ").concat(n,"s")},h=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("sr-RS",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(Hv){return"N/A"}},f={container:{padding:"20px",maxWidth:"1400px",margin:"0 auto"},header:{background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",color:"white",padding:"30px",borderRadius:"15px",marginBottom:"30px",textAlign:"center"},tableContainer:{overflowX:"auto",borderRadius:"10px",boxShadow:"0 5px 15px rgba(0,0,0,0.1)",background:"white",marginBottom:"30px"},table:{width:"100%",borderCollapse:"collapse",minWidth:"1000px"},th:{padding:"15px",textAlign:"left",background:"#f8f9fa",borderBottom:"2px solid #dee2e6",fontWeight:"600",color:"#495057"},td:{padding:"12px 15px",borderBottom:"1px solid #eee",verticalAlign:"middle"},loading:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"100px",textAlign:"center"},error:{background:"#fff3cd",border:"1px solid #ffeaa7",color:"#856404",padding:"20px",borderRadius:"8px",textAlign:"center",margin:"20px 0"},collectionsInfo:{background:"#e8f4fd",border:"1px solid #b6d4fe",borderRadius:"8px",padding:"15px",marginBottom:"20px"},collectionBadge:{background:"#6f42c1",color:"white",padding:"3px 8px",borderRadius:"12px",fontSize:"12px",marginLeft:"8px"},percentageBadge:e=>({padding:"6px 12px",borderRadius:"20px",background:e>=80?"#d4edda":e>=60?"#fff3cd":e>=50?"#d1ecf1":"#f8d7da",color:e>=80?"#155724":e>=60?"#856404":e>=50?"#0c5460":"#721c24",fontWeight:"bold",display:"inline-block",minWidth:"60px",textAlign:"center",fontSize:"14px"}),refreshBtn:{background:"#0d6efd",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontSize:"16px",display:"inline-flex",alignItems:"center",gap:"8px",margin:"10px 0"},emptyState:{textAlign:"center",padding:"60px 20px",background:"#f8f9fa",borderRadius:"10px"}};return n?(0,Sv.jsxs)("div",{style:f.loading,children:[(0,Sv.jsx)("div",{style:{width:"50px",height:"50px",border:"5px solid #f3f3f3",borderTop:"5px solid #4f46e5",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"}}),(0,Sv.jsx)("h3",{children:"Pretraga rezultata..."}),(0,Sv.jsx)("p",{style:{color:"#666"},children:"Proveravam sve kolekcije u bazi"})]}):(0,Sv.jsxs)("div",{style:f.container,children:[(0,Sv.jsxs)("div",{style:f.header,children:[(0,Sv.jsx)("h1",{style:{margin:0,fontSize:"32px"},children:"\ud83d\udcca Rezultati kvizova i ispita"}),(0,Sv.jsx)("p",{style:{margin:"10px 0 0",opacity:.9},children:"Pregled svih rezultata studenata"})]}),(0,Sv.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[(0,Sv.jsxs)("div",{children:[(0,Sv.jsxs)("h3",{style:{margin:0},children:["Ukupno rezultata: ",(0,Sv.jsx)("strong",{children:e.length})]}),(0,Sv.jsxs)("p",{style:{margin:"5px 0 0",color:"#666",fontSize:"14px"},children:["Poslednje a\u017euriranje: ",(new Date).toLocaleTimeString("sr-RS")]})]}),(0,Sv.jsx)("div",{style:{display:"flex",gap:"10px"},children:(0,Sv.jsx)("button",{onClick:c,style:f.refreshBtn,children:"\ud83d\udd04 Osve\u017ei"})})]}),o.length>0&&(0,Sv.jsxs)("div",{style:f.collectionsInfo,children:[(0,Sv.jsx)("h4",{style:{marginTop:0},children:"\ud83d\udcc2 Prona\u0111ene kolekcije:"}),(0,Sv.jsx)("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap"},children:o.map(e=>(0,Sv.jsxs)("div",{style:{background:"white",padding:"10px 15px",borderRadius:"6px",border:"1px solid #dee2e6"},children:[(0,Sv.jsx)("strong",{children:e.name}),(0,Sv.jsx)("span",{style:f.collectionBadge,children:e.count})]},e.name))})]}),a&&(0,Sv.jsxs)("div",{style:f.error,children:[(0,Sv.jsx)("h4",{style:{marginTop:0},children:"\u26a0\ufe0f Nema rezultata"}),(0,Sv.jsx)("p",{children:a}),(0,Sv.jsx)("p",{style:{fontSize:"14px",marginTop:"10px"},children:"Proverite da li studenti \u0161alju rezultate kada rade kvizove. Potrebno je da u kodu za kviz postoji \u010duvanje rezultata u Firestore."})]}),0!==e.length||a?(0,Sv.jsx)("div",{style:f.tableContainer,children:(0,Sv.jsxs)("table",{style:f.table,children:[(0,Sv.jsx)("thead",{children:(0,Sv.jsxs)("tr",{children:[(0,Sv.jsx)("th",{style:u(u({},f.th),{},{width:"15%"}),children:"\ud83d\udc64 Student"}),(0,Sv.jsx)("th",{style:u(u({},f.th),{},{width:"15%"}),children:"\ud83d\udcdd Test"}),(0,Sv.jsx)("th",{style:f.th,children:"\ud83c\udfc6 Rezultat"}),(0,Sv.jsx)("th",{style:f.th,children:"\u2705 Ta\u010dno"}),(0,Sv.jsx)("th",{style:f.th,children:"\u23f1\ufe0f Vreme"}),(0,Sv.jsx)("th",{style:f.th,children:"\ud83d\udcc5 Datum"}),(0,Sv.jsx)("th",{style:f.th,children:"\ud83d\uddc2\ufe0f Kolekcija"})]})}),(0,Sv.jsx)("tbody",{children:e.map((e,t)=>(0,Sv.jsxs)("tr",{style:{background:t%2===0?"#fff":"#f8f9fa"},children:[(0,Sv.jsxs)("td",{style:f.td,children:[(0,Sv.jsx)("div",{style:{fontWeight:"bold"},children:e.studentName}),e.email&&(0,Sv.jsx)("div",{style:{color:"#666",fontSize:"12px",marginTop:"3px"},children:e.email}),e.studentId&&(0,Sv.jsxs)("div",{style:{color:"#666",fontSize:"11px"},children:["ID: ",e.studentId]})]}),(0,Sv.jsx)("td",{style:f.td,children:(0,Sv.jsx)("strong",{children:e.quizName})}),(0,Sv.jsx)("td",{style:f.td,children:(0,Sv.jsxs)("span",{style:f.percentageBadge(e.percentage),children:[e.percentage,"%"]})}),(0,Sv.jsxs)("td",{style:f.td,children:[(0,Sv.jsxs)("div",{style:{fontWeight:"bold"},children:[e.correctAnswers,"/",e.totalQuestions]}),(0,Sv.jsx)("div",{style:{color:"#666",fontSize:"12px",marginTop:"3px"},children:e.totalQuestions>0?Math.round(e.correctAnswers/e.totalQuestions*100)+"%":"N/A"})]}),(0,Sv.jsx)("td",{style:f.td,children:d(e.timeSpent)}),(0,Sv.jsx)("td",{style:f.td,children:h(e.submittedAt)}),(0,Sv.jsx)("td",{style:f.td,children:(0,Sv.jsx)("span",{style:{background:"#e9ecef",padding:"2px 8px",borderRadius:"10px",fontSize:"12px",color:"#495057"},children:e.collection})})]},"".concat(e.id,"-").concat(t)))})]})}):(0,Sv.jsxs)("div",{style:f.emptyState,children:[(0,Sv.jsx)("div",{style:{fontSize:"60px",marginBottom:"20px"},children:"\ud83d\udced"}),(0,Sv.jsx)("h3",{children:"Nema rezultata"}),(0,Sv.jsx)("p",{children:"Studenti jo\u0161 nisu radili kvizove ili nisu poslali rezultate."}),(0,Sv.jsxs)("p",{style:{color:"#666",fontSize:"14px",maxWidth:"600px",margin:"10px auto"},children:["Proverite:",(0,Sv.jsx)("br",{}),"1. Da li studenti mogu da rade kvizove",(0,Sv.jsx)("br",{}),"2. Da li se rezultati \u010duvaju u Firebase",(0,Sv.jsx)("br",{}),"3. Da li imate kvizove u sistemu"]})]}),(0,Sv.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        tr:hover {\n          background-color: #f0f5ff !important;\n        }\n      "})]})},Mv=document.createElement("style");Mv.textContent="\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n",document.head.appendChild(Mv);const zv=()=>{const[e,t]=(0,r.useState)({totalStudents:0,activeStudents:0,totalQuizzes:0,averageScore:0,passRate:0,topScore:0,lowestScore:0,quizCompletionRate:0}),[n,i]=(0,r.useState)([]),[a,s]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{c()},[]);const c=async()=>{l(!0);try{const e=kf(Dh(xv,"users"),Ef("role","==","student")),n=await Uf(e),r=n.size,a=n.docs.filter(e=>!0===e.data().approved).length,o=kf(Dh(xv,"quizResults")),l=await Uf(o),c=l.size,d=[];let h=0,f=0,p=0,m=100;l.forEach(e=>{const t=e.data(),n=t.percentage||0;d.push(u(u({id:e.id},t),{},{percentage:n})),h+=n,n>=50&&f++,n>p&&(p=n),n<m&&(m=n)}),i(d);const g=c>0?Math.round(h/c):0,v=c>0?Math.round(f/c*100):0,y={};d.forEach(e=>{const t=e.studentId||e.email;y[t]||(y[t]={studentName:e.studentName||e.email||"Student",totalQuizzes:0,totalScore:0,bestScore:0,passedQuizzes:0}),y[t].totalQuizzes++,y[t].totalScore+=e.percentage,e.percentage>y[t].bestScore&&(y[t].bestScore=e.percentage),e.percentage>=50&&y[t].passedQuizzes++});const b=Object.values(y).map(e=>u(u({},e),{},{averageScore:Math.round(e.totalScore/e.totalQuizzes),passRate:Math.round(e.passedQuizzes/e.totalQuizzes*100)}));s(b);const w=r>0?Math.round(c/(3*r)*100):0;t({totalStudents:r,activeStudents:a,totalQuizzes:c,averageScore:g,passRate:v,topScore:p,lowestScore:m,quizCompletionRate:Math.min(w,100)})}catch(e){console.error("Gre\u0161ka pri u\u010ditavanju analitike:",e)}finally{l(!1)}};return o?(0,Sv.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"300px"},children:[(0,Sv.jsx)("div",{style:{width:"50px",height:"50px",border:"5px solid #f3f3f3",borderTop:"5px solid #2196F3",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"}}),(0,Sv.jsx)("p",{children:"U\u010ditavanje analitike..."})]}):(0,Sv.jsxs)("div",{style:{padding:"20px",maxWidth:"1400px",margin:"0 auto"},children:[(0,Sv.jsx)("h2",{children:"\ud83d\udcc8 Detaljne analize kvizova"}),(0,Sv.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginTop:"30px",marginBottom:"40px"},children:[(0,Sv.jsxs)("div",{style:{padding:"25px",background:"white",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,Sv.jsx)("h3",{style:{color:"#2196F3"},children:"\ud83d\udc65 Ukupno studenata"}),(0,Sv.jsx)("p",{style:{fontSize:"36px",fontWeight:"bold",margin:"10px 0"},children:e.totalStudents}),(0,Sv.jsx)("p",{style:{color:"#666"},children:"Registrovani korisnici"})]}),(0,Sv.jsxs)("div",{style:{padding:"25px",background:"white",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,Sv.jsx)("h3",{style:{color:"#4CAF50"},children:"\ud83d\udcdd Ukupno kvizova"}),(0,Sv.jsx)("p",{style:{fontSize:"36px",fontWeight:"bold",margin:"10px 0"},children:e.totalQuizzes}),(0,Sv.jsx)("p",{style:{color:"#666"},children:"Ura\u0111eni testovi"})]}),(0,Sv.jsxs)("div",{style:{padding:"25px",background:"white",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,Sv.jsx)("h3",{style:{color:"#FF9800"},children:"\ud83c\udfaf Prose\u010dan skor"}),(0,Sv.jsxs)("p",{style:{fontSize:"36px",fontWeight:"bold",margin:"10px 0"},children:[e.averageScore,"%"]}),(0,Sv.jsx)("p",{style:{color:"#666"},children:"Prosek na kvizovima"})]}),(0,Sv.jsxs)("div",{style:{padding:"25px",background:"white",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,Sv.jsx)("h3",{style:{color:"#F44336"},children:"\ud83d\udcca Stopa prolaznosti"}),(0,Sv.jsxs)("p",{style:{fontSize:"36px",fontWeight:"bold",margin:"10px 0"},children:[e.passRate,"%"]}),(0,Sv.jsx)("p",{style:{color:"#666"},children:"Procenat uspe\u0161nih"})]})]}),(0,Sv.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"40px"},children:[(0,Sv.jsxs)("div",{style:{padding:"25px",background:"white",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,Sv.jsx)("h3",{style:{color:"#9C27B0"},children:"\ud83c\udfc6 Najbolji rezultat"}),(0,Sv.jsxs)("p",{style:{fontSize:"36px",fontWeight:"bold",margin:"10px 0"},children:[e.topScore,"%"]}),(0,Sv.jsx)("p",{style:{color:"#666"},children:"Maksimalni skor"})]}),(0,Sv.jsxs)("div",{style:{padding:"25px",background:"white",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,Sv.jsx)("h3",{style:{color:"#607D8B"},children:"\ud83d\udcc9 Najlo\u0161iji rezultat"}),(0,Sv.jsxs)("p",{style:{fontSize:"36px",fontWeight:"bold",margin:"10px 0"},children:[e.lowestScore,"%"]}),(0,Sv.jsx)("p",{style:{color:"#666"},children:"Minimalni skor"})]}),(0,Sv.jsxs)("div",{style:{padding:"25px",background:"white",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,Sv.jsx)("h3",{style:{color:"#00BCD4"},children:"\ud83d\udcc8 Stopa zavr\u0161etka"}),(0,Sv.jsxs)("p",{style:{fontSize:"36px",fontWeight:"bold",margin:"10px 0"},children:[e.quizCompletionRate,"%"]}),(0,Sv.jsx)("p",{style:{color:"#666"},children:"Zavr\u0161eni kvizovi"})]}),(0,Sv.jsxs)("div",{style:{padding:"25px",background:"white",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,Sv.jsx)("h3",{style:{color:"#8BC34A"},children:"\u2705 Aktivni studenti"}),(0,Sv.jsx)("p",{style:{fontSize:"36px",fontWeight:"bold",margin:"10px 0"},children:e.activeStudents}),(0,Sv.jsx)("p",{style:{color:"#666"},children:"Odobreni studenti"})]})]}),(0,Sv.jsxs)("div",{style:{background:"white",padding:"25px",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",marginBottom:"40px"},children:[(0,Sv.jsx)("h3",{style:{marginBottom:"20px"},children:"\ud83d\udccb Performance po studentu"}),0===a.length?(0,Sv.jsx)("p",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"Nema podataka o performance studenata."}):(0,Sv.jsx)("div",{style:{overflowX:"auto"},children:(0,Sv.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Sv.jsx)("thead",{children:(0,Sv.jsxs)("tr",{style:{background:"#f5f5f5"},children:[(0,Sv.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Student"}),(0,Sv.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Broj kvizova"}),(0,Sv.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Prose\u010dan skor"}),(0,Sv.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Najbolji skor"}),(0,Sv.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Stopa prolaznosti"})]})}),(0,Sv.jsx)("tbody",{children:a.map((e,t)=>(0,Sv.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,Sv.jsx)("td",{style:{padding:"12px"},children:e.studentName}),(0,Sv.jsx)("td",{style:{padding:"12px"},children:e.totalQuizzes}),(0,Sv.jsx)("td",{style:{padding:"12px"},children:(0,Sv.jsxs)("span",{style:{padding:"5px 10px",borderRadius:"15px",background:e.averageScore>=70?"#d4edda":e.averageScore>=50?"#fff3cd":"#f8d7da",color:e.averageScore>=70?"#155724":e.averageScore>=50?"#856404":"#721c24"},children:[e.averageScore,"%"]})}),(0,Sv.jsx)("td",{style:{padding:"12px"},children:(0,Sv.jsxs)("span",{style:{padding:"5px 10px",borderRadius:"15px",background:"#2196F3",color:"white"},children:[e.bestScore,"%"]})}),(0,Sv.jsx)("td",{style:{padding:"12px"},children:(0,Sv.jsxs)("span",{style:{padding:"5px 10px",borderRadius:"15px",background:e.passRate>=70?"#d4edda":e.passRate>=50?"#fff3cd":"#f8d7da",color:e.passRate>=70?"#155724":e.passRate>=50?"#856404":"#721c24"},children:[e.passRate,"%"]})})]},t))})]})})]}),(0,Sv.jsxs)("div",{style:{background:"white",padding:"25px",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[(0,Sv.jsx)("h3",{style:{marginBottom:"20px"},children:"\ud83d\udd52 Poslednji kvizovi"}),0===n.length?(0,Sv.jsx)("p",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"Nema rezultata kvizova."}):(0,Sv.jsx)("div",{style:{overflowX:"auto"},children:(0,Sv.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Sv.jsx)("thead",{children:(0,Sv.jsxs)("tr",{style:{background:"#f5f5f5"},children:[(0,Sv.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Student"}),(0,Sv.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Kviz"}),(0,Sv.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Rezultat"}),(0,Sv.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Ta\u010dno/Pogre\u0161no"}),(0,Sv.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Vreme"}),(0,Sv.jsx)("th",{style:{padding:"12px",textAlign:"left"},children:"Datum"})]})}),(0,Sv.jsx)("tbody",{children:n.slice(0,10).map(e=>(0,Sv.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,Sv.jsx)("td",{style:{padding:"12px"},children:e.studentName||e.email||"Student"}),(0,Sv.jsx)("td",{style:{padding:"12px"},children:e.quizName||"Kviz"}),(0,Sv.jsx)("td",{style:{padding:"12px"},children:(0,Sv.jsxs)("span",{style:{padding:"5px 10px",borderRadius:"15px",background:e.percentage>=70?"#d4edda":e.percentage>=50?"#fff3cd":"#f8d7da",color:e.percentage>=70?"#155724":e.percentage>=50?"#856404":"#721c24",fontWeight:"bold"},children:[e.percentage,"%"]})}),(0,Sv.jsxs)("td",{style:{padding:"12px"},children:[e.correctAnswers||0,"/",e.totalQuestions||0]}),(0,Sv.jsxs)("td",{style:{padding:"12px"},children:[Math.round(e.timeSpent/60)," min"]}),(0,Sv.jsx)("td",{style:{padding:"12px"},children:new Date(e.submittedAt).toLocaleDateString("sr-RS")})]},e.id))})]})})]})]})},Fv=()=>{const[e,t]=(0,r.useState)({text:"",options:["","","",""],correctAnswer:0,category:"agilno",difficulty:"medium"}),[n,i]=(0,r.useState)("");return(0,Sv.jsxs)("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[(0,Sv.jsx)("h2",{children:"\u2795 Dodaj nova pitanja"}),n&&(0,Sv.jsx)("div",{style:{padding:"10px",marginBottom:"20px",background:n.includes("\u2705")?"#d4edda":"#f8d7da",color:n.includes("\u2705")?"#155724":"#721c24",borderRadius:"5px"},children:n}),(0,Sv.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),e.text.trim())if(e.options.some(e=>!e.trim()))i("\u274c Popunite sve opcije");else try{await Hf(Dh(xv,"questions"),u(u({},e),{},{createdAt:new Date,createdBy:"professor"})),i("\u2705 Pitanje uspe\u0161no dodato!"),t({text:"",options:["","","",""],correctAnswer:0,category:"agilno",difficulty:"medium"})}catch(r){console.error("Gre\u0161ka:",r),i("\u274c Gre\u0161ka pri dodavanju pitanja")}else i("\u274c Unesite pitanje")},children:[(0,Sv.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Sv.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Pitanje:"}),(0,Sv.jsx)("textarea",{value:e.text,onChange:n=>t(u(u({},e),{},{text:n.target.value})),style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"5px",minHeight:"100px",fontSize:"16px"},placeholder:"Unesite tekst pitanja..."})]}),(0,Sv.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Sv.jsx)("label",{style:{display:"block",marginBottom:"15px",fontWeight:"bold"},children:"Opcije odgovora:"}),e.options.map((n,r)=>(0,Sv.jsxs)("div",{style:{marginBottom:"10px",display:"flex",alignItems:"center"},children:[(0,Sv.jsx)("input",{type:"radio",name:"correctAnswer",checked:e.correctAnswer===r,onChange:()=>t(u(u({},e),{},{correctAnswer:r})),style:{marginRight:"10px"}}),(0,Sv.jsx)("input",{type:"text",value:n,onChange:n=>{const i=[...e.options];i[r]=n.target.value,t(u(u({},e),{},{options:i}))},style:{flex:1,padding:"10px",border:"1px solid #ddd",borderRadius:"5px"},placeholder:"Opcija ".concat(r+1)})]},r))]}),(0,Sv.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Sv.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Kategorija:"}),(0,Sv.jsxs)("select",{value:e.category,onChange:n=>t(u(u({},e),{},{category:n.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"5px"},children:[(0,Sv.jsx)("option",{value:"agilno",children:"Agilno IT poslovanje"}),(0,Sv.jsx)("option",{value:"scrum",children:"Scrum"}),(0,Sv.jsx)("option",{value:"kanban",children:"Kanban"})]})]}),(0,Sv.jsx)("button",{type:"submit",style:{padding:"12px 30px",background:"#2196F3",color:"white",border:"none",borderRadius:"5px",fontSize:"16px",cursor:"pointer"},children:"\u2795 Dodaj pitanje"})]})]})};function Uv(e){let{user:t,onLogout:n}=e;const r=_e(),i="student"!==t.role||!0===t.approved;return(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsxs)("header",{className:"app-header",children:[(0,Sv.jsxs)("div",{className:"header-content",children:[(0,Sv.jsx)("h1",{onClick:()=>r("/"),style:{cursor:"pointer"},children:"\ud83c\udf93 Agilno IT Poslovanje"}),(0,Sv.jsx)("p",{className:"subtitle",children:"admin"===t.role?"Administratorski panel":"professor"===t.role?"Kontrolni panel profesora":i?"Platforma za u\u010denje":"\u010ceka se odobrenje"})]}),(0,Sv.jsxs)("div",{className:"user-menu",children:[(0,Sv.jsxs)("div",{className:"user-info",children:[(0,Sv.jsxs)("span",{className:"user-name",children:["\ud83d\udc64 ",t.name]}),(0,Sv.jsx)("span",{className:"user-role ".concat(t.role),children:"admin"===t.role?"\ud83d\udc51 Admin":"professor"===t.role?"\ud83d\udc68\u200d\ud83c\udfeb Profesor":"\ud83d\udc68\u200d\ud83c\udf93 Student"}),t.studentId&&(0,Sv.jsxs)("span",{className:"student-id",children:["\ud83d\udcd8 ",t.studentId]}),"student"===t.role&&!t.approved&&(0,Sv.jsx)("span",{className:"pending-badge",children:"\u23f3 \u010ceka odobrenje"})]}),(0,Sv.jsx)("button",{onClick:n,className:"logout-btn",children:"\ud83d\udeaa Izloguj se"})]})]}),(0,Sv.jsxs)("nav",{className:"main-nav",children:[(0,Sv.jsx)("button",{onClick:()=>r("/"),className:"nav-btn",children:"\ud83c\udfe0 Po\u010detna"}),"admin"===t.role&&(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("button",{onClick:()=>r("/admin"),className:"nav-btn",children:"\ud83d\udc51 Admin Panel"}),(0,Sv.jsx)("button",{onClick:()=>r("/admin/create-professor"),className:"nav-btn",children:"\u2795 Dodaj Profesora"})]}),"professor"===t.role&&(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("button",{onClick:()=>r("/professor"),className:"nav-btn",children:"\ud83d\udc68\u200d\ud83c\udfeb Profesor Panel"}),(0,Sv.jsx)("button",{onClick:()=>r("/professor/pending"),className:"nav-btn",children:"\ud83d\udc65 Studenti na \u010dekanju"}),(0,Sv.jsx)("button",{onClick:()=>r("/professor/quiz-results"),className:"nav-btn",children:"\ud83d\udcca Rezultati kvizova"}),(0,Sv.jsx)("button",{onClick:()=>r("/professor/delete-students"),className:"nav-btn",children:"\ud83d\uddd1\ufe0f Obri\u0161i Studente"}),(0,Sv.jsx)("button",{onClick:()=>r("/professor/add-questions"),className:"nav-btn",children:"\u2795 Dodaj Pitanja"})]}),"student"===t.role&&i&&(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)("button",{onClick:()=>r("/kviz"),className:"nav-btn",children:"\ud83d\udcdd Zapo\u010dni Kviz"}),(0,Sv.jsx)("button",{onClick:()=>r("/rang-lista"),className:"nav-btn",children:"\ud83c\udfc6 Rang Lista"})]}),"student"===t.role&&!i&&(0,Sv.jsx)("button",{className:"nav-btn disabled",disabled:!0,children:"\u23f3 \u010ceka se odobrenje profesora"})]}),(0,Sv.jsx)("main",{className:"main-content",children:(0,Sv.jsxs)(Ge,{children:[(0,Sv.jsx)(We,{path:"/",element:(0,Sv.jsx)(Pv,{user:t})}),"admin"===t.role&&(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)(We,{path:"/admin",element:(0,Sv.jsx)(Av,{user:t})}),(0,Sv.jsx)(We,{path:"/admin/create-professor",element:(0,Sv.jsx)(Rv,{user:t})})]}),"professor"===t.role&&(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)(We,{path:"/professor",element:(0,Sv.jsx)(Iv,{user:t})}),(0,Sv.jsx)(We,{path:"/professor/pending",element:(0,Sv.jsx)(Ov,{})}),(0,Sv.jsx)(We,{path:"/professor/quiz-results",element:(0,Sv.jsx)(Lv,{})}),(0,Sv.jsx)(We,{path:"/professor/analytics",element:(0,Sv.jsx)(zv,{})}),(0,Sv.jsx)(We,{path:"/professor/add-questions",element:(0,Sv.jsx)(Fv,{})}),(0,Sv.jsx)(We,{path:"/professor/delete-students",element:(0,Sv.jsx)(Dv,{})})]}),"student"===t.role&&i&&(0,Sv.jsxs)(Sv.Fragment,{children:[(0,Sv.jsx)(We,{path:"/kviz",element:(0,Sv.jsx)(jv,{user:t})}),(0,Sv.jsx)(We,{path:"/rang-lista",element:(0,Sv.jsx)(Nv,{})})]}),"student"===t.role&&!i&&(0,Sv.jsx)(We,{path:"*",element:(0,Sv.jsxs)("div",{className:"pending-approval",children:[(0,Sv.jsx)("h2",{children:"\u23f3 \u010ceka se odobrenje"}),(0,Sv.jsx)("p",{children:"Va\u0161 nalog \u010deka odobrenje profesora."}),(0,Sv.jsx)("p",{children:"Mo\u017eete pristupiti aplikaciji tek nakon \u0161to vas profesor odobri."}),(0,Sv.jsx)("p",{children:"Kontaktirajte svog profesora za vi\u0161e informacija."})]})}),(0,Sv.jsx)(We,{path:"*",element:(0,Sv.jsx)(He,{to:"/"})})]})}),(0,Sv.jsx)("footer",{className:"app-footer",children:(0,Sv.jsxs)("div",{className:"footer-content",children:[(0,Sv.jsx)("p",{children:"\xa9 2024 Agilno IT Poslovanje - Platforma za u\u010denje"}),(0,Sv.jsxs)("div",{className:"footer-links",children:[(0,Sv.jsx)("span",{className:"mode-badge ".concat(t.role),children:"admin"===t.role?"\ud83d\udc51 Admin":"professor"===t.role?"\ud83d\udc68\u200d\ud83c\udfeb Profesor":"\ud83d\udc68\u200d\ud83c\udf93 Student"}),(0,Sv.jsxs)("span",{children:["\ud83d\udce7 ",t.email]}),"student"===t.role&&(0,Sv.jsx)("span",{children:t.approved?"\u2705 Odobren":"\u23f3 Na \u010dekanju"})]})]})})]})}function Vv(){return(0,Sv.jsxs)("div",{className:"unauth-container",children:[(0,Sv.jsxs)("div",{className:"unauth-header",children:[(0,Sv.jsx)("h1",{children:"\ud83c\udf93 Agilno IT Poslovanje"}),(0,Sv.jsx)("p",{className:"subtitle",children:"Interaktivna platforma za pripremu ispita"})]}),(0,Sv.jsx)("main",{className:"unauth-main",children:(0,Sv.jsxs)(Ge,{children:[(0,Sv.jsx)(We,{path:"/login",element:(0,Sv.jsx)(Ev,{})}),(0,Sv.jsx)(We,{path:"/register",element:(0,Sv.jsx)(_v,{})}),(0,Sv.jsx)(We,{path:"*",element:(0,Sv.jsx)(He,{to:"/login"})})]})}),(0,Sv.jsxs)("footer",{className:"unauth-footer",children:[(0,Sv.jsx)("p",{children:"Pridru\u017ei se da bi pristupio/la kvizovima i rang listi!"}),(0,Sv.jsxs)("div",{className:"auth-links",children:[(0,Sv.jsx)(jt,{to:"/login",children:"Prijavi se"}),(0,Sv.jsx)("span",{children:"\u2022"}),(0,Sv.jsx)(jt,{to:"/register",children:"Registruj se"})]})]})]})}const Bv=function(){const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{const e=function(e,t,n,r){return fn(e).onAuthStateChanged(t,n,r)}(kv,async e=>{if(e){console.log("\u2705 Firebase user detected:",e.email);try{const n=await zf(Oh(xv,"users",e.uid));if(n.exists()){const r=n.data();t(u({uid:e.uid,email:e.email,name:r.displayName||r.name||e.email,role:r.role||"student",studentId:r.studentId,approved:r.approved||!1},r))}else t({uid:e.uid,email:e.email,name:e.email,role:"student",approved:!1})}catch(n){console.error("Error fetching user data:",n),t({uid:e.uid,email:e.email,name:e.email,role:"student",approved:!1})}}else t(null);i(!1)});return()=>e()},[]),n?(0,Sv.jsxs)("div",{className:"loading-screen",children:[(0,Sv.jsx)("div",{className:"spinner"}),(0,Sv.jsx)("p",{children:"U\u010ditavanje aplikacije..."})]}):(0,Sv.jsx)(Tt,{children:(0,Sv.jsx)("div",{className:"App",children:e?(0,Sv.jsx)(Uv,{user:e,onLogout:async()=>{try{await function(e){return fn(e).signOut()}(kv),t(null)}catch(e){console.error("Error logging out:",e)}}}):(0,Sv.jsx)(Vv,{})})})},qv=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:s}=t;n(e),r(e),i(e),a(e),s(e)})};a.createRoot(document.getElementById("root")).render((0,Sv.jsx)(r.StrictMode,{children:(0,Sv.jsx)(Bv,{})})),qv()})();
//# sourceMappingURL=main.5fdd20e5.js.map